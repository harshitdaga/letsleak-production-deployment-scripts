!function(){var e,t;(function(){t={}}).call(this),function(){(function(){var e=this,n=e._,r={},o=Array.prototype,a=Object.prototype,i=Function.prototype,s=o.push,c=o.slice,l=o.concat,u=a.toString,p=a.hasOwnProperty,d=o.forEach,f=o.map,h=o.reduce,m=o.reduceRight,g=o.filter,v=o.every,y=o.some,b=o.indexOf,_=o.lastIndexOf,w=Array.isArray,T=Object.keys,k=i.bind,S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=S),t._=S):e._=S,S.VERSION="1.5.2";var C=function(e){return"[object Arguments]"===u.call(e)};C(arguments)||(C=function(e){return!(!e||!p.call(e,"callee")||"function"!=typeof e.callee)});var L=function(e){return e.length===+e.length&&(C(e)||e.constructor!==Object)},M=S.each=S.forEach=function(e,t,n){if(null!=e)if(d&&e.forEach===d)e.forEach(t,n);else if(L(e)){for(var o=0,a=e.length;a>o;o++)if(t.call(n,e[o],o,e)===r)return}else for(var i=S.keys(e),o=0,a=i.length;a>o;o++)if(t.call(n,e[i[o]],i[o],e)===r)return};S.map=S.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(M(e,function(e,o,a){r.push(t.call(n,e,o,a))}),r)};var E="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=S.bind(t,r)),o?e.reduce(t,n):e.reduce(t);if(M(e,function(e,a,i){o?n=t.call(r,n,e,a,i):(n=e,o=!0)}),!o)throw new TypeError(E);return n},S.reduceRight=S.foldr=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return r&&(t=S.bind(t,r)),o?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(!L(e)){var i=S.keys(e);a=i.length}if(M(e,function(s,c,l){c=i?i[--a]:--a,o?n=t.call(r,n,e[c],c,l):(n=e[c],o=!0)}),!o)throw new TypeError(E);return n},S.find=S.detect=function(e,t,n){var r;return x(e,function(e,o,a){return t.call(n,e,o,a)?(r=e,!0):void 0}),r},S.filter=S.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(M(e,function(e,o,a){t.call(n,e,o,a)&&r.push(e)}),r)},S.reject=function(e,t,n){return S.filter(e,function(e,r,o){return!t.call(n,e,r,o)},n)},S.every=S.all=function(e,t,n){t||(t=S.identity);var o=!0;return null==e?o:v&&e.every===v?e.every(t,n):(M(e,function(e,a,i){return(o=o&&t.call(n,e,a,i))?void 0:r}),!!o)};var x=S.some=S.any=function(e,t,n){t||(t=S.identity);var o=!1;return null==e?o:y&&e.some===y?e.some(t,n):(M(e,function(e,a,i){return o||(o=t.call(n,e,a,i))?r:void 0}),!!o)};S.contains=S.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):x(e,function(e){return e===t})},S.invoke=function(e,t){var n=c.call(arguments,2),r=S.isFunction(t);return S.map(e,function(e){return(r?t:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.where=function(e,t,n){return S.isEmpty(t)?n?void 0:[]:S[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},S.findWhere=function(e,t){return S.where(e,t,!0)},S.max=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return M(e,function(e,o,a){var i=t?t.call(n,e,o,a):e;i>r.computed&&(r={value:e,computed:i})}),r.value},S.min=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return M(e,function(e,o,a){var i=t?t.call(n,e,o,a):e;i<r.computed&&(r={value:e,computed:i})}),r.value},S.shuffle=function(e){var t,n=0,r=[];return M(e,function(e){t=S.random(n++),r[n-1]=r[t],r[t]=e}),r},S.sample=function(e,t,n){return arguments.length<2||n?e[S.random(e.length-1)]:S.shuffle(e).slice(0,Math.max(0,t))};var A=function(e){return S.isFunction(e)?e:function(t){return t[e]}};S.sortBy=function(e,t,n){var r=A(t);return S.pluck(S.map(e,function(e,t,o){return{value:e,index:t,criteria:r.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var P=function(e){return function(t,n,r){var o={},a=null==n?S.identity:A(n);return M(t,function(n,i){var s=a.call(r,n,i,t);e(o,s,n)}),o}};S.groupBy=P(function(e,t,n){(S.has(e,t)?e[t]:e[t]=[]).push(n)}),S.indexBy=P(function(e,t,n){e[t]=n}),S.countBy=P(function(e,t){S.has(e,t)?e[t]++:e[t]=1}),S.sortedIndex=function(e,t,n,r){n=null==n?S.identity:A(n);for(var o=n.call(r,t),a=0,i=e.length;i>a;){var s=a+i>>>1;n.call(r,e[s])<o?a=s+1:i=s}return a},S.toArray=function(e){return e?S.isArray(e)?c.call(e):L(e)?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:L(e)?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:c.call(e,0,t)},S.initial=function(e,t,n){return c.call(e,0,e.length-(null==t||n?1:t))},S.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},S.rest=S.tail=S.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var I=function(e,t,n){return t&&S.every(e,S.isArray)?l.apply(n,e):(M(e,function(e){S.isArray(e)||S.isArguments(e)?t?s.apply(n,e):I(e,t,n):n.push(e)}),n)};S.flatten=function(e,t){return I(e,t,[])},S.without=function(e){return S.difference(e,c.call(arguments,1))},S.uniq=S.unique=function(e,t,n,r){S.isFunction(t)&&(r=n,n=t,t=!1);var o=n?S.map(e,n,r):e,a=[],i=[];return M(o,function(n,r){(t?r&&i[i.length-1]===n:S.contains(i,n))||(i.push(n),a.push(e[r]))}),a},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(e){var t=c.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e){var t=l.apply(o,c.call(arguments,1));return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){for(var e=S.max(S.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=S.pluck(arguments,""+n);return t},S.object=function(e,t){if(null==e)return{};for(var n={},r=0,o=e.length;o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},S.indexOf=function(e,t,n){if(null==e)return-1;var r=0,o=e.length;if(n){if("number"!=typeof n)return r=S.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,o+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;o>r;r++)if(e[r]===t)return r;return-1},S.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(_&&e.lastIndexOf===_)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=r?n:e.length;o--;)if(e[o]===t)return o;return-1},S.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=0,a=new Array(r);r>o;)a[o++]=e,e+=n;return a};var N=function(){};S.bind=function(e,t){var n,r;if(k&&e.bind===k)return k.apply(e,c.call(arguments,1));if(!S.isFunction(e))throw new TypeError;return n=c.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(c.call(arguments)));N.prototype=e.prototype;var o=new N;N.prototype=null;var a=e.apply(o,n.concat(c.call(arguments)));return Object(a)===a?a:o}},S.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}},S.bindAll=function(e){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return M(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var n={};return t||(t=S.identity),function(){var r=t.apply(this,arguments);return S.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},S.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(c.call(arguments,1)))},S.throttle=function(e,t,n){var r,o,a,i=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:new Date,i=null,a=e.apply(r,o)};return function(){var l=new Date;s||n.leading!==!1||(s=l);var u=t-(l-s);return r=this,o=arguments,0>=u?(clearTimeout(i),i=null,s=l,a=e.apply(r,o)):i||n.trailing===!1||(i=setTimeout(c,u)),a}},S.debounce=function(e,t,n){var r,o,a,i,s;return function(){a=this,o=arguments,i=new Date;var c=function(){var l=new Date-i;t>l?r=setTimeout(c,t-l):(r=null,n||(s=e.apply(a,o)))},l=n&&!r;return r||(r=setTimeout(c,t)),l&&(s=e.apply(a,o)),s}},S.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},S.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},S.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},S.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},S.keys=T||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)S.has(e,n)&&t.push(n);return t},S.values=function(e){for(var t=S.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=e[t[o]];return r},S.pairs=function(e){for(var t=S.keys(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},S.invert=function(e){for(var t={},n=S.keys(e),r=0,o=n.length;o>r;r++)t[e[n[r]]]=n[r];return t},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(e){return M(c.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},S.pick=function(e){var t={},n=l.apply(o,c.call(arguments,1));return M(n,function(n){n in e&&(t[n]=e[n])}),t},S.omit=function(e){var t={},n=l.apply(o,c.call(arguments,1));for(var r in e)S.contains(n,r)||(t[r]=e[r]);return t},S.defaults=function(e){return M(c.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e};var D=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var o=u.call(e);if(o!=u.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;var i=e.constructor,s=t.constructor;if(i!==s&&!(S.isFunction(i)&&i instanceof i&&S.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var c=0,l=!0;if("[object Array]"==o){if(c=e.length,l=c==t.length)for(;c--&&(l=D(e[c],t[c],n,r)););}else{for(var p in e)if(S.has(e,p)&&(c++,!(l=S.has(t,p)&&D(e[p],t[p],n,r))))break;if(l){for(p in t)if(S.has(t,p)&&!c--)break;l=!c}}return n.pop(),r.pop(),l};S.isEqual=function(e,t){return D(e,t,[],[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=w||function(e){return"[object Array]"==u.call(e)},S.isObject=function(e){return e===Object(e)},M(["Arguments","Function","String","Number","Date","RegExp"],function(e){S["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(e){return"function"==typeof e}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!=+e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return p.call(e,t)},S.noConflict=function(){return e._=n,this},S.identity=function(e){return e},S.times=function(e,t,n){for(var r=Array(Math.max(0,e)),o=0;e>o;o++)r[o]=t.call(n,o);return r},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};H.unescape=S.invert(H.escape);var B={escape:new RegExp("["+S.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(H.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(e){S[e]=function(t){return null==t?"":(""+t).replace(B[e],function(t){return H[e][t]})}}),S.result=function(e,t){if(null==e)return void 0;var n=e[t];return S.isFunction(n)?n.call(e):n},S.mixin=function(e){M(S.functions(e),function(t){var n=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),U.call(this,n.apply(S,e))}})};var R=0;S.uniqueId=function(e){var t=++R+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(e,t,n){var r;n=S.defaults({},n,S.templateSettings);var o=new RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),a=0,i="__p+='";e.replace(o,function(t,n,r,o,s){return i+=e.slice(a,s).replace($,function(e){return"\\"+V[e]}),n&&(i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(i+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(i+="';\n"+o+"\n__p+='"),a=s+t.length,t}),i+="';\n",n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{r=new Function(n.variable||"obj","_",i)}catch(s){throw s.source=i,s}if(t)return r(t,S);var c=function(e){return r.call(this,e,S)};return c.source="function("+(n.variable||"obj")+"){\n"+i+"}",c},S.chain=function(e){return S(e).chain()};var U=function(e){return this._chain?S(e).chain():e};S.mixin(S),M(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];S.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],U.call(this,n)}}),M(["concat","join","slice"],function(e){var t=o[e];S.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){e=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:e}}(),function(){var e,t=Package.underscore._;(function(){e={isClient:!0,isServer:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var r=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(e){for(var t=1;t<arguments.length;t++){if(!(arguments[t]in e))return void 0;e=e[arguments[t]]}return e},_ensure:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];n in e||(e[n]={}),e=e[n]}return e},_delete:function(e){for(var t=[e],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in e)){n=!1;break}if(e=e[o],"object"!=typeof e)break;t.push(e)}for(var r=t.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var a in t[r][o])return;delete t[r][o]}},wrapAsync:function(o,a){return function(){for(var i,s=a||this,c=t.toArray(arguments),l=c.length-1;l>=0;--l){var u=c[l],p=typeof u;if("undefined"!==p){"function"===p&&(i=u);break}}if(!i){if(e.isClient)i=n;else{var d=new r;i=d.resolver()}++l}c[l]=e.bindEnvironment(i);var f=o.apply(s,c);return d?d.wait():f}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var e=function(e){o.setImmediate(e)};return e.implementation="setImmediate",e}return null}function n(){function e(e,t){return"string"==typeof e&&e.substring(0,t.length)===t}function t(t){if(t.source===o&&e(t.data,s)){var n=t.data.substring(s.length);try{i[n]&&i[n]()}finally{delete i[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var a=0,i={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",t,!1):o.attachEvent("onmessage",t);var c=function(e){++a,i[a]=e,o.postMessage(s+a,"*")};return c.implementation="postMessage",c}function r(){var e=function(e){o.setTimeout(e,0)};return e.implementation="setTimeout",e}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(e){if(Package.ddp){var t=Package.ddp.DDP._CurrentInvocation;if(t.get()&&t.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){t.withValue(null,e)}}return e},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(e,t){return setTimeout(r("setTimeout callback",e),t)},setInterval:function(e,t){return setInterval(r("setInterval callback",e),t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(e,t,n){var r=this;r.error=e,r.reason=t,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(e){return e()},e._SynchronousQueue=function(){var e=this;e._tasks=[],e._running=!1,e._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0,r._runTimeout&&(clearTimeout(r._runTimeout),r._runTimeout=null);try{for(;!t.isEmpty(o);){var a=o.shift();try{a()}catch(i){if(t.isEmpty(o))throw i;e._debug("Exception in queued task: "+i.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var e=this;e.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var e=this;return!e._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),r=function(){for(n=!0;t.length;)t.shift()()};if(document.addEventListener){var o=e.isCordova?"deviceready":"DOMContentLoaded";document.addEventListener(o,r,!1),window.addEventListener("load",r,!1)}else document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r()}),window.attachEvent("load",r);e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(a){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(e,t){var n=r[this.slot];try{r[this.slot]=e;var o=t()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,a){var i=t.clone(r);if(!o||"string"==typeof o){var s=o||"callback of async function";o=function(t){e._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var e=r;try{r=i;var s=n.apply(a,t.toArray(arguments))}catch(c){o(c)}finally{r=e}return s}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(e){return"object"==typeof __meteor_runtime_config__&&"/"===e.substr(0,1)&&(e=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+e),e}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["standard-app-packages"]={}}(),function(){{var e,t;Package.meteor.Meteor}(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=at.type(e);return"function"===n||at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(at.isFunction(t))return at.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return at.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return at.filter(t,e,n);t=at.filter(t,e)}return at.grep(e,function(e){return at.inArray(e,t)>=0!==n})}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=wt[e]={};return at.each(e.match(_t)||[],function(e,n){t[n]=!0}),t}function i(){mt.addEventListener?(mt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(mt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(mt.addEventListener||"load"===event.type||"complete"===mt.readyState)&&(i(),at.ready())}function c(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Lt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ct.test(n)?at.parseJSON(n):n}catch(o){}at.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!at.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,r){if(at.acceptData(e)){var o,a,i=at.expando,s=e.nodeType,c=s?at.cache:e,l=s?e[i]:e[i]&&i;if(l&&c[l]&&(r||c[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[i]=G.pop()||at.guid++:i),c[l]||(c[l]=s?{}:{toJSON:at.noop}),("object"==typeof t||"function"==typeof t)&&(r?c[l]=at.extend(c[l],t):c[l].data=at.extend(c[l].data,t)),a=c[l],r||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[at.camelCase(t)]=n),"string"==typeof t?(o=a[t],null==o&&(o=a[at.camelCase(t)])):o=a,o}}function p(e,t,n){if(at.acceptData(e)){var r,o,a=e.nodeType,i=a?at.cache:e,s=a?e[at.expando]:at.expando;if(i[s]){if(t&&(r=n?i[s]:i[s].data)){at.isArray(t)?t=t.concat(at.map(t,at.camelCase)):t in r?t=[t]:(t=at.camelCase(t),t=t in r?[t]:t.split(" ")),o=t.length;for(;o--;)delete r[t[o]];if(n?!l(r):!at.isEmptyObject(r))return}(n||(delete i[s].data,l(i[s])))&&(a?at.cleanData([e],!0):rt.deleteExpando||i!=i.window?delete i[s]:i[s]=null)}}}function d(){return!0}function f(){return!1}function h(){try{return mt.activeElement}catch(e){}}function m(e){var t=Rt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,o=0,a=typeof e.getElementsByTagName!==St?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==St?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||at.nodeName(r,t)?a.push(r):at.merge(a,g(r,t));return void 0===t||t&&at.nodeName(e,t)?at.merge([e],a):a}function v(e){Pt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return at.nodeName(e,"table")&&at.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==at.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Gt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)at._data(n,"globalEval",!t||at._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&at.hasData(e)){var n,r,o,a=at._data(e),i=at._data(t,a),s=a.events;if(s){delete i.handle,i.events={};for(n in s)for(r=0,o=s[n].length;o>r;r++)at.event.add(t,n,s[n][r])}i.data&&(i.data=at.extend({},i.data))}}function k(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!rt.noCloneEvent&&t[at.expando]){o=at._data(t);for(r in o.events)at.removeEvent(t,r,o.handle);t.removeAttribute(at.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),rt.html5Clone&&e.innerHTML&&!at.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Pt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function S(t,n){var r=at(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle?e.getDefaultComputedStyle(r[0]).display:at.css(r[0],"display");return r.detach(),o}function C(e){var t=mt,n=en[e];return n||(n=S(e,t),"none"!==n&&n||(Zt=(Zt||at("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=S(e,t),Zt.detach()),en[e]=n),n}function L(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,o=hn.length;o--;)if(t=hn[o]+n,t in e)return t;return r}function E(e,t){for(var n,r,o,a=[],i=0,s=e.length;s>i;i++)r=e[i],r.style&&(a[i]=at._data(r,"olddisplay"),n=r.style.display,t?(a[i]||"none"!==n||(r.style.display=""),""===r.style.display&&xt(r)&&(a[i]=at._data(r,"olddisplay",C(r.nodeName)))):a[i]||(o=xt(r),(n&&"none"!==n||!o)&&at._data(r,"olddisplay",o?n:at.css(r,"display"))));for(i=0;s>i;i++)r=e[i],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[i]||"":"none"));return e}function x(e,t,n){var r=un.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function A(e,t,n,r,o){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,i=0;4>a;a+=2)"margin"===n&&(i+=at.css(e,n+Et[a],!0,o)),r?("content"===n&&(i-=at.css(e,"padding"+Et[a],!0,o)),"margin"!==n&&(i-=at.css(e,"border"+Et[a]+"Width",!0,o))):(i+=at.css(e,"padding"+Et[a],!0,o),"padding"!==n&&(i+=at.css(e,"border"+Et[a]+"Width",!0,o)));return i}function P(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=tn(e),i=rt.boxSizing()&&"border-box"===at.css(e,"boxSizing",!1,a);if(0>=o||null==o){if(o=nn(e,t,a),(0>o||null==o)&&(o=e.style[t]),on.test(o))return o;r=i&&(rt.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+A(e,t,n||(i?"border":"content"),r,a)+"px"}function I(e,t,n,r,o){return new I.prototype.init(e,t,n,r,o)}function N(){return setTimeout(function(){mn=void 0}),mn=at.now()}function D(e,t){var n,r={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Et[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var r,o=(wn[t]||[]).concat(wn["*"]),a=0,i=o.length;i>a;a++)if(r=o[a].call(n,t,e))return r}function B(e,t,n){var r,o,a,i,s,c,l,u,p=this,d={},f=e.style,h=e.nodeType&&xt(e),m=at._data(e,"fxshow");n.queue||(s=at._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,at.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=at.css(e,"display"),u=C(e.nodeName),"none"===l&&(l=u),"inline"===l&&"none"===at.css(e,"float")&&(rt.inlineBlockNeedsLayout&&"inline"!==u?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",rt.shrinkWrapBlocks()||p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],vn.exec(o)){if(delete t[r],a=a||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||at.style(e,r)}if(!at.isEmptyObject(d)){m?"hidden"in m&&(h=m.hidden):m=at._data(e,"fxshow",{}),a&&(m.hidden=!h),h?at(e).show():p.done(function(){at(e).hide()}),p.done(function(){var t;at._removeData(e,"fxshow");for(t in d)at.style(e,t,d[t])});for(r in d)i=H(h?m[r]:0,r,p),r in m||(m[r]=i.start,h&&(i.end=i.start,i.start="width"===r||"height"===r?1:0))}}function R(e,t){var n,r,o,a,i;for(n in e)if(r=at.camelCase(n),o=t[r],a=e[n],at.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),i=at.cssHooks[r],i&&"expand"in i){a=i.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[r]=o}function O(e,t,n){var r,o,a=0,i=_n.length,s=at.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=mn||N(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,a=1-r,i=0,c=l.tweens.length;c>i;i++)l.tweens[i].run(a);return s.notifyWith(e,[l,a,n]),1>a&&c?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mn||N(),duration:n.duration,tweens:[],createTween:function(t,n){var r=at.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for(R(u,l.opts.specialEasing);i>a;a++)if(r=_n[a].call(l,e,u,l.opts))return r;return at.map(u,H,l),at.isFunction(l.opts.start)&&l.opts.start.call(e,l),at.fx.timer(at.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,a=t.toLowerCase().match(_t)||[];if(at.isFunction(n))for(;r=a[o++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function $(e,t,n,r){function o(s){var c;return a[s]=!0,at.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||i||a[l]?i?!(c=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),c}var a={},i=e===qn;return o(t.dataTypes[0])||!a["*"]&&o("*")}function U(e,t){var n,r,o=at.ajaxSettings.flatOptions||{};
for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&at.extend(!0,e,n),e}function F(e,t,n){for(var r,o,a,i,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in s)if(s[i]&&s[i].test(o)){c.unshift(i);break}if(c[0]in n)a=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){a=i;break}r||(r=i)}a=a||r}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}function j(e,t,n,r){var o,a,i,s,c,l={},u=e.dataTypes.slice();if(u[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=a,a=u.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(i=l[c+" "+a]||l["* "+a],!i)for(o in l)if(s=o.split(" "),s[1]===a&&(i=l[c+" "+s[0]]||l["* "+s[0]])){i===!0?i=l[o]:l[o]!==!0&&(a=s[0],u.unshift(s[1]));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(p){return{state:"parsererror",error:i?p:"No conversion from "+c+" to "+a}}}return{state:"success",data:t}}function z(e,t,n,r){var o;if(at.isArray(t))at.each(t,function(t,o){n||Jn.test(e)?r(e,o):z(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==at.type(t))r(e,t);else for(o in t)z(e+"["+o+"]",t[o],n,r)}function q(){try{return new e.XMLHttpRequest}catch(t){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return at.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],J=G.slice,X=G.concat,Q=G.push,K=G.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,rt={},ot="1.11.0",at=function(e,t){return new at.fn.init(e,t)},it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,ct=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};at.fn=at.prototype={jquery:ot,constructor:at,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},at.extend=at.fn.extend=function(){var e,t,n,r,o,a,i=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[s]||{},s++),"object"==typeof i||at.isFunction(i)||(i={}),s===c&&(i=this,s--);c>s;s++)if(null!=(o=arguments[s]))for(r in o)e=i[r],n=o[r],i!==n&&(l&&n&&(at.isPlainObject(n)||(t=at.isArray(n)))?(t?(t=!1,a=e&&at.isArray(e)?e:[]):a=e&&at.isPlainObject(e)?e:{},i[r]=at.extend(l,a,n)):void 0!==n&&(i[r]=n));return i},at.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray||function(e){return"array"===at.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(rt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&at.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(ct,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var o,a=0,i=e.length,s=n(e);if(r){if(s)for(;i>a&&(o=t.apply(e[a],r),o!==!1);a++);else for(a in e)if(o=t.apply(e[a],r),o===!1)break}else if(s)for(;i>a&&(o=t.call(e[a],a,e[a]),o!==!1);a++);else for(a in e)if(o=t.call(e[a],a,e[a]),o===!1)break;return e},trim:nt&&!nt.call("﻿ ")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(it,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?at.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;)e[o++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[o++]=t[r++];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],a=0,i=e.length,s=!n;i>a;a++)r=!t(e[a],a),r!==s&&o.push(e[a]);return o},map:function(e,t,r){var o,a=0,i=e.length,s=n(e),c=[];if(s)for(;i>a;a++)o=t(e[a],a,r),null!=o&&c.push(o);else for(a in e)o=t(e[a],a,r),null!=o&&c.push(o);return X.apply([],c)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(o=e[t],t=e,e=o),at.isFunction(e)?(n=J.call(arguments,2),r=function(){return e.apply(t||this,n.concat(J.call(arguments)))},r.guid=e.guid=e.guid||at.guid++,r):void 0},now:function(){return+new Date},support:rt}),at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ut=function(e){function t(e,t,n,r){var o,a,i,s,c,l,p,h,m,g;if((t?t.ownerDocument||t:$)!==I&&P(t),t=t||I,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(D&&!r){if(o=yt.exec(e))if(i=o[1]){if(9===s){if(a=t.getElementById(i),!a||!a.parentNode)return n;if(a.id===i)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(i))&&O(t,a)&&a.id===i)return n.push(a),n}else{if(o[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=o[3])&&k.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(k.qsa&&(!H||!H.test(e))){if(h=p=V,m=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=d(e),(p=t.getAttribute("id"))?h=p.replace(_t,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",c=l.length;c--;)l[c]=h+f(l[c]);m=bt.test(e)&&u(t.parentNode)||t,g=l.join(",")}if(g)try{return Z.apply(n,m.querySelectorAll(g)),n}catch(v){}finally{p||t.removeAttribute("id")}}}return w(e.replace(ct,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[V]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)S.attrHandle[n[r]]=t}function i(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var o,a=e([],n.length,t),i=a.length;i--;)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))})})}function u(e){return e&&typeof e.getElementsByTagName!==Y&&e}function p(){}function d(e,n){var r,o,a,i,s,c,l,u=z[e+" "];if(u)return n?0:u.slice(0);for(s=e,c=[],l=S.preFilter;s;){(!r||(o=lt.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),c.push(a=[])),r=!1,(o=ut.exec(s))&&(r=o.shift(),a.push({value:r,type:o[0].replace(ct," ")}),s=s.slice(r.length));for(i in S.filter)!(o=ht[i].exec(s))||l[i]&&!(o=l[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,c).slice(0)}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=F++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,i){var s,c,l=[U,a];if(i){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,i))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[V]||(t[V]={}),(s=c[r])&&s[0]===U&&s[1]===a)return l[2]=s[2];if(c[r]=l,l[2]=e(t,n,i))return!0}}}function m(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,o){for(var a,i=[],s=0,c=e.length,l=null!=t;c>s;s++)(a=e[s])&&(!n||n(a,r,o))&&(i.push(a),l&&t.push(s));return i}function v(e,t,n,o,a,i){return o&&!o[V]&&(o=v(o)),a&&!a[V]&&(a=v(a,i)),r(function(r,i,s,c){var l,u,p,d=[],f=[],h=i.length,m=r||_(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,d,e,s,c),y=n?a||(r?e:h||o)?[]:i:v;if(n&&n(v,y,s,c),o)for(l=g(y,f),o(l,[],s,c),u=l.length;u--;)(p=l[u])&&(y[f[u]]=!(v[f[u]]=p));if(r){if(a||e){if(a){for(l=[],u=y.length;u--;)(p=y[u])&&l.push(v[u]=p);a(null,y=[],l,c)}for(u=y.length;u--;)(p=y[u])&&(l=a?tt.call(r,p):d[u])>-1&&(r[l]=!(i[l]=p))}}else y=g(y===i?y.splice(h,y.length):y),a?a(null,i,y,c):Z.apply(i,y)})}function y(e){for(var t,n,r,o=e.length,a=S.relative[e[0].type],i=a||S.relative[" "],s=a?1:0,c=h(function(e){return e===t},i,!0),l=h(function(e){return tt.call(t,e)>-1},i,!0),u=[function(e,n,r){return!a&&(r||n!==E)||((t=n).nodeType?c(e,n,r):l(e,n,r))}];o>s;s++)if(n=S.relative[e[s].type])u=[h(m(u),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[V]){for(r=++s;o>r&&!S.relative[e[r].type];r++);return v(s>1&&m(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,r>s&&y(e.slice(s,r)),o>r&&y(e=e.slice(r)),o>r&&f(e))}u.push(n)}return m(u)}function b(e,n){var o=n.length>0,a=e.length>0,i=function(r,i,s,c,l){var u,p,d,f=0,h="0",m=r&&[],v=[],y=E,b=r||a&&S.find.TAG("*",l),_=U+=null==y?1:Math.random()||.1,w=b.length;for(l&&(E=i!==I&&i);h!==w&&null!=(u=b[h]);h++){if(a&&u){for(p=0;d=e[p++];)if(d(u,i,s)){c.push(u);break}l&&(U=_)}o&&((u=!d&&u)&&f--,r&&m.push(u))}if(f+=h,o&&h!==f){for(p=0;d=n[p++];)d(m,v,i,s);if(r){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(c));v=g(v)}Z.apply(c,v),l&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(c)}return l&&(U=_,E=y),m};return o?r(i):i}function _(e,n,r){for(var o=0,a=n.length;a>o;o++)t(e,n[o],r);return r}function w(e,t,n,r){var o,a,i,s,c,l=d(e);if(!r&&1===l.length){if(a=l[0]=l[0].slice(0),a.length>2&&"ID"===(i=a[0]).type&&k.getById&&9===t.nodeType&&D&&S.relative[a[1].type]){if(t=(S.find.ID(i.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;e=e.slice(a.shift().value.length)}for(o=ht.needsContext.test(e)?0:a.length;o--&&(i=a[o],!S.relative[s=i.type]);)if((c=S.find[s])&&(r=c(i.matches[0].replace(wt,Tt),bt.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(o,1),e=r.length&&f(a),!e)return Z.apply(n,r),n;break}}return M(e,l)(r,t,!D,n,bt.test(e)&&u(t.parentNode)||t),n}var T,k,S,C,L,M,E,x,A,P,I,N,D,H,B,R,O,V="sizzle"+-new Date,$=e.document,U=0,F=0,j=n(),z=n(),q=n(),W=function(e,t){return e===t&&(A=!0),0},Y="undefined",G=1<<31,J={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,et=X.slice,tt=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=ot.replace("w","w#"),it="\\["+rt+"*("+ot+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+rt+"*\\]",st=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),lt=new RegExp("^"+rt+"*,"+rt+"*"),ut=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),pt=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),dt=new RegExp(st),ft=new RegExp("^"+at+"$"),ht={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,_t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(X=et.call($.childNodes),$.childNodes),X[$.childNodes.length].nodeType}catch(kt){Z={apply:X.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}k=t.support={},L=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:$,r=n.defaultView;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,N=n.documentElement,D=!L(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){P()},!1):r.attachEvent&&r.attachEvent("onunload",function(){P()})),k.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=vt.test(n.getElementsByClassName)&&o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=o(function(e){return N.appendChild(e).id=V,!n.getElementsByName||!n.getElementsByName(V).length}),k.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==Y&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=k.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&r.push(n);return r}return a},S.find.CLASS=k.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&D?t.getElementsByClassName(e):void 0},B=[],H=[],(k.qsa=vt.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&H.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(k.matchesSelector=vt.test(R=N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(e){k.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),B.push("!=",st)}),H=H.length&&new RegExp(H.join("|")),B=B.length&&new RegExp(B.join("|")),t=vt.test(N.compareDocumentPosition),O=t||vt.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!k.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===$&&O($,e)?-1:t===n||t.ownerDocument===$&&O($,t)?1:x?tt.call(x,e)-tt.call(x,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,o=0,a=e.parentNode,s=t.parentNode,c=[e],l=[t];if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:x?tt.call(x,e)-tt.call(x,t):0;if(a===s)return i(e,t);for(r=e;r=r.parentNode;)c.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;c[o]===l[o];)o++;return o?i(c[o],l[o]):c[o]===$?-1:l[o]===$?1:0},n):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&P(e),n=n.replace(pt,"='$1']"),!(!k.matchesSelector||!D||B&&B.test(n)||H&&H.test(n)))try{var r=R.call(e,n);if(r||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&P(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&P(e);var n=S.attrHandle[t.toLowerCase()],r=n&&J.call(S.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==r?r:k.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(A=!k.detectDuplicates,x=!k.sortStable&&e.slice(0),e.sort(W),A){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return x=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&dt.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var a=t.attr(o,e);return null==a?"!="===n:n?(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a+" ").indexOf(r)>-1:"|="===n?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var l,u,p,d,f,h,m=a!==i?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s;if(g){if(a){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[i?g.firstChild:g.lastChild],i&&y){for(u=g[V]||(g[V]={}),l=u[e]||[],f=l[0]===U&&l[1],d=l[0]===U&&l[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(d=f=0)||h.pop();)if(1===p.nodeType&&++d&&p===t){u[e]=[U,f,d];break}}else if(y&&(l=(t[V]||(t[V]={}))[e])&&l[0]===U)d=l[1];else for(;(p=++f&&p&&p[m]||(d=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++d||(y&&((p[V]||(p[V]={}))[e]=[U,d]),p!==t)););return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var o,a=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[V]?a(n):a.length>1?(o=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=a(e,n),i=o.length;i--;)r=tt.call(e,o[i]),e[r]=!(t[r]=o[i])}):function(e){return a(e,0,o)}):a}},pseudos:{not:r(function(e){var t=[],n=[],o=M(e.replace(ct,"$1"));return o[V]?r(function(e,t,n,r){for(var a,i=o(e,null,r,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,o(t,null,a,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[T]=s(T);for(T in{submit:!0,reset:!0})S.pseudos[T]=c(T);return p.prototype=S.filters=S.pseudos,S.setFilters=new p,M=t.compile=function(e,t){var n,r=[],o=[],a=q[e+" "];if(!a){for(t||(t=d(e)),n=t.length;n--;)a=y(t[n]),a[V]?r.push(a):o.push(a);a=q(e,b(o,r))}return a},k.sortStable=V.split("").sort(W).join("")===V,k.detectDuplicates=!!A,P(),k.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);at.find=ut,at.expr=ut.selectors,at.expr[":"]=at.expr.pseudos,at.unique=ut.uniqueSort,at.text=ut.getText,at.isXMLDoc=ut.isXML,at.contains=ut.contains;var pt=at.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;at.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?at.find.matchesSelector(r,e)?[r]:[]:at.find.matches(e,at.grep(t,function(e){return 1===e.nodeType}))},at.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(at(e).filter(function(){for(t=0;o>t;t++)if(at.contains(r[t],this))return!0}));for(t=0;o>t;t++)at.find(e,r[t],n);return n=this.pushStack(o>1?at.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&pt.test(e)?at(e):e||[],!1).length}});var ht,mt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=at.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ht).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof at?t[0]:t,at.merge(this,at.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:mt,!0)),dt.test(n[1])&&at.isPlainObject(t))for(n in t)at.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=mt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return ht.find(e);this.length=1,this[0]=r}return this.context=mt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?"undefined"!=typeof ht.ready?ht.ready(e):e(at):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))};vt.prototype=at.fn,ht=at(mt);var yt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};at.extend({dir:function(e,t,n){for(var r=[],o=e[t];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!at(o).is(n));)1===o.nodeType&&r.push(o),o=o[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),at.fn.extend({has:function(e){var t,n=at(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(at.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,a=[],i=pt.test(e)||"string"!=typeof e?at(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&at.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?at.unique(a):a)},index:function(e){return e?"string"==typeof e?at.inArray(this[0],at(e)):at.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(at.unique(at.merge(this.get(),at(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return at.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,r){var o=at.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=at.filter(r,o)),this.length>1&&(bt[e]||(o=at.unique(o)),yt.test(e)&&(o=o.reverse())),this.pushStack(o)}});var _t=/\S+/g,wt={};at.Callbacks=function(e){e="string"==typeof e?wt[e]||a(e):at.extend({},e);var t,n,r,o,i,s,c=[],l=!e.once&&[],u=function(a){for(n=e.memory&&a,r=!0,i=s||0,s=0,o=c.length,t=!0;c&&o>i;i++)if(c[i].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,c&&(l?l.length&&u(l.shift()):n?c=[]:p.disable())},p={add:function(){if(c){var r=c.length;!function a(t){at.each(t,function(t,n){var r=at.type(n);"function"===r?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==r&&a(n)})}(arguments),t?o=c.length:n&&(s=r,u(n))}return this},remove:function(){return c&&at.each(arguments,function(e,n){for(var r;(r=at.inArray(n,c,r))>-1;)c.splice(r,1),t&&(o>=r&&o--,i>=r&&i--)}),this},has:function(e){return e?at.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||p.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!c||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):u(n)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,a){var i=at.isFunction(e[t])&&e[t];o[a[1]](function(){var e=i&&i.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,i?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,r):r}},o={};return r.pipe=r.then,at.each(t,function(e,a){var i=a[2],s=a[3];r[a[1]]=i.add,s&&i.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?r:this,arguments),this},o[a[0]+"With"]=i.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,a=J.call(arguments),i=a.length,s=1!==i||e&&at.isFunction(e.promise)?i:0,c=1===s?e:at.Deferred(),l=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?J.call(arguments):o,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(i>1)for(t=new Array(i),n=new Array(i),r=new Array(i);i>o;o++)a[o]&&at.isFunction(a[o].promise)?a[o].promise().done(l(o,r,a)).fail(c.reject).progress(l(o,n,t)):--s;return s||c.resolveWith(r,a),c.promise()}});var Tt;at.fn.ready=function(e){return at.ready.promise().done(e),this},at.extend({isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){if(e===!0?!--at.readyWait:!at.isReady){if(!mt.body)return setTimeout(at.ready);at.isReady=!0,e!==!0&&--at.readyWait>0||(Tt.resolveWith(mt,[at]),at.fn.trigger&&at(mt).trigger("ready").off("ready"))}}}),at.ready.promise=function(t){if(!Tt)if(Tt=at.Deferred(),"complete"===mt.readyState)setTimeout(at.ready);else if(mt.addEventListener)mt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{mt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&mt.documentElement}catch(r){}n&&n.doScroll&&!function o(){if(!at.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}i(),at.ready()}}()}return Tt.promise(t)};var kt,St="undefined";for(kt in at(rt))break;rt.ownLast="0"!==kt,rt.inlineBlockNeedsLayout=!1,at(function(){var e,t,n=mt.getElementsByTagName("body")[0];n&&(e=mt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=mt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==St&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(rt.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=mt.createElement("div");if(null==rt.deleteExpando){rt.deleteExpando=!0;try{delete e.test}catch(t){rt.deleteExpando=!1}}e=null}(),at.acceptData=function(e){var t=at.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lt=/([A-Z])/g;at.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?at.cache[e[at.expando]]:e[at.expando],!!e&&!l(e)
},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return p(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return p(e,t,!0)}}),at.fn.extend({data:function(e,t){var n,r,o,a=this[0],i=a&&a.attributes;if(void 0===e){if(this.length&&(o=at.data(a),1===a.nodeType&&!at._data(a,"parsedAttrs"))){for(n=i.length;n--;)r=i[n].name,0===r.indexOf("data-")&&(r=at.camelCase(r.slice(5)),c(a,r,o[r]));at._data(a,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){at.data(this,e)}):arguments.length>1?this.each(function(){at.data(this,e,t)}):a?c(a,e,at.data(a,e)):void 0},removeData:function(e){return this.each(function(){at.removeData(this,e)})}}),at.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=at._data(e,t),n&&(!r||at.isArray(n)?r=at._data(e,t,at.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),r=n.length,o=n.shift(),a=at._queueHooks(e,t),i=function(){at.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,i,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return at._data(e,n)||at._data(e,n,{empty:at.Callbacks("once memory").add(function(){at._removeData(e,t+"queue"),at._removeData(e,n)})})}}),at.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?at.queue(this[0],e):void 0===t?this:this.each(function(){var n=at.queue(this,e,t);at._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=at.Deferred(),a=this,i=this.length,s=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)n=at._data(a[i],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],xt=function(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)},At=at.access=function(e,t,n,r,o,a,i){var s=0,c=e.length,l=null==n;if("object"===at.type(n)){o=!0;for(s in n)at.access(e,t,s,n[s],!0,a,i)}else if(void 0!==r&&(o=!0,at.isFunction(r)||(i=!0),l&&(i?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(at(e),n)})),t))for(;c>s;s++)t(e[s],n,i?r:r.call(e[s],s,t(e[s],n)));return o?e:l?t.call(e):c?t(e[0],n):a},Pt=/^(?:checkbox|radio)$/i;!function(){var e=mt.createDocumentFragment(),t=mt.createElement("div"),n=mt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",rt.leadingWhitespace=3===t.firstChild.nodeType,rt.tbody=!t.getElementsByTagName("tbody").length,rt.htmlSerialize=!!t.getElementsByTagName("link").length,rt.html5Clone="<:nav></:nav>"!==mt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),rt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",rt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,rt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){rt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==rt.deleteExpando){rt.deleteExpando=!0;try{delete t.test}catch(r){rt.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,r=mt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(rt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),rt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var It=/^(?:input|select|textarea)$/i,Nt=/^key/,Dt=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,Bt=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,t,n,r,o){var a,i,s,c,l,u,p,d,f,h,m,g=at._data(e);if(g){for(n.handler&&(c=n,n=c.handler,o=c.selector),n.guid||(n.guid=at.guid++),(i=g.events)||(i=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof at===St||e&&at.event.triggered===e.type?void 0:at.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(_t)||[""],s=t.length;s--;)a=Bt.exec(t[s])||[],f=m=a[1],h=(a[2]||"").split(".").sort(),f&&(l=at.event.special[f]||{},f=(o?l.delegateType:l.bindType)||f,l=at.event.special[f]||{},p=at.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&at.expr.match.needsContext.test(o),namespace:h.join(".")},c),(d=i[f])||(d=i[f]=[],d.delegateCount=0,l.setup&&l.setup.call(e,r,h,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),l.add&&(l.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),at.event.global[f]=!0);e=null}},remove:function(e,t,n,r,o){var a,i,s,c,l,u,p,d,f,h,m,g=at.hasData(e)&&at._data(e);if(g&&(u=g.events)){for(t=(t||"").match(_t)||[""],l=t.length;l--;)if(s=Bt.exec(t[l])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(p=at.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,d=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=a=d.length;a--;)i=d[a],!o&&m!==i.origType||n&&n.guid!==i.guid||s&&!s.test(i.namespace)||r&&r!==i.selector&&("**"!==r||!i.selector)||(d.splice(a,1),i.selector&&d.delegateCount--,p.remove&&p.remove.call(e,i));c&&!d.length&&(p.teardown&&p.teardown.call(e,h,g.handle)!==!1||at.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)at.event.remove(e,f+t[l],n,r,!0);at.isEmptyObject(u)&&(delete g.handle,at._removeData(e,"events"))}},trigger:function(t,n,r,o){var a,i,s,c,l,u,p,d=[r||mt],f=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=u=r=r||mt,3!==r.nodeType&&8!==r.nodeType&&!Ht.test(f+at.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),i=f.indexOf(":")<0&&"on"+f,t=t[at.expando]?t:new at.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:at.makeArray(n,[t]),l=at.event.special[f]||{},o||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!o&&!l.noBubble&&!at.isWindow(r)){for(c=l.delegateType||f,Ht.test(c+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(r.ownerDocument||mt)&&d.push(u.defaultView||u.parentWindow||e)}for(p=0;(s=d[p++])&&!t.isPropagationStopped();)t.type=p>1?c:l.bindType||f,a=(at._data(s,"events")||{})[t.type]&&at._data(s,"handle"),a&&a.apply(s,n),a=i&&s[i],a&&a.apply&&at.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),n)===!1)&&at.acceptData(r)&&i&&r[f]&&!at.isWindow(r)){u=r[i],u&&(r[i]=null),at.event.triggered=f;try{r[f]()}catch(m){}at.event.triggered=void 0,u&&(r[i]=u)}return t.result}},dispatch:function(e){e=at.event.fix(e);var t,n,r,o,a,i=[],s=J.call(arguments),c=(at._data(this,"events")||{})[e.type]||[],l=at.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(i=at.event.handlers.call(this,e,c),t=0;(o=i[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((at.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,a,i=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],a=0;s>a;a++)r=t[a],n=r.selector+" ",void 0===o[n]&&(o[n]=r.needsContext?at(n,this).index(c)>=0:at.find(n,this,null,[c]).length),o[n]&&o.push(r);o.length&&i.push({elem:c,handlers:o})}return s<t.length&&i.push({elem:this,handlers:t.slice(s)}),i},fix:function(e){if(e[at.expando])return e;var t,n,r,o=e.type,a=e,i=this.fixHooks[o];for(i||(this.fixHooks[o]=i=Dt.test(o)?this.mouseHooks:Nt.test(o)?this.keyHooks:{}),r=i.props?this.props.concat(i.props):this.props,e=new at.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||mt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,a=t.button,i=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||mt,o=r.documentElement,n=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&i&&(e.relatedTarget=i===e.target?t.toElement:i),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return at.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return at.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?at.event.trigger(o,null,t):at.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=mt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===St&&(e[r]=null),e.detachEvent(r,n))},at.Event=function(e,t){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?d:f):this.type=e,t&&at.extend(this,t),this.timeStamp=e&&e.timeStamp||at.now(),void(this[at.expando]=!0)):new at.Event(e,t)},at.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d,this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==r&&!at.contains(r,o))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),rt.submitBubbles||(at.event.special.submit={setup:function(){return at.nodeName(this,"form")?!1:void at.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=at.nodeName(t,"input")||at.nodeName(t,"button")?t.form:void 0;n&&!at._data(n,"submitBubbles")&&(at.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),at._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&at.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return at.nodeName(this,"form")?!1:void at.event.remove(this,"._submit")}}),rt.changeBubbles||(at.event.special.change={setup:function(){return It.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(at.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),at.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),at.event.simulate("change",this,e,!0)})),!1):void at.event.add(this,"beforeactivate._change",function(e){var t=e.target;It.test(t.nodeName)&&!at._data(t,"changeBubbles")&&(at.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||at.event.simulate("change",this.parentNode,e,!0)}),at._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return at.event.remove(this,"._change"),!It.test(this.nodeName)}}),rt.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=at._data(r,t);o||r.addEventListener(e,n,!0),at._data(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=at._data(r,t)-1;o?at._data(r,t,o):(r.removeEventListener(e,n,!0),at._removeData(r,t))}}}),at.fn.extend({on:function(e,t,n,r,o){var a,i;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=f;else if(!r)return this;return 1===o&&(i=r,r=function(e){return at().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=at.guid++)),this.each(function(){at.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,at(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){at.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?at.event.trigger(e,t,n,!0):void 0}});var Rt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Vt=new RegExp("<(?:"+Rt+")[\\s/>]","i"),$t=/^\s+/,Ut=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ft=/<([\w:]+)/,jt=/<tbody/i,zt=/<|&#?\w+;/,qt=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:rt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=m(mt),Kt=Qt.appendChild(mt.createElement("div"));Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,at.extend({clone:function(e,t,n){var r,o,a,i,s,c=at.contains(e.ownerDocument,e);if(rt.html5Clone||at.isXMLDoc(e)||!Vt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(a=Kt.firstChild)),!(rt.noCloneEvent&&rt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(r=g(a),s=g(e),i=0;null!=(o=s[i]);++i)r[i]&&k(o,r[i]);if(t)if(n)for(s=s||g(e),r=r||g(a),i=0;null!=(o=s[i]);i++)T(o,r[i]);else T(e,a);return r=g(a,"script"),r.length>0&&w(r,!c&&g(e,"script")),r=s=o=null,a},buildFragment:function(e,t,n,r){for(var o,a,i,s,c,l,u,p=e.length,d=m(t),f=[],h=0;p>h;h++)if(a=e[h],a||0===a)if("object"===at.type(a))at.merge(f,a.nodeType?[a]:a);else if(zt.test(a)){for(s=s||d.appendChild(t.createElement("div")),c=(Ft.exec(a)||["",""])[1].toLowerCase(),u=Xt[c]||Xt._default,s.innerHTML=u[1]+a.replace(Ut,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!rt.leadingWhitespace&&$t.test(a)&&f.push(t.createTextNode($t.exec(a)[0])),!rt.tbody)for(a="table"!==c||jt.test(a)?"<table>"!==u[1]||jt.test(a)?0:s:s.firstChild,o=a&&a.childNodes.length;o--;)at.nodeName(l=a.childNodes[o],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(at.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(t.createTextNode(a));for(s&&d.removeChild(s),rt.appendChecked||at.grep(g(f,"input"),v),h=0;a=f[h++];)if((!r||-1===at.inArray(a,r))&&(i=at.contains(a.ownerDocument,a),s=g(d.appendChild(a),"script"),i&&w(s),n))for(o=0;a=s[o++];)Yt.test(a.type||"")&&n.push(a);return s=null,d},cleanData:function(e,t){for(var n,r,o,a,i=0,s=at.expando,c=at.cache,l=rt.deleteExpando,u=at.event.special;null!=(n=e[i]);i++)if((t||at.acceptData(n))&&(o=n[s],a=o&&c[o])){if(a.events)for(r in a.events)u[r]?at.event.remove(n,r):at.removeEvent(n,r,a.handle);c[o]&&(delete c[o],l?delete n[s]:typeof n.removeAttribute!==St?n.removeAttribute(s):n[s]=null,G.push(o))}}}),at.fn.extend({text:function(e){return At(this,function(e){return void 0===e?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?at.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||at.cleanData(g(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&at.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&at.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return At(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof e||qt.test(e)||!rt.htmlSerialize&&Vt.test(e)||!rt.leadingWhitespace&&$t.test(e)||Xt[(Ft.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ut,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(at.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,at.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var n,r,o,a,i,s,c=0,l=this.length,u=this,p=l-1,d=e[0],f=at.isFunction(d);if(f||l>1&&"string"==typeof d&&!rt.checkClone&&Wt.test(d))return this.each(function(n){var r=u.eq(n);f&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=at.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=at.map(g(s,"script"),b),o=a.length;l>c;c++)r=s,c!==p&&(r=at.clone(r,!0,!0),o&&at.merge(a,g(r,"script"))),t.call(this[c],r,c);if(o)for(i=a[a.length-1].ownerDocument,at.map(a,_),c=0;o>c;c++)r=a[c],Yt.test(r.type||"")&&!at._data(r,"globalEval")&&at.contains(i,r)&&(r.src?at._evalUrl&&at._evalUrl(r.src):at.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Jt,"")));s=n=null}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,r=0,o=[],a=at(e),i=a.length-1;i>=r;r++)n=r===i?this:this.clone(!0),at(a[r])[t](n),Q.apply(o,n.get());return this.pushStack(o)}});var Zt,en={};!function(){var e,t,n=mt.createElement("div"),r="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(e.style.opacity),rt.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,rt.shrinkWrapBlocks=function(){var e,n,o,a;if(null==t){if(e=mt.getElementsByTagName("body")[0],!e)return;a="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=mt.createElement("div"),o=mt.createElement("div"),e.appendChild(n).appendChild(o),t=!1,typeof o.style.zoom!==St&&(o.style.cssText=r+";width:1px;padding:1px;zoom:1",o.innerHTML="<div></div>",o.firstChild.style.width="5px",t=3!==o.offsetWidth),e.removeChild(n),e=n=o=null}return t}}();var tn,nn,rn=/^margin/,on=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var r,o,a,i,s=e.style;return n=n||tn(e),i=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==i||at.contains(e.ownerDocument,e)||(i=at.style(e,t)),on.test(i)&&rn.test(t)&&(r=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=i,i=n.width,s.width=r,s.minWidth=o,s.maxWidth=a)),void 0===i?i:i+""}):mt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var r,o,a,i,s=e.style;return n=n||tn(e),i=n?n[t]:void 0,null==i&&s&&s[t]&&(i=s[t]),on.test(i)&&!an.test(t)&&(r=s.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":i,i=s.pixelLeft+"px",s.left=r,a&&(o.left=a)),void 0===i?i:i+""||"auto"}),function(){function t(){var t,n,r=mt.getElementsByTagName("body")[0];r&&(t=mt.createElement("div"),n=mt.createElement("div"),t.style.cssText=l,r.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",at.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){o=4===n.offsetWidth}),a=!0,i=!1,s=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(n,null)||{}).top,a="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),r.removeChild(t),n=r=null)}var n,r,o,a,i,s,c=mt.createElement("div"),l="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",u="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=c.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",rt.opacity=/^0.5/.test(n.style.opacity),rt.cssFloat=!!n.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===c.style.backgroundClip,n=c=null,at.extend(rt,{reliableHiddenOffsets:function(){if(null!=r)return r;var e,t,n,o=mt.createElement("div"),a=mt.getElementsByTagName("body")[0];if(a)return o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=mt.createElement("div"),e.style.cssText=l,a.appendChild(e).appendChild(o),o.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=o.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",r=n&&0===t[0].offsetHeight,a.removeChild(e),o=a=null,r},boxSizing:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n,r,o;if(null==s&&e.getComputedStyle){if(t=mt.getElementsByTagName("body")[0],!t)return;n=mt.createElement("div"),r=mt.createElement("div"),n.style.cssText=l,t.appendChild(n).appendChild(r),o=r.appendChild(mt.createElement("div")),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",s=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight),t.removeChild(n)}return s}})}(),at.swap=function(e,t,n,r){var o,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,r||[]);for(a in t)e.style[a]=i[a];return o};var sn=/alpha\([^)]*\)/i,cn=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,un=new RegExp("^("+Mt+")(.*)$","i"),pn=new RegExp("^([+-])=("+Mt+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:0,fontWeight:400},hn=["Webkit","O","Moz","ms"];at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":rt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,s=at.camelCase(t),c=e.style;if(t=at.cssProps[s]||(at.cssProps[s]=M(c,s)),i=at.cssHooks[t]||at.cssHooks[s],void 0===n)return i&&"get"in i&&void 0!==(o=i.get(e,!1,r))?o:c[t];if(a=typeof n,"string"===a&&(o=pn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(at.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||at.cssNumber[s]||(n+="px"),rt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(i&&"set"in i&&void 0===(n=i.set(e,n,r)))))try{c[t]="",c[t]=n}catch(l){}}},css:function(e,t,n,r){var o,a,i,s=at.camelCase(t);return t=at.cssProps[s]||(at.cssProps[s]=M(e.style,s)),i=at.cssHooks[t]||at.cssHooks[s],i&&"get"in i&&(a=i.get(e,!0,n)),void 0===a&&(a=nn(e,t,r)),"normal"===a&&t in fn&&(a=fn[t]),""===n||n?(o=parseFloat(a),n===!0||at.isNumeric(o)?o||0:a):a}}),at.each(["height","width"],function(e,t){at.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&ln.test(at.css(e,"display"))?at.swap(e,dn,function(){return P(e,t,r)}):P(e,t,r):void 0},set:function(e,n,r){var o=r&&tn(e);return x(e,n,r?A(e,t,r,rt.boxSizing()&&"border-box"===at.css(e,"boxSizing",!1,o),o):0)}}}),rt.opacity||(at.cssHooks.opacity={get:function(e,t){return cn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=at.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===at.trim(a.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=sn.test(a)?a.replace(sn,o):a+" "+o)}}),at.cssHooks.marginRight=L(rt.reliableMarginRight,function(e,t){return t?at.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var r=0,o={},a="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+Et[r]+t]=a[r]||a[r-2]||a[0];return o}},rn.test(e)||(at.cssHooks[e+t].set=x)}),at.fn.extend({css:function(e,t){return At(this,function(e,t,n){var r,o,a={},i=0;if(at.isArray(t)){for(r=tn(e),o=t.length;o>i;i++)a[t[i]]=at.css(e,t[i],!1,r);return a}return void 0!==n?at.style(e,t,n):at.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){xt(this)?at(this).show():at(this).hide()})}}),at.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(at.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.fx=I.prototype.init,at.fx.step={};var mn,gn,vn=/^(?:toggle|show|hide)$/,yn=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),bn=/queueHooks$/,_n=[B],wn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=yn.exec(t),a=o&&o[3]||(at.cssNumber[e]?"":"px"),i=(at.cssNumber[e]||"px"!==a&&+r)&&yn.exec(at.css(n.elem,e)),s=1,c=20;if(i&&i[3]!==a){a=a||i[3],o=o||[],i=+r||1;do s=s||".5",i/=s,at.style(n.elem,e,i+a);while(s!==(s=n.cur()/r)&&1!==s&&--c)}return o&&(i=n.start=+i||+r||0,n.unit=a,n.end=o[1]?i+(o[1]+1)*o[2]:+o[2]),n}]};at.Animation=at.extend(O,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?_n.unshift(e):_n.push(e)}}),at.speed=function(e,t,n){var r=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return r.duration=at.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in at.fx.speeds?at.fx.speeds[r.duration]:at.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){at.isFunction(r.old)&&r.old.call(this),r.queue&&at.dequeue(this,r.queue)},r},at.fn.extend({fadeTo:function(e,t,n,r){return this.filter(xt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=at.isEmptyObject(e),a=at.speed(t,n,r),i=function(){var t=O(this,at.extend({},e),a);(o||at._data(this,"finish"))&&t.stop(!0)};return i.finish=i,o||a.queue===!1?this.each(i):this.queue(a.queue,i)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=at.timers,i=at._data(this);if(o)i[o]&&i[o].stop&&r(i[o]);else for(o in i)i[o]&&i[o].stop&&bn.test(o)&&r(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));(t||!n)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=at._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],a=at.timers,i=r?r.length:0;for(n.finish=!0,at.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;i>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(D(t,!0),e,r,o)}}),at.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,r){return this.animate(t,e,n,r)
}}),at.timers=[],at.fx.tick=function(){var e,t=at.timers,n=0;for(mn=at.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||at.fx.stop(),mn=void 0},at.fx.timer=function(e){at.timers.push(e),e()?at.fx.start():at.timers.pop()},at.fx.interval=13,at.fx.start=function(){gn||(gn=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(gn),gn=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fn.delay=function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,o=mt.createElement("div");o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=o.getElementsByTagName("a")[0],n=mt.createElement("select"),r=n.appendChild(mt.createElement("option")),t=o.getElementsByTagName("input")[0],e.style.cssText="top:1px",rt.getSetAttribute="t"!==o.className,rt.style=/top/.test(e.getAttribute("style")),rt.hrefNormalized="/a"===e.getAttribute("href"),rt.checkOn=!!t.value,rt.optSelected=r.selected,rt.enctype=!!mt.createElement("form").enctype,n.disabled=!0,rt.optDisabled=!r.disabled,t=mt.createElement("input"),t.setAttribute("value",""),rt.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),rt.radioValue="t"===t.value,e=t=n=r=o=null}();var Tn=/\r/g;at.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=at.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,at(this).val()):e,null==o?o="":"number"==typeof o?o+="":at.isArray(o)&&(o=at.map(o,function(e){return null==e?"":e+""})),t=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=at.valHooks[o.type]||at.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Tn,""):null==n?"":n)}}}),at.extend({valHooks:{option:{get:function(e){var t=at.find.attr(e,"value");return null!=t?t:at.text(e)}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,a="select-one"===e.type||0>o,i=a?null:[],s=a?o+1:r.length,c=0>o?s:a?o:0;s>c;c++)if(n=r[c],!(!n.selected&&c!==o||(rt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),a)return t;i.push(t)}return i},set:function(e,t){for(var n,r,o=e.options,a=at.makeArray(t),i=o.length;i--;)if(r=o[i],at.inArray(at.valHooks.option.get(r),a)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),o}}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(e,t){return at.isArray(t)?e.checked=at.inArray(at(e).val(),t)>=0:void 0}},rt.checkOn||(at.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kn,Sn,Cn=at.expr.attrHandle,Ln=/^(?:checked|selected)$/i,Mn=rt.getSetAttribute,En=rt.input;at.fn.extend({attr:function(e,t){return At(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})}}),at.extend({attr:function(e,t,n){var r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===St?at.prop(e,t,n):(1===a&&at.isXMLDoc(e)||(t=t.toLowerCase(),r=at.attrHooks[t]||(at.expr.match.bool.test(t)?Sn:kn)),void 0===n?r&&"get"in r&&null!==(o=r.get(e,t))?o:(o=at.find.attr(e,t),null==o?void 0:o):null!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void at.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,a=t&&t.match(_t);if(a&&1===e.nodeType)for(;n=a[o++];)r=at.propFix[n]||n,at.expr.match.bool.test(n)?En&&Mn||!Ln.test(n)?e[r]=!1:e[at.camelCase("default-"+n)]=e[r]=!1:at.attr(e,n,""),e.removeAttribute(Mn?n:r)},attrHooks:{type:{set:function(e,t){if(!rt.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Sn={set:function(e,t,n){return t===!1?at.removeAttr(e,n):En&&Mn||!Ln.test(n)?e.setAttribute(!Mn&&at.propFix[n]||n,n):e[at.camelCase("default-"+n)]=e[n]=!0,n}},at.each(at.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Cn[t]||at.find.attr;Cn[t]=En&&Mn||!Ln.test(t)?function(e,t,r){var o,a;return r||(a=Cn[t],Cn[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,Cn[t]=a),o}:function(e,t,n){return n?void 0:e[at.camelCase("default-"+t)]?t.toLowerCase():null}}),En&&Mn||(at.attrHooks.value={set:function(e,t,n){return at.nodeName(e,"input")?void(e.defaultValue=t):kn&&kn.set(e,t,n)}}),Mn||(kn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Cn.id=Cn.name=Cn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},at.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:kn.set},at.attrHooks.contenteditable={set:function(e,t,n){kn.set(e,""===t?!1:t,n)}},at.each(["width","height"],function(e,t){at.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),rt.style||(at.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var xn=/^(?:input|select|textarea|button|object)$/i,An=/^(?:a|area)$/i;at.fn.extend({prop:function(e,t){return At(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return e=at.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),at.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,o,a,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return a=1!==i||!at.isXMLDoc(e),a&&(t=at.propFix[t]||t,o=at.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=at.find.attr(e,"tabindex");return t?parseInt(t,10):xn.test(e.nodeName)||An.test(e.nodeName)&&e.href?0:-1}}}}),rt.hrefNormalized||at.each(["href","src"],function(e,t){at.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),rt.optSelected||(at.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this}),rt.enctype||(at.propFix.enctype="encoding");var Pn=/[\t\r\n\f]/g;at.fn.extend({addClass:function(e){var t,n,r,o,a,i,s=0,c=this.length,l="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(_t)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pn," "):" ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i=at.trim(r),n.className!==i&&(n.className=i)}return this},removeClass:function(e){var t,n,r,o,a,i,s=0,c=this.length,l=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(_t)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pn," "):"")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");i=e?at.trim(r):"",n.className!==i&&(n.className=i)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(at.isFunction(e)?function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,o=at(this),a=e.match(_t)||[];t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===St||"boolean"===n)&&(this.className&&at._data(this,"__className__",this.className),this.className=this.className||e===!1?"":at._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Pn," ").indexOf(t)>=0)return!0;return!1}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),at.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var In=at.now(),Nn=/\?/,Dn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;at.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,o=at.trim(t+"");return o&&!at.trim(o.replace(Dn,function(e,t,o,a){return n&&t&&(r=0),0===r?e:(n=o||t,r+=!a-!o,"")}))?Function("return "+o)():at.error("Invalid JSON: "+t)},at.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||at.error("Invalid XML: "+t),n};var Hn,Bn,Rn=/#.*$/,On=/([?&])_=[^&]*/,Vn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$n=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Un=/^(?:GET|HEAD)$/,Fn=/^\/\//,jn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},qn={},Wn="*/".concat("*");try{Bn=location.href}catch(Yn){Bn=mt.createElement("a"),Bn.href="",Bn=Bn.href}Hn=jn.exec(Bn.toLowerCase())||[],at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Bn,type:"GET",isLocal:$n.test(Hn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,at.ajaxSettings),t):U(at.ajaxSettings,e)},ajaxPrefilter:V(zn),ajaxTransport:V(qn),ajax:function(e,t){function n(e,t,n,r){var o,u,v,y,_,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,i=r||"",w.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(y=F(p,w,n)),y=j(p,y,w,o),o?(p.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(at.lastModified[a]=_),_=w.getResponseHeader("etag"),_&&(at.etag[a]=_)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=y.state,u=y.data,v=y.error,o=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",o?h.resolveWith(d,[u,T,w]):h.rejectWith(d,[w,T,v]),w.statusCode(g),g=void 0,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,p,o?u:v]),m.fireWith(d,[w,T]),c&&(f.trigger("ajaxComplete",[w,p]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,o,a,i,s,c,l,u,p=at.ajaxSetup({},t),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?at(d):at.event,h=at.Deferred(),m=at.Callbacks("once memory"),g=p.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Vn.exec(i);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||Bn)+"").replace(Rn,"").replace(Fn,Hn[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=at.trim(p.dataType||"*").toLowerCase().match(_t)||[""],null==p.crossDomain&&(r=jn.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===Hn[1]&&r[2]===Hn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Hn[3]||("http:"===Hn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=at.param(p.data,p.traditional)),$(zn,p,t,w),2===b)return w;c=p.global,c&&0===at.active++&&at.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Un.test(p.type),a=p.url,p.hasContent||(p.data&&(a=p.url+=(Nn.test(a)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=On.test(a)?a.replace(On,"$1_="+In++):a+(Nn.test(a)?"&":"?")+"_="+In++)),p.ifModified&&(at.lastModified[a]&&w.setRequestHeader("If-Modified-Since",at.lastModified[a]),at.etag[a]&&w.setRequestHeader("If-None-Match",at.etag[a])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wn+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)w.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(d,w,p)===!1||2===b))return w.abort();_="abort";for(o in{success:1,error:1,complete:1})w[o](p[o]);if(l=$(qn,p,t,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},p.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return at.get(e,t,n,"json")},getScript:function(e,t){return at.get(e,void 0,t,"script")}}),at.each(["get","post"],function(e,t){at[t]=function(e,n,r,o){return at.isFunction(n)&&(o=o||r,r=n,n=void 0),at.ajax({url:e,type:t,dataType:o,data:n,success:r})}}),at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at._evalUrl=function(e){return at.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},at.fn.extend({wrapAll:function(e){if(at.isFunction(e))return this.each(function(t){at(this).wrapAll(e.call(this,t))});if(this[0]){var t=at(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(at.isFunction(e)?function(t){at(this).wrapInner(e.call(this,t))}:function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}}),at.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!rt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||at.css(e,"display"))},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)};var Gn=/%20/g,Jn=/\[\]$/,Xn=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;at.param=function(e,t){var n,r=[],o=function(e,t){t=at.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){o(this.name,this.value)});else for(n in e)z(n,e[n],t,o);return r.join("&").replace(Gn,"+")},at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&Kn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!Pt.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),at.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||W()}:q;var Zn=0,er={},tr=at.ajaxSettings.xhr();e.ActiveXObject&&at(e).on("unload",function(){for(var e in er)er[e](void 0,!0)}),rt.cors=!!tr&&"withCredentials"in tr,tr=rt.ajax=!!tr,tr&&at.ajaxTransport(function(e){if(!e.crossDomain||rt.cors){var t;return{send:function(n,r){var o,a=e.xhr(),i=++Zn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"");a.send(e.hasContent&&e.data||null),t=function(n,o){var s,c,l;if(t&&(o||4===a.readyState))if(delete er[i],t=void 0,a.onreadystatechange=at.noop,o)4!==a.readyState&&a.abort();else{l={},s=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{c=a.statusText}catch(u){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,c,l,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=er[i]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),at.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=mt.head||at("head")[0]||mt.documentElement;return{send:function(r,o){t=mt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var nr=[],rr=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nr.pop()||at.expando+"_"+In++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(t,n,r){var o,a,i,s=t.jsonp!==!1&&(rr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=at.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(rr,"$1"+o):t.jsonp!==!1&&(t.url+=(Nn.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return i||at.error(o+" was not called"),i[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){i=arguments},r.always(function(){e[o]=a,t[o]&&(t.jsonpCallback=n.jsonpCallback,nr.push(o)),i&&at.isFunction(a)&&a(i[0]),i=a=void 0}),"script"):void 0}),at.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||mt;var r=dt.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=at.buildFragment([e],t,o),o&&o.length&&at(o).remove(),at.merge([],r.childNodes))};var or=at.fn.load;at.fn.load=function(e,t,n){if("string"!=typeof e&&or)return or.apply(this,arguments);var r,o,a,i=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),at.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),i.length>0&&at.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){o=arguments,i.html(r?at("<div>").append(at.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){i.each(n,o||[e.responseText,t,e])}),this},at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length};var ar=e.document.documentElement;at.offset={setOffset:function(e,t,n){var r,o,a,i,s,c,l,u=at.css(e,"position"),p=at(e),d={};"static"===u&&(e.style.position="relative"),s=p.offset(),a=at.css(e,"top"),c=at.css(e,"left"),l=("absolute"===u||"fixed"===u)&&at.inArray("auto",[a,c])>-1,l?(r=p.position(),i=r.top,o=r.left):(i=parseFloat(a)||0,o=parseFloat(c)||0),at.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):p.css(d)}},at.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){at.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return t=a.documentElement,at.contains(t,o)?(typeof o.getBoundingClientRect!==St&&(r=o.getBoundingClientRect()),n=Y(a),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===at.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(n=e.offset()),n.top+=at.css(e[0],"borderTopWidth",!0),n.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-at.css(r,"marginTop",!0),left:t.left-n.left-at.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ar;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||ar})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);at.fn[e]=function(r){return At(this,function(e,r,o){var a=Y(e);return void 0===o?a?t in a?a[t]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(n?at(a).scrollLeft():o,n?o:at(a).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),at.each(["top","left"],function(e,t){at.cssHooks[t]=L(rt.pixelPosition,function(e,n){return n?(n=nn(e,t),on.test(n)?at(e).position()[t]+"px":n):void 0})}),at.each({Height:"height",Width:"width"},function(e,t){at.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){at.fn[r]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),i=n||(r===!0||o===!0?"margin":"border");return At(this,function(t,n,r){var o;return at.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?at.css(t,n,i):at.style(t,n,r,i)},t,a?r:void 0,a,null)}})}),at.fn.size=function(){return this.length},at.fn.andSelf=at.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return at});var ir=e.jQuery,sr=e.$;return at.noConflict=function(t){return e.$===at&&(e.$=sr),t&&e.jQuery===at&&(e.jQuery=ir),at},typeof t===St&&(e.jQuery=e.$=at),at})}).call(this),function(){e=t=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:e,jQuery:t}}(),function(){var e=(Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery);(function(){!function(e){{var t=[].slice,n={};e.amplify={publish:function(e){if("string"!=typeof e)throw new Error("You must provide a valid topic to publish.");var r,o,a,i,s=t.call(arguments,1),c=0;if(!n[e])return!0;for(r=n[e].slice(),a=r.length;a>c&&(o=r[c],i=o.callback.apply(o.context,s),i!==!1);c++);return i!==!1},subscribe:function(e,t,r,o){if("string"!=typeof e)throw new Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"==typeof r&&(o=r,r=t,t=null),2===arguments.length&&(r=t,t=null),o=o||10;for(var a,i=0,s=e.split(/\s/),c=s.length;c>i;i++){e=s[i],a=!1,n[e]||(n[e]=[]);for(var l=n[e].length-1,u={callback:r,context:t,priority:o};l>=0;l--)if(n[e][l].priority<=o){n[e].splice(l+1,0,u),a=!0;break}a||n[e].unshift(u)}return r},unsubscribe:function(e,t,r){if("string"!=typeof e)throw new Error("You must provide a valid topic to remove a subscription.");if(2===arguments.length&&(r=t,t=null),n[e])for(var o=n[e].length,a=0;o>a;a++)n[e][a].callback===r&&(t&&n[e][a].context!==t||(n[e].splice(a,1),a--,o--))}}}}(this),function(e,t){function n(e,n){r.addType(e,function(a,i,s){var c,l,u,p,d=i,f=(new Date).getTime();if(!a){d={},p=[],u=0;try{for(a=n.length;a=n.key(u++);)o.test(a)&&(l=JSON.parse(n.getItem(a)),l.expires&&l.expires<=f?p.push(a):d[a.replace(o,"")]=l.data);for(;a=p.pop();)n.removeItem(a)}catch(h){}return d}if(a="__amplify__"+a,i===t){if(c=n.getItem(a),l=c?JSON.parse(c):{expires:-1},!(l.expires&&l.expires<=f))return l.data;n.removeItem(a)}else if(null===i)n.removeItem(a);else{l=JSON.stringify({data:i,expires:s.expires?f+s.expires:null});try{n.setItem(a,l)}catch(h){r[e]();try{n.setItem(a,l)}catch(h){throw r.error()}}}return d})}var r=e.store=function(e,t,n){var o=r.type;return n&&n.type&&n.type in r.types&&(o=n.type),r.types[o](e,t,n||{})};r.types={},r.type=null,r.addType=function(e,t){r.type||(r.type=e),r.types[e]=t,r[e]=function(t,n,o){return o=o||{},o.type=e,r(t,n,o)}},r.error=function(){return"amplify.store quota exceeded"};var o=/^__amplify__/;for(var a in{localStorage:1,sessionStorage:1})try{window[a].setItem("__amplify__","x"),window[a].removeItem("__amplify__"),n(a,window[a])}catch(i){}if(!r.types.localStorage&&window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===r.type&&(r.type="globalStorage")}catch(i){}!function(){if(!r.types.localStorage){var e=document.createElement("div"),n="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(n)}catch(o){return void e.parentNode.removeChild(e)}r.addType("userData",function(o,a,i){e.load(n);var s,c,l,u,p,d=a,f=(new Date).getTime();if(!o){for(d={},p=[],u=0;s=e.XMLDocument.documentElement.attributes[u++];)c=JSON.parse(s.value),c.expires&&c.expires<=f?p.push(s.name):d[s.name]=c.data;for(;o=p.pop();)e.removeAttribute(o);return e.save(n),d}if(o=o.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),o=o.replace(/^-/,"_-"),a===t){if(s=e.getAttribute(o),c=s?JSON.parse(s):{expires:-1},!(c.expires&&c.expires<=f))return c.data;e.removeAttribute(o)}else null===a?e.removeAttribute(o):(l=e.getAttribute(o),c=JSON.stringify({data:a,expires:i.expires?f+i.expires:null}),e.setAttribute(o,c));try{e.save(n)}catch(h){null===l?e.removeAttribute(o):e.setAttribute(o,l),r.userData();try{e.setAttribute(o,c),e.save(n)}catch(h){throw null===l?e.removeAttribute(o):e.setAttribute(o,l),r.error()}}return d})}}(),function(){function e(e){return e===t?t:JSON.parse(JSON.stringify(e))}var n={},o={};r.addType("memory",function(r,a,i){return r?a===t?e(n[r]):(o[r]&&(clearTimeout(o[r]),delete o[r]),null===a?(delete n[r],null):(n[r]=a,i.expires&&(o[r]=setTimeout(function(){delete n[r],delete o[r]},i.expires)),a)):e(n)})}()}(this.amplify=this.amplify||{}),function(e){"use strict";function t(){}function n(e){return"[object Function]"==={}.toString.call(e)}function r(e){var t=!1;return setTimeout(function(){t=!0},1),function(){var n=this,r=arguments;t?e.apply(n,r):setTimeout(function(){e.apply(n,r)},1)}}e.request=function(o,a,i){var s=o||{};"string"==typeof s&&(n(a)&&(i=a,a={}),s={resourceId:o,data:a||{},success:i});var c={abort:t},l=e.request.resources[s.resourceId],u=s.success||t,p=s.error||t;if(s.success=r(function(t,n){n=n||"success",e.publish("request.success",s,t,n),e.publish("request.complete",s,t,n),u(t,n)}),s.error=r(function(t,n){n=n||"error",e.publish("request.error",s,t,n),e.publish("request.complete",s,t,n),p(t,n)}),!l){if(!s.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+s.resourceId}return e.publish("request.before",s)?(e.request.resources[s.resourceId](s,c),c):void s.error(null,"abort")},e.request.types={},e.request.resources={},e.request.define=function(t,n,r){if("string"==typeof n){if(!(n in e.request.types))throw"amplify.request.define: unknown type: "+n;r.resourceId=t,e.request.resources[t]=e.request.types[n](r)}else e.request.resources[t]=n}}(amplify),function(e,t,n){"use strict";var r=["status","statusText","responseText","responseXML","readyState"],o=/\{([^\}]+)\}/g;e.request.types.ajax=function(o){return o=t.extend({type:"GET"},o),function(a,i){var s,c,l=(o.url,i.abort),u=t.extend(!0,{},o,{data:a.data}),p=!1,d={readyState:0,setRequestHeader:function(e,t){return s.setRequestHeader(e,t)},getAllResponseHeaders:function(){return s.getAllResponseHeaders()},getResponseHeader:function(e){return s.getResponseHeader(e)},overrideMimeType:function(e){return s.overrideMimeType(e)},abort:function(){p=!0;try{s.abort()}catch(e){}c(null,"abort")},success:function(e,t){a.success(e,t)},error:function(e,t){a.error(e,t)}};c=function(e,o){t.each(r,function(e,t){try{d[t]=s[t]}catch(n){}}),/OK$/.test(d.statusText)&&(d.statusText="success"),e===n&&(e=null),p&&(o="abort"),/timeout|error|abort/.test(o)?d.error(e,o):d.success(e,o),c=t.noop},e.publish("request.ajax.preprocess",o,a,u,d),t.extend(u,{isJSONP:function(){return/jsonp/gi.test(this.dataType)},cacheURL:function(){if(!this.isJSONP())return this.url;var e="callback";this.hasOwnProperty("jsonp")&&(this.jsonp!==!1?e=this.jsonp:this.hasOwnProperty("jsonpCallback")&&(e=this.jsonpCallback));var t=new RegExp("&?"+e+"=[^&]*&?","gi");return this.url.replace(t,"")},success:function(e,t){c(e,t)},error:function(e,t){c(null,t)},beforeSend:function(t,n){s=t,u=n;var r=o.beforeSend?o.beforeSend.call(this,d,u):!0;return r&&e.publish("request.before.ajax",o,a,u,d)}}),u.cache&&u.isJSONP()&&t.extend(u,{cache:!0}),t.ajax(u),i.abort=function(){d.abort(),l.call(this)}}},e.subscribe("request.ajax.preprocess",function(e,n,r){var a=[],i=r.data;"string"!=typeof i&&(i=t.extend(!0,{},e.data,i),r.url=r.url.replace(o,function(e,t){return t in i?(a.push(t),i[t]):void 0}),t.each(a,function(e,t){delete i[t]}),r.data=i)}),e.subscribe("request.ajax.preprocess",function(e,n,r){var o=r.data,a=e.dataMap;a&&"string"!=typeof o&&(t.isFunction(a)?r.data=a(o):(t.each(e.dataMap,function(e,t){e in o&&(o[t]=o[e],delete o[e])}),r.data=o))});var a=e.request.cache={_key:function(e,t,n){function r(){return n.charCodeAt(a++)<<24|n.charCodeAt(a++)<<16|n.charCodeAt(a++)<<8|n.charCodeAt(a++)<<0}n=t+n;for(var o=n.length,a=0,i=r();o>a;)i^=r();return"request-"+e+"-"+i},_default:function(){var e={};return function(t,n,r,o){var i=a._key(n.resourceId,r.cacheURL(),r.data),s=t.cache;if(i in e)return o.success(e[i]),!1;var c=o.success;o.success=function(t){e[i]=t,"number"==typeof s&&setTimeout(function(){delete e[i]},s),c.apply(this,arguments)}}}()};e.store&&(t.each(e.store.types,function(t){a[t]=function(n,r,o,i){var s=a._key(r.resourceId,o.cacheURL(),o.data),c=e.store[t](s);if(c)return o.success(c),!1;var l=i.success;i.success=function(r){e.store[t](s,r,{expires:n.cache.expires}),l.apply(this,arguments)}}}),a.persist=a[e.store.type]),e.subscribe("request.before.ajax",function(e){var t=e.cache;return t?(t=t.type||t,a[t in a?t:"_default"].apply(this,arguments)):void 0}),e.request.decoders={jsend:function(e,t,n,r,o){"success"===e.status?r(e.data):"fail"===e.status?o(e.data,"fail"):"error"===e.status?(delete e.status,o(e,"error")):o(null,"error")}},e.subscribe("request.before.ajax",function(n,r,o,a){function i(e,t){c(e,t)}function s(e,t){l(e,t)}var c=a.success,l=a.error,u=t.isFunction(n.decoder)?n.decoder:n.decoder in e.request.decoders?e.request.decoders[n.decoder]:e.request.decoders._default;u&&(a.success=function(e,t){u(e,t,a,i,s)},a.error=function(e,t){u(e,t,a,i,s)})})}(amplify,e)}).call(this),"undefined"==typeof Package&&(Package={}),Package.amplify={}}(),function(){var e,t,n=Package.meteor.Meteor;(function(){e={},e.active=!1,e.currentComputation=null;var t=function(t){e.currentComputation=t,e.active=!!t},r=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.log?function(){console.log.apply(console,arguments)
}:function(){}},o=function(e,t){if(p)throw t;var n;if(t.stack&&t.message){var o=t.stack.indexOf(t.message);n=o>=0&&10>=o?t.stack:t.message+("\n"===t.stack.charAt(0)?"":"\n")+t.stack}else n=t.stack||t.message;r()("Exception from Tracker "+e+" function:",n)},a=function(e){return"undefined"==typeof n||n.isClient?e:function(){var t=arguments;n._noYieldsAllowed(function(){e.apply(null,t)})}},i=1,s=[],c=!1,l=!1,u=!1,p=!1,d=[],f=function(){c||(setTimeout(e.flush,0),c=!0)},h=!1;e.Computation=function(e,t){if(!h)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");h=!1;var n=this;n.stopped=!1,n.invalidated=!1,n.firstRun=!0,n._id=i++,n._onInvalidateCallbacks=[],n._parent=t,n._func=e,n._recomputing=!1;var r=!0;try{n._compute(),r=!1}finally{n.firstRun=!1,r&&n.stop()}},e.Computation.prototype.onInvalidate=function(t){var n=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");n.invalidated?e.nonreactive(function(){a(t)(n)}):n._onInvalidateCallbacks.push(t)},e.Computation.prototype.invalidate=function(){var t=this;if(!t.invalidated){t._recomputing||t.stopped||(f(),s.push(this)),t.invalidated=!0;for(var n,r=0;n=t._onInvalidateCallbacks[r];r++)e.nonreactive(function(){a(n)(t)});t._onInvalidateCallbacks=[]}},e.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate())},e.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var r=e.currentComputation;t(n);u=!0;try{a(n._func)(n)}finally{t(r),u=!1}},e.Computation.prototype._recompute=function(){var e=this;e._recomputing=!0;try{for(;e.invalidated&&!e.stopped;)try{e._compute()}catch(t){o("recompute",t)}}finally{e._recomputing=!1}},e.Dependency=function(){this._dependentsById={}},e.Dependency.prototype.depend=function(t){if(!t){if(!e.active)return!1;t=e.currentComputation}var n=this,r=t._id;return r in n._dependentsById?!1:(n._dependentsById[r]=t,t.onInvalidate(function(){delete n._dependentsById[r]}),!0)},e.Dependency.prototype.changed=function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},e.Dependency.prototype.hasDependents=function(){var e=this;for(var t in e._dependentsById)return!0;return!1},e.flush=function(t){if(l)throw new Error("Can't call Tracker.flush while flushing");if(u)throw new Error("Can't flush inside Tracker.autorun");l=!0,c=!0,p=!(!t||!t._throwFirstError);var n=!1;try{for(;s.length||d.length;){for(;s.length;){var r=s.shift();r._recompute()}if(d.length){var a=d.shift();try{a()}catch(i){o("afterFlush",i)}}}n=!0}finally{n||(l=!1,e.flush({_throwFirstError:!1})),c=!1,l=!1}},e.autorun=function(t){if("function"!=typeof t)throw new Error("Tracker.autorun requires a function argument");h=!0;var n=new e.Computation(t,e.currentComputation);return e.active&&e.onInvalidate(function(){n.stop()}),n},e.nonreactive=function(n){var r=e.currentComputation;t(null);try{return n()}finally{t(r)}},e.onInvalidate=function(t){if(!e.active)throw new Error("Tracker.onInvalidate requires a currentComputation");e.currentComputation.onInvalidate(t)},e.afterFlush=function(e){d.push(e),f()}}).call(this),function(){n.flush=e.flush,n.autorun=e.autorun,n.autosubscribe=e.autorun,e.depend=function(e){return e.depend()},t=e}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:e,Deps:t}}(),function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,a,i,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(c)){for(a=c.length,n=0;a>n;n+=1)i[n]=str(n,c)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+s+"]":"["+i.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;a>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,c),o&&i.push(quote(r)+(gap?": ":":")+o));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c),o&&i.push(quote(r)+(gap?": ":":")+o));return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+s+"}":"{"+i.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}(),function(){{var e;Package.meteor.Meteor}(function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={},r=0;r<t.length;r++)n[t.charAt(r)]=r;e={},e.encode=function(t){if("string"==typeof t){var n=t;t=e.newBinary(n.length);for(var r=0;r<n.length;r++){var a=n.charCodeAt(r);if(a>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");t[r]=a}}for(var i=[],s=null,c=null,l=null,u=null,r=0;r<t.length;r++)switch(r%3){case 0:s=t[r]>>2&63,c=(3&t[r])<<4;break;case 1:c|=t[r]>>4&15,l=(15&t[r])<<2;break;case 2:l|=t[r]>>6&3,u=63&t[r],i.push(o(s)),i.push(o(c)),i.push(o(l)),i.push(o(u)),s=null,c=null,l=null,u=null}return null!=s&&(i.push(o(s)),i.push(o(c)),i.push(null==l?"=":o(l)),null==u&&i.push("=")),i.join("")};var o=function(e){return t.charAt(e)},a=function(e){return"="===e?-1:n[e]};e.newBinary=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],n=0;e>n;n++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},e.decode=function(t){var n=Math.floor(3*t.length/4);"="==t.charAt(t.length-1)&&(n--,"="==t.charAt(t.length-2)&&n--);for(var r=e.newBinary(n),o=null,i=null,s=null,c=0,l=0;l<t.length;l++){var u=t.charAt(l),p=a(u);switch(l%4){case 0:if(0>p)throw new Error("invalid base64 string");o=p<<2;break;case 1:if(0>p)throw new Error("invalid base64 string");o|=p>>4,r[c++]=o,i=(15&p)<<4;break;case 2:p>=0&&(i|=p>>2,r[c++]=i,s=(3&p)<<6);break;case 3:p>=0&&(r[c++]=s|p)}}return r}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.json.JSON,o=Package.underscore._,a=Package.base64.Base64;(function(){e={},t={};var i={};e.addType=function(e,t){if(o.has(i,e))throw new Error("Type "+e+" already present");i[e]=t};var s=function(e){return o.isNaN(e)||1/0===e||e===-1/0},c=[{matchJSONValue:function(e){return o.has(e,"$date")&&1===o.size(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return o.has(e,"$InfNaN")&&1===o.size(e)},matchObject:s,toJSONValue:function(e){var t;return t=o.isNaN(e)?0:1/0===e?1:-1,{$InfNaN:t}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return o.has(e,"$binary")&&1===o.size(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&o.has(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:a.encode(e)}},fromJSONValue:function(e){return a.decode(e.$binary)}},{matchJSONValue:function(e){return o.has(e,"$escape")&&1===o.size(e)},matchObject:function(e){return o.isEmpty(e)||o.size(e)>2?!1:o.any(c,function(t){return t.matchJSONValue(e)})},toJSONValue:function(t){var n={};return o.each(t,function(t,r){n[r]=e.toJSONValue(t)}),{$escape:n}},fromJSONValue:function(t){var n={};return o.each(t.$escape,function(t,r){n[r]=e.fromJSONValue(t)}),n}},{matchJSONValue:function(e){return o.has(e,"$type")&&o.has(e,"$value")&&2===o.size(e)},matchObject:function(t){return e._isCustomType(t)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!o.has(i,t))throw new Error("Custom EJSON type "+t+" is not defined");var r=i[t];return n._noYieldsAllowed(function(){return r(e.$value)})}}];e._isCustomType=function(e){return e&&"function"==typeof e.toJSONValue&&"function"==typeof e.typeName&&o.has(i,e.typeName())};var l=e._adjustTypesToJSONValue=function(e){if(null===e)return null;var t=u(e);return void 0!==t?t:"object"!=typeof e?e:(o.each(e,function(t,n){if("object"==typeof t||void 0===t||s(t)){var r=u(t);return r?void(e[n]=r):void l(t)}}),e)},u=function(e){for(var t=0;t<c.length;t++){var n=c[t];if(n.matchObject(e))return n.toJSONValue(e)}return void 0};e.toJSONValue=function(t){var n=u(t);return void 0!==n?n:("object"==typeof t&&(t=e.clone(t),l(t)),t)};var p=e._adjustTypesFromJSONValue=function(e){if(null===e)return null;var t=d(e);return t!==e?t:"object"!=typeof e?e:(o.each(e,function(t,n){if("object"==typeof t){var r=d(t);if(t!==r)return void(e[n]=r);p(t)}}),e)},d=function(e){if("object"==typeof e&&null!==e&&o.size(e)<=2&&o.all(e,function(e,t){return"string"==typeof t&&"$"===t.substr(0,1)}))for(var t=0;t<c.length;t++){var n=c[t];if(n.matchJSONValue(e))return n.fromJSONValue(e)}return e};e.fromJSONValue=function(t){var n=d(t);return n===t&&"object"==typeof t?(t=e.clone(t),p(t),t):n},e.stringify=function(t,n){var o=e.toJSONValue(t);return n&&(n.canonical||n.indent)?e._canonicalStringify(o,n):r.stringify(o)},e.parse=function(t){if("string"!=typeof t)throw new Error("EJSON.parse argument should be a string");return e.fromJSONValue(r.parse(t))},e.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},e.equals=function(t,n,r){var a,i=!(!r||!r.keyOrderSensitive);if(t===n)return!0;if(o.isNaN(t)&&o.isNaN(n))return!0;if(!t||!n)return!1;if("object"!=typeof t||"object"!=typeof n)return!1;if(t instanceof Date&&n instanceof Date)return t.valueOf()===n.valueOf();if(e.isBinary(t)&&e.isBinary(n)){if(t.length!==n.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==n[a])return!1;return!0}if("function"==typeof t.equals)return t.equals(n,r);if("function"==typeof n.equals)return n.equals(t,r);if(t instanceof Array){if(!(n instanceof Array))return!1;if(t.length!==n.length)return!1;for(a=0;a<t.length;a++)if(!e.equals(t[a],n[a],r))return!1;return!0}switch(e._isCustomType(t)+e._isCustomType(n)){case 1:return!1;case 2:return e.equals(e.toJSONValue(t),e.toJSONValue(n))}var s;if(i){var c=[];return o.each(n,function(e,t){c.push(t)}),a=0,s=o.all(t,function(t,o){return a>=c.length?!1:o!==c[a]?!1:e.equals(t,n[c[a]],r)?(a++,!0):!1}),s&&a===c.length}return a=0,s=o.all(t,function(t,i){return o.has(n,i)&&e.equals(t,n[i],r)?(a++,!0):!1}),s&&o.size(n)===a},e.clone=function(t){var n;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return t;if(e.isBinary(t)){n=e.newBinary(t.length);for(var r=0;r<t.length;r++)n[r]=t[r];return n}if(o.isArray(t)||o.isArguments(t)){for(n=[],r=0;r<t.length;r++)n[r]=e.clone(t[r]);return n}return"function"==typeof t.clone?t.clone():e._isCustomType(t)?e.fromJSONValue(e.clone(e.toJSONValue(t)),!0):(n={},o.each(t,function(t,r){n[r]=e.clone(t)}),n)},e.newBinary=a.newBinary}).call(this),function(){function t(e){return r.stringify(e)}var n=function(e,r,a,i,s){var c,l,u,p,d=i,f=r[e];switch(typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":return String(f);case"object":if(!f)return"null";if(d=i+a,p=[],o.isArray(f)||o.isArguments(f)){for(u=f.length,c=0;u>c;c+=1)p[c]=n(c,f,a,d,s)||"null";return l=0===p.length?"[]":d?"[\n"+d+p.join(",\n"+d)+"\n"+i+"]":"["+p.join(",")+"]"}var h=o.keys(f);return s&&(h=h.sort()),o.each(h,function(e){l=n(e,f,a,d,s),l&&p.push(t(e)+(d?": ":":")+l)}),l=0===p.length?"{}":d?"{\n"+d+p.join(",\n"+d)+"\n"+i+"}":"{"+p.join(",")+"}"}};e._canonicalStringify=function(e,t){if(t=o.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var r="",a=0;a<t.indent;a++)r+=" ";t.indent=r}return n("",{"":e},t.indent,"",t.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:e,EJSONTest:t}}(),function(){{var e,t=Package.meteor.Meteor;Package.underscore._}(function(){if(t.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}return function(t){var n=0,r=0,o=0,a=1;0==t.length&&(t=[+new Date]);var i=e();n=i(" "),r=i(" "),o=i(" ");for(var s=0;s<t.length;s++)n-=i(t[s]),0>n&&(n+=1),r-=i(t[s]),0>r&&(r+=1),o-=i(t[s]),0>o&&(o+=1);i=null;var c=function(){var e=2091639*n+2.3283064365386963e-10*a;return n=r,r=o,o=e-(a=0|e)};return c.uint32=function(){return 4294967296*c()},c.fract53=function(){return c()+1.1102230246251565e-16*(2097152*c()|0)},c.version="Alea 0.9",c.args=t,c}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",i=function(e){var t=this;void 0!==e&&(t.alea=r.apply(null,e))};i.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},i.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r,o=Math.ceil(e/2);try{r=n.randomBytes(o)}catch(a){r=n.pseudoRandomBytes(o)}var i=r.toString("hex");return i.substring(0,e)}for(var s=[],c=0;e>c;++c)s.push(t.choice("0123456789abcdef"));return s.join("")},i.prototype._randomString=function(e,t){for(var n=this,r=[],o=0;e>o;o++)r[o]=n.choice(t);return r.join("")},i.prototype.id=function(e){var t=this;return void 0===e&&(e=17),t._randomString(e,o)},i.prototype.secret=function(e){var t=this;return void 0===e&&(e=43),t._randomString(e,a)},i.prototype.choice=function(e){var t=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(t,1):e[t]};var s="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,c="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,l="undefined"!=typeof navigator&&navigator.userAgent||"";e=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new i:new i([new Date,s,c,l,Math.random()]),e.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new i(arguments)}}).call(this),function(){t.uuid=function(){for(var t="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=e.choice(t);n[14]="4",n[19]=t.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._),n=Package.json.JSON,r=Package.ejson.EJSON;(function(){e=function(e,t){var r=this;r._map={},r._idStringify=e||n.stringify,r._idParse=t||n.parse},t.extend(e.prototype,{get:function(e){var t=this,n=t._idStringify(e);return t._map[n]},set:function(e,t){var n=this,r=n._idStringify(e);n._map[r]=t},remove:function(e){var t=this,n=t._idStringify(e);delete t._map[n]},has:function(e){var n=this,r=n._idStringify(e);return t.has(n._map,r)},empty:function(){var e=this;return t.isEmpty(e._map)},clear:function(){var e=this;e._map={}},forEach:function(e){for(var n=this,r=t.keys(n._map),o=0;o<r.length;o++){var a=e.call(null,n._map[r[o]],n._idParse(r[o]));if(a===!1)return}},size:function(){var e=this;return t.size(e._map)},setDefault:function(e,n){var r=this,o=r._idStringify(e);return t.has(r._map,o)?r._map[o]:(r._map[o]=n,n)},clone:function(){var t=this,n=new e(t._idStringify,t._idParse);return t.forEach(function(e,t){n.set(t,r.clone(e))}),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){var n=function(e,t,n,r){return{key:e,value:t,next:n,prev:r}};e=function(){var e=this;e._dict={},e._first=null,e._last=null,e._size=0;var n=t.toArray(arguments);e._stringify=function(e){return e},"function"==typeof n[0]&&(e._stringify=n.shift()),t.each(n,function(t){e.putBefore(t[0],t[1],null)})},t.extend(e.prototype,{_k:function(e){return" "+this._stringify(e)},empty:function(){var e=this;return!e._first},size:function(){var e=this;return e._size},_linkEltIn:function(e){var t=this;e.next?(e.prev=e.next.prev,e.next.prev=e,e.prev&&(e.prev.next=e)):(e.prev=t._last,t._last&&(t._last.next=e),t._last=e),(null===t._first||t._first===e.next)&&(t._first=e)},_linkEltOut:function(e){var t=this;e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e===t._last&&(t._last=e.prev),e===t._first&&(t._first=e.next)},putBefore:function(e,t,r){var o=this;if(o._dict[o._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var a=r?n(e,t,o._dict[o._k(r)]):n(e,t,null);if(void 0===a.next)throw new Error("could not find item to put this one before");o._linkEltIn(a),o._dict[o._k(e)]=a,o._size++},append:function(e,t){var n=this;n.putBefore(e,t,null)},remove:function(e){var t=this,n=t._dict[t._k(e)];if(void 0===n)throw new Error("Item "+e+" not present in OrderedDict");return t._linkEltOut(n),t._size--,delete t._dict[t._k(e)],n.value},get:function(e){var t=this;return t.has(e)?t._dict[t._k(e)].value:void 0},has:function(e){var n=this;return t.has(n._dict,n._k(e))},forEach:function(t){for(var n=this,r=0,o=n._first;null!==o;){var a=t(o.value,o.key,r);if(a===e.BREAK)return;o=o.next,r++}},first:function(){var e=this;return e.empty()?void 0:e._first.key},firstValue:function(){var e=this;return e.empty()?void 0:e._first.value},last:function(){var e=this;return e.empty()?void 0:e._last.key},lastValue:function(){var e=this;return e.empty()?void 0:e._last.value},prev:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.prev)return n.prev.key}return null},next:function(e){var t=this;if(t.has(e)){var n=t._dict[t._k(e)];if(n.next)return n.next.key}return null},moveBefore:function(e,t){var n=this,r=n._dict[n._k(e)],o=t?n._dict[n._k(t)]:null;if(void 0===r)throw new Error("Item to move is not present");if(void 0===o)throw new Error("Could not find element to move this one before");o!==r.next&&(n._linkEltOut(r),r.next=o,n._linkEltIn(r))},indexOf:function(t){var n=this,r=null;return n.forEach(function(o,a,i){return n._k(a)===n._k(t)?(r=i,e.BREAK):void 0}),r},_checkRep:function(){var e=this;t.each(e._dict,function(e,t){if(t.next===t)throw new Error("Next is a loop");if(t.prev===t)throw new Error("Prev is a loop")})}}),e.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:e}}(),function(){{var e,t;Package.meteor.Meteor}(function(){t={exports:{}}}).call(this),function(){!function(){function e(e){for(var t=[],n=[],r=0;r<e[0].length;r++)t.push(e[0][r][1]),n.push(e[0][r][0]);return t=t.sort(function(e,t){return e-t}),n=n.sort(function(e,t){return e-t}),[[t[0],n[0]],[t[t.length-1],n[n.length-1]]]}function n(e,t,n){for(var r=[[0,0]],o=0;o<n.length;o++){for(var a=0;a<n[o].length;a++)r.push(n[o][a]);r.push([0,0])}for(var i=!1,o=0,a=r.length-1;o<r.length;a=o++)r[o][0]>t!=r[a][0]>t&&e<(r[a][1]-r[o][1])*(t-r[o][0])/(r[a][0]-r[o][0])+r[o][1]&&(i=!i);return i}var r={};"undefined"!=typeof t&&t.exports&&(t.exports=r),r.lineStringsIntersect=function(e,t){for(var n=[],r=0;r<=e.coordinates.length-2;++r)for(var o=0;o<=t.coordinates.length-2;++o){var a={x:e.coordinates[r][1],y:e.coordinates[r][0]},i={x:e.coordinates[r+1][1],y:e.coordinates[r+1][0]},s={x:t.coordinates[o][1],y:t.coordinates[o][0]},c={x:t.coordinates[o+1][1],y:t.coordinates[o+1][0]},l=(c.x-s.x)*(a.y-s.y)-(c.y-s.y)*(a.x-s.x),u=(i.x-a.x)*(a.y-s.y)-(i.y-a.y)*(a.x-s.x),p=(c.y-s.y)*(i.x-a.x)-(c.x-s.x)*(i.y-a.y);if(0!=p){var d=l/p,f=u/p;d>=0&&1>=d&&f>=0&&1>=f&&n.push({type:"Point",coordinates:[a.x+d*(i.x-a.x),a.y+d*(i.y-a.y)]})}}return 0==n.length&&(n=!1),n},r.pointInBoundingBox=function(e,t){return!(e.coordinates[1]<t[0][0]||e.coordinates[1]>t[1][0]||e.coordinates[0]<t[0][1]||e.coordinates[0]>t[1][1])},r.pointInPolygon=function(t,o){for(var a="Polygon"==o.type?[o.coordinates]:o.coordinates,i=!1,s=0;s<a.length;s++)r.pointInBoundingBox(t,e(a[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<a.length;s++)n(t.coordinates[1],t.coordinates[0],a[s])&&(c=!0);return c},r.numberToRadius=function(e){return e*Math.PI/180},r.numberToDegree=function(e){return 180*e/Math.PI},r.drawCircle=function(e,t,n){for(var o=[t.coordinates[1],t.coordinates[0]],a=e/1e3/6371,i=[r.numberToRadius(o[0]),r.numberToRadius(o[1])],n=n||15,s=[[o[0],o[1]]],c=0;n>c;c++){var l=2*Math.PI*c/n,u=Math.asin(Math.sin(i[0])*Math.cos(a)+Math.cos(i[0])*Math.sin(a)*Math.cos(l)),p=i[1]+Math.atan2(Math.sin(l)*Math.sin(a)*Math.cos(i[0]),Math.cos(a)-Math.sin(i[0])*Math.sin(u));s[c]=[],s[c][1]=r.numberToDegree(u),s[c][0]=r.numberToDegree(p)}return{type:"Polygon",coordinates:[s]}},r.rectangleCentroid=function(e){var t=e.coordinates[0],n=t[0][0],r=t[0][1],o=t[2][0],a=t[2][1],i=o-n,s=a-r;return{type:"Point",coordinates:[n+i/2,r+s/2]}},r.pointDistance=function(e,t){var n=e.coordinates[0],o=e.coordinates[1],a=t.coordinates[0],i=t.coordinates[1],s=r.numberToRadius(i-o),c=r.numberToRadius(a-n),l=Math.pow(Math.sin(s/2),2)+Math.cos(r.numberToRadius(o))*Math.cos(r.numberToRadius(i))*Math.pow(Math.sin(c/2),2),u=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return 6371*u*1e3},r.geometryWithinRadius=function(e,t,n){if("Point"==e.type)return r.pointDistance(e,t)<=n;if("LineString"==e.type||"Polygon"==e.type){var o,a={};o="Polygon"==e.type?e.coordinates[0]:e.coordinates;for(var i in o)if(a.coordinates=o[i],r.pointDistance(a,t)>n)return!1}return!0},r.area=function(e){for(var t,n,r=0,o=e.coordinates[0],a=o.length-1,i=0;i<o.length;a=i++){var t={x:o[i][1],y:o[i][0]},n={x:o[a][1],y:o[a][0]};r+=t.x*n.y,r-=t.y*n.x}return r/=2},r.centroid=function(e){for(var t,n,o,a=0,i=0,s=e.coordinates[0],c=s.length-1,l=0;l<s.length;c=l++){var n={x:s[l][1],y:s[l][0]},o={x:s[c][1],y:s[c][0]};t=n.x*o.y-o.x*n.y,a+=(n.x+o.x)*t,i+=(n.y+o.y)*t}return t=6*r.area(e),{type:"Point",coordinates:[i/t,a/t]}},r.simplify=function(e,t){t=t||20,e=e.map(function(e){return{lng:e.coordinates[0],lat:e.coordinates[1]}});var n,r,o,a,i,s,c,l,u,p,d,f,h,m,g,v,y,b,_,w=Math.PI/180*.5,T=new Array,k=new Array,S=new Array;if(e.length<3)return e;for(n=e.length,p=360*t/(2*Math.PI*6378137),p*=p,o=0,k[0]=0,S[0]=n-1,r=1;r>0;)if(a=k[r-1],i=S[r-1],r--,i-a>1){for(d=e[i].lng()-e[a].lng(),f=e[i].lat()-e[a].lat(),Math.abs(d)>180&&(d=360-Math.abs(d)),d*=Math.cos(w*(e[i].lat()+e[a].lat())),h=d*d+f*f,s=a+1,c=a,u=-1;i>s;s++)m=e[s].lng()-e[a].lng(),g=e[s].lat()-e[a].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(w*(e[s].lat()+e[a].lat())),v=m*m+g*g,y=e[s].lng()-e[i].lng(),b=e[s].lat()-e[i].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),y*=Math.cos(w*(e[s].lat()+e[i].lat())),_=y*y+b*b,l=v>=h+_?_:_>=h+v?v:(m*f-g*d)*(m*f-g*d)/h,l>u&&(c=s,u=l);p>u?(T[o]=a,o++):(r++,k[r-1]=c,S[r-1]=i,r++,k[r-1]=a,S[r-1]=c)}else T[o]=a,o++;T[o]=n-1,o++;for(var C=new Array,s=0;o>s;s++)C.push(e[T[s]]);return C.map(function(e){return{type:"Point",coordinates:[e.lng,e.lat]}})},r.destinationPoint=function(e,t,n){n/=6371,t=r.numberToRadius(t);var o=r.numberToRadius(e.coordinates[0]),a=r.numberToRadius(e.coordinates[1]),i=Math.asin(Math.sin(o)*Math.cos(n)+Math.cos(o)*Math.sin(n)*Math.cos(t)),s=a+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(o),Math.cos(n)-Math.sin(o)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[r.numberToDegree(i),r.numberToDegree(s)]}}}()}.call(this),function(){e=t.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:e}}(),function(){var e,t,n,r,o,a,i,s,c,l,u,p,d,f,h,m,g=Package.meteor.Meteor,v=Package.underscore._,y=Package.json.JSON,b=Package.ejson.EJSON,_=Package["id-map"].IdMap,w=Package["ordered-dict"].OrderedDict,T=Package.tracker.Tracker,k=(Package.tracker.Deps,Package.random.Random),S=Package["geojson-utils"].GeoJSON;(function(){e=function(t){var n=this;n.name=t,n._docs=new e._IdMap,n._observeQueue=new g._SynchronousQueue,n.next_qid=1,n.queries={},n._savedOriginals=null,n.paused=!1},t={},n={},e._applyChanges=function(e,t){v.each(t,function(t,n){void 0===t?delete e[n]:e[n]=t})},r=function(e){var t=new Error(e);return t.name="MinimongoError",t},e.prototype.find=function(t,n){return 0===arguments.length&&(t={}),new e.Cursor(this,t,n)},e.Cursor=function(n,r,o){var a=this;o||(o={}),a.collection=n,a.sorter=null,e._selectorIsId(r)?(a._selectorId=r,a.matcher=new t.Matcher(r,a)):(a._selectorId=void 0,a.matcher=new t.Matcher(r,a),(a.matcher.hasGeoQuery()||o.sort)&&(a.sorter=new t.Sorter(o.sort||[],{matcher:a.matcher}))),a.skip=o.skip,a.limit=o.limit,a.fields=o.fields,a.fields&&(a.projectionFn=e._compileProjection(a.fields)),a._transform=e.wrapTransform(o.transform),"undefined"!=typeof T&&(a.reactive=void 0===o.reactive?!0:o.reactive)},e.Cursor.prototype.rewind=function(){},e.prototype.findOne=function(e,t){return 0===arguments.length&&(e={}),t=t||{},t.limit=1,this.find(e,t).fetch()[0]},e.Cursor.prototype.forEach=function(e,t){var n=this,r=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),v.each(r,function(r,o){r=n.projectionFn?n.projectionFn(r):b.clone(r),n._transform&&(r=n._transform(r)),e.call(t,r,o,n)})},e.Cursor.prototype.getTransform=function(){return this._transform},e.Cursor.prototype.map=function(e,t){var n=this,r=[];return n.forEach(function(o,a){r.push(e.call(t,o,a,n))}),r},e.Cursor.prototype.fetch=function(){var e=this,t=[];return e.forEach(function(e){t.push(e)}),t},e.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},e.Cursor.prototype._publishCursor=function(e){var t=this;if(!t.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var n=t.collection.name;return Mongo.Collection._publishCursor(t,e,n)},e.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},e._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},e._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},e.ObserveHandle=function(){},v.extend(e.Cursor.prototype,{observe:function(t){var n=this;return e._observeFromObserveChanges(n,t)},observeChanges:function(t){var n=this,r=e._observeChangesCallbacksAreOrdered(t);if(!t._allow_unordered&&!r&&(n.skip||n.limit))throw new Error("must use ordered observe with skip or limit");if(n.fields&&(0===n.fields._id||n.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var o,a={matcher:n.matcher,sorter:r&&n.sorter,distances:n.matcher.hasGeoQuery()&&r&&new e._IdMap,resultsSnapshot:null,ordered:r,cursor:n,projectionFn:n.projectionFn};n.reactive&&(o=n.collection.next_qid++,n.collection.queries[o]=a),a.results=n._getRawObjects({ordered:r,distances:a.distances}),n.collection.paused&&(a.resultsSnapshot=r?[]:new e._IdMap);var i=function(e,t,r){return e?function(){var o=this,a=arguments;n.collection.paused||void 0!==t&&n.projectionFn&&(a[t]=n.projectionFn(a[t]),r&&v.isEmpty(a[t]))||n.collection._observeQueue.queueTask(function(){e.apply(o,a)})}:function(){}};if(a.added=i(t.added,1),a.changed=i(t.changed,1,!0),a.removed=i(t.removed),r&&(a.addedBefore=i(t.addedBefore,1),a.movedBefore=i(t.movedBefore)),!t._suppress_initial&&!n.collection.paused){var s=r?v.bind(v.each,null,a.results):v.bind(a.results.forEach,a.results);s(function(e){var t=b.clone(e);delete t._id,r&&a.addedBefore(e._id,t,null),a.added(e._id,t)})}var c=new e.ObserveHandle;return v.extend(c,{collection:n.collection,stop:function(){n.reactive&&delete n.collection.queries[o]}}),n.reactive&&T.active&&T.onInvalidate(function(){c.stop()}),n.collection._observeQueue.drain(),c}}),e.Cursor.prototype._getRawObjects=function(t){var n=this;t=t||{};var r=t.ordered?[]:new e._IdMap;if(void 0!==n._selectorId){if(n.skip)return r;var o=n.collection._docs.get(n._selectorId);return o&&(t.ordered?r.push(o):r.set(n._selectorId,o)),r}var a;if(n.matcher.hasGeoQuery()&&t.ordered&&(t.distances?(a=t.distances,a.clear()):a=new e._IdMap),n.collection._docs.forEach(function(e,o){var i=n.matcher.documentMatches(e);return i.result&&(t.ordered?(r.push(e),a&&void 0!==i.distance&&a.set(o,i.distance)):r.set(o,e)),!n.limit||n.skip||n.sorter||r.length!==n.limit?!0:!1}),!t.ordered)return r;if(n.sorter){var i=n.sorter.getComparator({distances:a});r.sort(i)}var s=n.skip||0,c=n.limit?n.limit+s:r.length;return r.slice(s,c)},e.Cursor.prototype._depend=function(e,t){var n=this;if(T.active){var r=new T.Dependency;r.depend();var o=v.bind(r.changed,r),a={_suppress_initial:!0,_allow_unordered:t};v.each(["added","changed","removed","addedBefore","movedBefore"],function(t){e[t]&&(a[t]=o)}),n.observeChanges(a)}},e.prototype.insert=function(t,n){var o=this;t=b.clone(t),v.has(t,"_id")||(t._id=e._useOID?new e._ObjectID:k.id());var a=t._id;if(o._docs.has(a))throw r("Duplicate _id '"+a+"'");o._saveOriginal(a,void 0),o._docs.set(a,t);var i=[];for(var s in o.queries){var c=o.queries[s],l=c.matcher.documentMatches(t);l.result&&(c.distances&&void 0!==l.distance&&c.distances.set(a,l.distance),c.cursor.skip||c.cursor.limit?i.push(s):e._insertInResults(c,t))
}return v.each(i,function(t){o.queries[t]&&e._recomputeResults(o.queries[t])}),o._observeQueue.drain(),n&&g.defer(function(){n(null,a)}),a},e.prototype._eachPossiblyMatchingDoc=function(t,n){var r=this,o=e._idsMatchedBySelector(t);if(o)for(var a=0;a<o.length;++a){var i=o[a],s=r._docs.get(i);if(s){var c=n(s,i);if(c===!1)break}}else r._docs.forEach(n)},e.prototype.remove=function(n,r){var o=this;if(o.paused&&!o._savedOriginals&&b.equals(n,{})){var a=o._docs.size();return o._docs.clear(),v.each(o.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),r&&g.defer(function(){r(null,a)}),a}var i=new t.Matcher(n,o),s=[];o._eachPossiblyMatchingDoc(n,function(e,t){i.documentMatches(e).result&&s.push(t)});for(var c=[],l=[],u=0;u<s.length;u++){var p=s[u],d=o._docs.get(p);v.each(o.queries,function(e,t){e.matcher.documentMatches(d).result&&(e.cursor.skip||e.cursor.limit?c.push(t):l.push({qid:t,doc:d}))}),o._saveOriginal(p,d),o._docs.remove(p)}return v.each(l,function(t){var n=o.queries[t.qid];n&&(n.distances&&n.distances.remove(t.doc._id),e._removeFromResults(n,t.doc))}),v.each(c,function(t){var n=o.queries[t];n&&e._recomputeResults(n)}),o._observeQueue.drain(),a=s.length,r&&g.defer(function(){r(null,a)}),a},e.prototype.update=function(n,r,o,a){var i=this;!a&&o instanceof Function&&(a=o,o=null),o||(o={});var s=new t.Matcher(n,i),c={};v.each(i.queries,function(e,t){!e.cursor.skip&&!e.cursor.limit||e.paused||(c[t]=b.clone(e.results))});var l={},u=0;i._eachPossiblyMatchingDoc(n,function(e,t){var n=s.documentMatches(e);return n.result&&(i._saveOriginal(t,e),i._modifyAndNotify(e,r,l,n.arrayIndices),++u,!o.multi)?!1:!0}),v.each(l,function(t,n){var r=i.queries[n];r&&e._recomputeResults(r,c[n])}),i._observeQueue.drain();var p;if(0===u&&o.upsert){var d=e._removeDollarOperators(n);e._modify(d,r,{isInsert:!0}),!d._id&&o.insertedId&&(d._id=o.insertedId),p=i.insert(d),u=1}var f;return o._returnObject?(f={numberAffected:u},void 0!==p&&(f.insertedId=p)):f=u,a&&g.defer(function(){a(null,f)}),f},e.prototype.upsert=function(e,t,n,r){var o=this;return r||"function"!=typeof n||(r=n,n={}),o.update(e,t,v.extend({},n,{upsert:!0,_returnObject:!0}),r)},e.prototype._modifyAndNotify=function(t,n,r,o){var a=this,i={};for(var s in a.queries){var c=a.queries[s];i[s]=c.ordered?c.matcher.documentMatches(t).result:c.results.has(t._id)}var l=b.clone(t);e._modify(t,n,{arrayIndices:o});for(s in a.queries){c=a.queries[s];var u=i[s],p=c.matcher.documentMatches(t),d=p.result;d&&c.distances&&void 0!==p.distance&&c.distances.set(t._id,p.distance),c.cursor.skip||c.cursor.limit?(u||d)&&(r[s]=!0):u&&!d?e._removeFromResults(c,t):!u&&d?e._insertInResults(c,t):u&&d&&e._updateInResults(c,t,l)}},e._insertInResults=function(t,n){var r=b.clone(n);if(delete r._id,t.ordered){if(t.sorter){var o=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n),a=t.results[o+1];a=a?a._id:null,t.addedBefore(n._id,r,a)}else t.addedBefore(n._id,r,null),t.results.push(n);t.added(n._id,r)}else t.added(n._id,r),t.results.set(n._id,n)},e._removeFromResults=function(t,n){if(t.ordered){var r=e._findInOrderedResults(t,n);t.removed(n._id),t.results.splice(r,1)}else{var o=n._id;t.removed(n._id),t.results.remove(o)}},e._updateInResults=function(t,n,r){if(!b.equals(n._id,r._id))throw new Error("Can't change a doc's _id while updating");var o=e._makeChangedFields(n,r);if(!t.ordered)return void(v.isEmpty(o)||(t.changed(n._id,o),t.results.set(n._id,n)));var a=e._findInOrderedResults(t,n);if(v.isEmpty(o)||t.changed(n._id,o),t.sorter){t.results.splice(a,1);var i=e._insertInSortedList(t.sorter.getComparator({distances:t.distances}),t.results,n);if(a!==i){var s=t.results[i+1];s=s?s._id:null,t.movedBefore&&t.movedBefore(n._id,s)}}},e._recomputeResults=function(t,n){n||(n=t.results),t.distances&&t.distances.clear(),t.results=t.cursor._getRawObjects({ordered:t.ordered,distances:t.distances}),t.paused||e._diffQueryChanges(t.ordered,n,t.results,t)},e._findInOrderedResults=function(e,t){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var n=0;n<e.results.length;n++)if(e.results[n]===t)return n;throw Error("object missing from query")},e._binarySearch=function(e,t,n){for(var r=0,o=t.length;o>0;){var a=Math.floor(o/2);e(n,t[r+a])>=0?(r+=a+1,o-=a+1):o=a}return r},e._insertInSortedList=function(t,n,r){if(0===n.length)return n.push(r),0;var o=e._binarySearch(t,n,r);return n.splice(o,0,r),o},e.prototype.saveOriginals=function(){var t=this;if(t._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");t._savedOriginals=new e._IdMap},e.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var t=e._savedOriginals;return e._savedOriginals=null,t},e.prototype._saveOriginal=function(e,t){var n=this;n._savedOriginals&&(n._savedOriginals.has(e)||n._savedOriginals.set(e,b.clone(t)))},e.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var t=this.queries[e];t.resultsSnapshot=b.clone(t.results)}}},e.prototype.resumeObservers=function(){var t=this;if(this.paused){this.paused=!1;for(var n in this.queries){var r=t.queries[n];e._diffQueryChanges(r.ordered,r.resultsSnapshot,r.results,r),r.resultsSnapshot=null}t._observeQueue.drain()}},e._idStringify=function(t){if(t instanceof e._ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||e._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+y.stringify(t)},e._idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?y.parse(t.substr(1)):e._looksLikeObjectID(t)?new e._ObjectID(t):t},e._makeChangedFields=function(t,n){var r={};return e._diffObjects(n,t,{leftOnly:function(e){r[e]=void 0},rightOnly:function(e,t){r[e]=t},both:function(e,t,n){b.equals(t,n)||(r[e]=n)}}),r}}).call(this),function(){e.wrapTransform=function(e){return e?function(t){if(!v.has(t,"_id"))throw new Error("can only transform documents with _id");var n=t._id,r=T.nonreactive(function(){return e(t)});if(!a(r))throw new Error("transform must return object");if(v.has(r,"_id")){if(!b.equals(r._id,n))throw new Error("transformed document can't have different _id")}else r._id=n;return r}:null}}.call(this),function(){o=function(e){return v.isArray(e)&&!b.isBinary(e)},a=e._isPlainObject=function(t){return t&&3===e._f._type(t)},i=function(e){return o(e)||a(e)},s=function(e,t){if(!a(e))return!1;var n=void 0;return v.each(e,function(r,o){var a="$"===o.substr(0,1);if(void 0===n)n=a;else if(n!==a){if(!t)throw new Error("Inconsistent operator: "+y.stringify(e));n=!1}}),!!n},c=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){t.Matcher=function(e){var t=this;t._paths={},t._hasGeoQuery=!1,t._hasWhere=!1,t._isSimple=!0,t._matchingDocument=void 0,t._selector=null,t._docMatcher=t._compileSelector(e)},v.extend(t.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(t){var n=this;if(t instanceof Function)return n._isSimple=!1,n._selector=t,n._recordPathUsed(""),function(e){return{result:!!t.call(e)}};if(e._selectorIsId(t))return n._selector={_id:t},n._recordPathUsed("_id"),function(e){return{result:b.equals(e._id,t)}};if(!t||"_id"in t&&!t._id)return n._isSimple=!1,M;if("boolean"==typeof t||o(t)||b.isBinary(t))throw new Error("Invalid selector: "+t);return n._selector=b.clone(t),r(t,n,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return v.keys(this._paths)}});var r=function(e,t,n){n=n||{};var r=[];return v.each(e,function(e,o){if("$"===o.substr(0,1)){if(!v.has(_,o))throw new Error("Unrecognized logical operator: "+o);t._isSimple=!1,r.push(_[o](e,t,n.inElemMatch))}else{n.inElemMatch||t._recordPathUsed(o);var a=d(o),i=h(e,t,n.isRoot);r.push(function(e){var t=a(e);return i(t)})}}),A(r)},h=function(e,t,n){return e instanceof RegExp?(t._isSimple=!1,m(l(e))):s(e)?g(e,t,n):m(u(e))},m=function(e,t){return t=t||{},function(n){var r=n;t.dontExpandLeafArrays||(r=f(n,t.dontIncludeLeafArrays));var o={};return o.result=v.any(r,function(t){var n=e(t.value);return"number"==typeof n&&(t.arrayIndices||(t.arrayIndices=[n]),n=!0),n&&t.arrayIndices&&(o.arrayIndices=t.arrayIndices),n}),o}};l=function(e){return function(t){return t instanceof RegExp?v.isEqual(t,e):"string"!=typeof t?!1:e.test(t)}},u=function(t){if(s(t))throw Error("Can't create equalityValueSelector for operator object");return null==t?function(e){return null==e}:function(n){return e._f._equal(t,n)}};var g=function(e,t,n){var r=[];return v.each(e,function(o,a){var i=v.contains(["$lt","$lte","$gt","$gte"],a)&&v.isNumber(o),s="$ne"===a&&!v.isObject(o),c=v.contains(["$in","$nin"],a)&&v.isArray(o)&&!v.any(o,v.isObject);if("$eq"===a||i||c||s||(t._isSimple=!1),v.has(T,a))r.push(T[a](o,e,t,n));else{if(!v.has(p,a))throw new Error("Unrecognized operator: "+a);var l=p[a];r.push(m(l.compileElementSelector(o,e,t),l))}}),P(r)},y=function(e,t,n){if(!o(e)||v.isEmpty(e))throw Error("$and/$or/$nor must be nonempty array");return v.map(e,function(e){if(!a(e))throw Error("$or/$and/$nor entries need to be full objects");return r(e,t,{inElemMatch:n})})},_={$and:function(e,t,n){var r=y(e,t,n);return A(r)},$or:function(e,t,n){var r=y(e,t,n);return 1===r.length?r[0]:function(e){var t=v.any(r,function(t){return t(e).result});return{result:t}}},$nor:function(e,t,n){var r=y(e,t,n);return function(e){var t=v.all(r,function(t){return!t(e).result});return{result:t}}},$where:function(e,t){return t._recordPathUsed(""),t._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(t){return{result:e.call(t,t)}}},$comment:function(){return function(){return{result:!0}}}},w=function(e){return function(t){var n=e(t);return{result:!n.result}}},T={$not:function(e,t,n){return w(h(e,n))},$ne:function(e){return w(m(u(e)))},$nin:function(e){return w(m(p.$in.compileElementSelector(e)))},$exists:function(e){var t=m(function(e){return void 0!==e});return e?t:w(t)},$options:function(e,t){if(!v.has(t,"$regex"))throw Error("$options needs a $regex");return E},$maxDistance:function(e,t){if(!t.$near)throw Error("$maxDistance needs a $near");return E},$all:function(e,t,n){if(!o(e))throw Error("$all requires array");if(v.isEmpty(e))return M;var r=[];return v.each(e,function(e){if(s(e))throw Error("no $ expressions in $all");r.push(h(e,n))}),P(r)},$near:function(e,t,n,r){if(!r)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,s,c;if(a(e)&&v.has(e,"$geometry"))i=e.$maxDistance,s=e.$geometry,c=function(e){return e&&e.type?"Point"===e.type?S.pointDistance(s,e):S.geometryWithinRadius(e,s,i)?0:i+1:null};else{if(i=t.$maxDistance,!o(e)&&!a(e))throw Error("$near argument must be coordinate pair or GeoJSON");s=C(e),c=function(e){return o(e)||a(e)?k(s,e):null}}return function(e){e=f(e);var t={result:!1};return v.each(e,function(e){var n=c(e.value);null===n||n>i||void 0!==t.distance&&t.distance<=n||(t.result=!0,t.distance=n,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},k=function(e,t){e=C(e),t=C(t);var n=e[0]-t[0],r=e[1]-t[1];return v.isNaN(n)||v.isNaN(r)?null:Math.sqrt(n*n+r*r)},C=function(e){return v.map(e,v.identity)},L=function(t){return{compileElementSelector:function(n){if(o(n))return function(){return!1};void 0===n&&(n=null);var r=e._f._type(n);return function(o){return void 0===o&&(o=null),e._f._type(o)!==r?!1:t(e._f._cmp(o,n))}}}};p={$lt:L(function(e){return 0>e}),$gt:L(function(e){return e>0}),$lte:L(function(e){return 0>=e}),$gte:L(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!o(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var t=e[0],n=e[1];return function(e){return"number"==typeof e&&e%t===n}}},$in:{compileElementSelector:function(e){if(!o(e))throw Error("$in needs an array");var t=[];return v.each(e,function(e){if(e instanceof RegExp)t.push(l(e));else{if(s(e))throw Error("cannot nest $ under $in");t.push(u(e))}}),function(e){return void 0===e&&(e=null),v.any(t,function(t){return t(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(t){return o(t)&&t.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(t){if("number"!=typeof t)throw Error("$type needs a number");return function(n){return void 0!==n&&e._f._type(n)===t}}},$regex:{compileElementSelector:function(e,t){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var n;if(void 0!==t.$options){if(/[^gim]/.test(t.$options))throw new Error("Only the i, m, and g regexp options are supported");var r=e instanceof RegExp?e.source:e;n=new RegExp(r,t.$options)}else n=e instanceof RegExp?e:new RegExp(e);return l(n)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(e,t,n){if(!a(e))throw Error("$elemMatch need an object");var i,c;return s(e,!0)?(i=h(e,n),c=!1):(i=r(e,n,{inElemMatch:!0}),c=!0),function(e){if(!o(e))return!1;for(var t=0;t<e.length;++t){var n,r=e[t];if(c){if(!a(r)&&!o(r))return!1;n=r}else n=[{value:r,dontIterate:!0}];if(i(n).result)return t}return!1}}}},d=function(e,t){t=t||{};var n,r=e.split("."),s=r.length?r[0]:"",l=c(s),u=r.length>=2&&c(r[1]);r.length>1&&(n=d(r.slice(1).join(".")));var p=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,r){if(r||(r=[]),o(e)){if(!(l&&s<e.length))return[];r=r.concat(+s,"x")}var c=e[s];if(!n)return[p({value:c,dontIterate:o(e)&&o(c),arrayIndices:r})];if(!i(c))return o(e)?[]:[p({value:void 0,arrayIndices:r})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(n(c,r)),!o(c)||u&&t.forSort||v.each(c,function(e,t){a(e)&&f(n(e,r.concat(t)))}),d}},n.makeLookupFunction=d,f=function(e,t){var n=[];return v.each(e,function(e){var r=o(e.value);t&&r&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),r&&!e.dontIterate&&v.each(e.value,function(t,r){n.push({value:t,arrayIndices:(e.arrayIndices||[]).concat(r)})})}),n};var M=function(){return{result:!1}},E=function(){return{result:!0}},x=function(e){return 0===e.length?E:1===e.length?e[0]:function(t){var n={};return n.result=v.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},A=x,P=x;e._f={_type:function(t){return"number"==typeof t?1:"string"==typeof t?2:"boolean"==typeof t?8:o(t)?4:null===t?10:t instanceof RegExp?11:"function"==typeof t?13:t instanceof Date?9:b.isBinary(t)?5:t instanceof e._ObjectID?7:3},_equal:function(e,t){return b.equals(e,t,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(t,n){if(void 0===t)return void 0===n?0:-1;if(void 0===n)return 1;var r=e._f._type(t),o=e._f._type(n),a=e._f._typeorder(r),i=e._f._typeorder(o);if(a!==i)return i>a?-1:1;if(r!==o)throw Error("Missing type coercion logic in _cmp");if(7===r&&(r=o=2,t=t.toHexString(),n=n.toHexString()),9===r&&(r=o=1,t=t.getTime(),n=n.getTime()),1===r)return t-n;if(2===o)return n>t?-1:t===n?0:1;if(3===r){var s=function(e){var t=[];for(var n in e)t.push(n),t.push(e[n]);return t};return e._f._cmp(s(t),s(n))}if(4===r)for(var c=0;;c++){if(c===t.length)return c===n.length?0:-1;if(c===n.length)return 1;var l=e._f._cmp(t[c],n[c]);if(0!==l)return l}if(5===r){if(t.length!==n.length)return t.length-n.length;for(c=0;c<t.length;c++){if(t[c]<n[c])return-1;if(t[c]>n[c])return 1}return 0}if(8===r)return t?n?0:1:n?-1:0;if(10===r)return 0;if(11===r)throw Error("Sorting not supported on regular expression");if(13===r)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},e._removeDollarOperators=function(e){var t={};for(var n in e)"$"!==n.substr(0,1)&&(t[n]=e[n]);return t}}.call(this),function(){t.Sorter=function(e,r){var o=this;r=r||{},o._sortSpecParts=[];var a=function(e,t){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:d(e,{forSort:!0}),ascending:t})};if(e instanceof Array)for(var i=0;i<e.length;i++)"string"==typeof e[i]?a(e[i],!0):a(e[i][0],"desc"!==e[i][1]);else{if("object"!=typeof e)throw Error("Bad sort specification: "+y.stringify(e));v.each(e,function(e,t){a(t,e>=0)})}if(o.affectedByModifier){var s={};v.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new t.Matcher(s)}o._keyComparator=n(v.map(o._sortSpecParts,function(e,t){return o._keyFieldComparator(t)})),o._keyFilter=null,r.matcher&&o._useWithMatcher(r.matcher)},v.extend(t.Sorter.prototype,{getComparator:function(e){var t=this;if(!e||!e.distances)return t._getBaseComparator();var r=e.distances;return n([t._getBaseComparator(),function(e,t){if(!r.has(e._id))throw Error("Missing distance for "+e._id);if(!r.has(t._id))throw Error("Missing distance for "+t._id);return r.get(e._id)-r.get(t._id)}])},_getPaths:function(){var e=this;return v.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var t=this,n=null;if(t._generateKeysFromDoc(e,function(e){return t._keyCompatibleWithSelector(e)?null===n?void(n=e):void(t._compareKeys(e,n)<0&&(n=e)):void 0}),null===n)throw Error("sort selector found no keys in doc?");return n},_keyCompatibleWithSelector:function(e){var t=this;return!t._keyFilter||t._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var r=[],o=function(e){return e.join(",")+","},a=null;if(v.each(n._sortSpecParts,function(t,n){var i=f(t.lookup(e),!0);i.length||(i=[{value:null}]);var s=!1;if(r[n]={},v.each(i,function(e){if(!e.arrayIndices){if(i.length>1)throw Error("multiple branches but no array used?");return void(r[n][""]=e.value)}s=!0;var t=o(e.arrayIndices);if(v.has(r[n],t))throw Error("duplicate path: "+t);if(r[n][t]=e.value,a&&!v.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!v.has(r[n],"")&&v.size(a)!==v.size(r[n]))throw Error("cannot index parallel arrays!")}else s&&(a={},v.each(r[n],function(e,t){a[t]=!0}))}),!a){var i=v.map(r,function(e){if(!v.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(i)}v.each(a,function(e,n){var o=v.map(r,function(e){if(v.has(e,""))return e[""];if(!v.has(e,n))throw Error("missing path?");return e[n]});t(o)})},_compareKeys:function(e,t){var n=this;if(e.length!==n._sortSpecParts.length||t.length!==n._sortSpecParts.length)throw Error("Key has wrong length");return n._keyComparator(e,t)},_keyFieldComparator:function(t){var n=this,r=!n._sortSpecParts[t].ascending;return function(n,o){var a=e._f._cmp(n[t],o[t]);return r&&(a=-a),a}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(t,n){var r=e._getMinKeyFromDoc(t),o=e._getMinKeyFromDoc(n);return e._compareKeys(r,o)}:function(){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!v.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var r={};v.each(t._sortSpecParts,function(e){r[e.path]=[]}),v.each(n,function(e,t){var n=r[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(l(e))}return s(e)?void v.each(e,function(t,r){v.contains(["$lt","$lte","$gt","$gte"],r)&&n.push(p[r].compileElementSelector(t)),"$regex"!==r||e.$options||n.push(p.$regex.compileElementSelector(t,e))}):void n.push(u(e))}}),v.isEmpty(r[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return v.all(t._sortSpecParts,function(t,n){return v.all(r[t.path],function(t){return t(e[n])})})})}}}});var n=function(e){return function(t,n){for(var r=0;r<e.length;++r){var o=e[r](t,n);if(0!==o)return o}return 0}}}.call(this),function(){e._compileProjection=function(t){e._checkSupportedProjection(t);var n=v.isUndefined(t._id)?!0:t._id,r=h(t),o=function(e,t){if(v.isArray(e))return v.map(e,function(e){return o(e,t)});var n=r.including?{}:b.clone(e);return v.each(t,function(t,a){v.has(e,a)&&(v.isObject(t)?v.isObject(e[a])&&(n[a]=o(e[a],t)):r.including?n[a]=b.clone(e[a]):delete n[a])}),n};return function(e){var t=o(e,r.tree);return n&&v.has(e,"_id")&&(t._id=e._id),!n&&v.has(t,"_id")&&delete t._id,t}},h=function(e){var t=v.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=v.reject(t,function(e){return"_id"===e}));var n=null;v.each(t,function(t){var o=!!e[t];if(null===n&&(n=o),n!==o)throw r("You cannot currently mix including and excluding fields.")});var o=m(t,function(){return n},function(e,t,n){var o=n,a=t;throw r("both "+o+" and "+a+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},m=function(e,t,n,r){return r=r||{},v.each(e,function(e){var o=r,a=e.split("."),i=v.all(a.slice(0,-1),function(t,r){if(v.has(o,t)){if(!v.isObject(o[t])&&(o[t]=n(o[t],a.slice(0,r+1).join("."),e),!v.isObject(o[t])))return!1}else o[t]={};return o=o[t],!0});if(i){var s=v.last(a);o[s]=v.has(o,s)?n(o[s],e,e):t(e)}}),r},e._checkSupportedProjection=function(e){if(!v.isObject(e)||v.isArray(e))throw r("fields option must be an object");v.each(e,function(e,t){if(v.contains(t.split("."),"$"))throw r("Minimongo doesn't support $ operator in projections yet.");if(-1===v.indexOf([1,0,!0,!1],e))throw r("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){e._modify=function(e,t,i){if(i=i||{},!a(t))throw r("Modifier must be an object");var c,u=s(t);if(u)c=b.clone(e),v.each(t,function(e,t){var a=l[t];if(i.isInsert&&"$setOnInsert"===t&&(a=l.$set),!a)throw r("Invalid modifier specified "+t);v.each(e,function(e,s){if(s.length&&"."===s[s.length-1])throw r("Invalid mod field name, may not end in a period");if("_id"===s)throw r("Mod on _id not allowed");var l=s.split("."),u=(v.has(o,t),n(c,l,{noCreate:o[t],forbidArray:"$rename"===t,arrayIndices:i.arrayIndices})),p=l.pop();a(u,p,e,s,c)})});else{if(t._id&&!b.equals(e._id,t._id))throw r("Cannot change the _id of a document");for(var p in t)if(/\./.test(p))throw r("When replacing document, field name may not contain '.'");c=t}v.each(v.keys(e),function(t){("_id"!==t||i.isInsert)&&delete e[t]}),v.each(c,function(t,n){e[n]=t})};var n=function(e,t,n){n=n||{};for(var o=!1,a=0;a<t.length;a++){var s=a===t.length-1,l=t[a],u=i(e);if(!u){if(n.noCreate)return void 0;var p=r("cannot use the part '"+l+"' to traverse "+e);throw p.setPropertyError=!0,p}if(e instanceof Array){if(n.forbidArray)return null;if("$"===l){if(o)throw r("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw r("The positional operator did not find the match needed from the query");l=n.arrayIndices[0],o=!0}else{if(!c(l)){if(n.noCreate)return void 0;throw r("can't append to array using string field name ["+l+"]")}l=parseInt(l)}if(s&&(t[a]=l),n.noCreate&&l>=e.length)return void 0;for(;e.length<l;)e.push(null);if(!s)if(e.length===l)e.push({});else if("object"!=typeof e[l])throw r("can't modify field '"+t[a+1]+"' of list value "+y.stringify(e[l]))}else{if(l.length&&"$"===l.substr(0,1))throw r("can't set field named "+l);if(!(l in e)){if(n.noCreate)return void 0;s||(e[l]={})}}if(s)return e;e=e[l]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},l={$inc:function(e,t,n){if("number"!=typeof n)throw r("Modifier $inc allowed for numbers only");if(t in e){if("number"!=typeof e[t])throw r("Cannot apply $inc modifier to non-number");e[t]+=n}else e[t]=n},$set:function(e,t,n){if(!v.isObject(e)){var o=r("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=r("Cannot set property on null");throw o.setPropertyError=!0,o}e[t]=b.clone(n)},$setOnInsert:function(){},$unset:function(e,t){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(n,o,a){if(void 0===n[o]&&(n[o]=[]),!(n[o]instanceof Array))throw r("Cannot apply $push modifier to non-array");if(!a||!a.$each)return void n[o].push(b.clone(a));var i=a.$each;if(!(i instanceof Array))throw r("$each must be an array");var s=void 0;if("$slice"in a){if("number"!=typeof a.$slice)throw r("$slice must be a numeric value");if(a.$slice>0)throw r("$slice in $push must be zero or negative");s=a.$slice}var c=void 0;if(a.$sort){if(void 0===s)throw r("$sort requires $slice to be present");c=new t.Sorter(a.$sort).getComparator();for(var l=0;l<i.length;l++)if(3!==e._f._type(i[l]))throw r("$push like modifiers using $sort require all elements to be objects")}for(var u=0;u<i.length;u++)n[o].push(b.clone(i[u]));c&&n[o].sort(c),void 0!==s&&(n[o]=0===s?[]:n[o].slice(s))},$pushAll:function(e,t,n){if(!("object"==typeof n&&n instanceof Array))throw r("Modifier $pushAll/pullAll allowed for arrays only");var o=e[t];if(void 0===o)e[t]=n;else{if(!(o instanceof Array))throw r("Cannot apply $pushAll modifier to non-array");for(var a=0;a<n.length;a++)o.push(n[a])}},$addToSet:function(t,n,o){var a=t[n];if(void 0===a)t[n]=[o];else{if(!(a instanceof Array))throw r("Cannot apply $addToSet modifier to non-array");var i=!1;if("object"==typeof o)for(var s in o){"$each"===s&&(i=!0);break}var c=i?o.$each:[o];v.each(c,function(t){for(var n=0;n<a.length;n++)if(e._f._equal(t,a[n]))return;a.push(b.clone(t))})}},$pop:function(e,t,n){if(void 0!==e){var o=e[t];if(void 0!==o){if(!(o instanceof Array))throw r("Cannot apply $pop modifier to non-array");"number"==typeof n&&0>n?o.splice(0,1):o.pop()}}},$pull:function(n,o,a){if(void 0!==n){var i=n[o];if(void 0!==i){if(!(i instanceof Array))throw r("Cannot apply $pull/pullAll modifier to non-array");var s=[];if("object"!=typeof a||a instanceof Array)for(var c=0;c<i.length;c++)e._f._equal(i[c],a)||s.push(i[c]);else for(var l=new t.Matcher(a),c=0;c<i.length;c++)l.documentMatches(i[c]).result||s.push(i[c]);n[o]=s}}},$pullAll:function(t,n,o){if(!("object"==typeof o&&o instanceof Array))throw r("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==t){var a=t[n];if(void 0!==a){if(!(a instanceof Array))throw r("Cannot apply $pull/pullAll modifier to non-array");for(var i=[],s=0;s<a.length;s++){for(var c=!1,l=0;l<o.length;l++)if(e._f._equal(a[s],o[l])){c=!0;break}c||i.push(a[s])}t[n]=i}}},$rename:function(e,t,o,a,i){if(a===o)throw r("$rename source must differ from target");if(null===e)throw r("$rename source field invalid");if("string"!=typeof o)throw r("$rename target must be a string");if(void 0!==e){var s=e[t];delete e[t];var c=o.split("."),l=n(i,c,{forbidArray:!0});if(null===l)throw r("$rename target field invalid");var u=c.pop();l[u]=s}},$bit:function(){throw r("$bit is not supported")}}}.call(this),function(){e._diffQueryChanges=function(t,n,r,o){t?e._diffQueryOrderedChanges(n,r,o):e._diffQueryUnorderedChanges(n,r,o)},e._diffQueryUnorderedChanges=function(t,n,r){if(r.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var a=t.get(o);if(a)r.changed&&!b.equals(a,n)&&r.changed(o,e._makeChangedFields(n,a));else if(r.added){var i=b.clone(n);delete i._id,r.added(n._id,i)}}),r.removed&&t.forEach(function(e,t){n.has(t)||r.removed(t)})},e._diffQueryOrderedChanges=function(t,n,r){var o={};v.each(n,function(e){o[e._id]&&g._debug("Duplicate _id in new_results"),o[e._id]=!0});var a={};v.each(t,function(e,t){e._id in a&&g._debug("Duplicate _id in old_results"),a[e._id]=t});for(var i=[],s=0,c=n.length,l=new Array(c),u=new Array(c),p=function(e){return a[n[e]._id]},d=0;c>d;d++)if(void 0!==a[n[d]._id]){for(var f=s;f>0&&!(p(l[f-1])<p(d));)f--;u[d]=0===f?-1:l[f-1],l[f]=d,f+1>s&&(s=f+1)}for(var h=0===s?-1:l[s-1];h>=0;)i.push(h),h=u[h];i.reverse(),i.push(n.length),v.each(t,function(e){o[e._id]||r.removed&&r.removed(e._id)});var m=0;v.each(i,function(o){for(var i,s,c,l=n[o]?n[o]._id:null,u=m;o>u;u++)s=n[u],v.has(a,s._id)?(i=t[a[s._id]],c=e._makeChangedFields(s,i),v.isEmpty(c)||r.changed&&r.changed(s._id,c),r.movedBefore&&r.movedBefore(s._id,l)):(c=b.clone(s),delete c._id,r.addedBefore&&r.addedBefore(s._id,c,l),r.added&&r.added(s._id,c));l&&(s=n[o],i=t[a[s._id]],c=e._makeChangedFields(s,i),v.isEmpty(c)||r.changed&&r.changed(s._id,c)),m=o+1})},e._diffObjects=function(e,t,n){v.each(e,function(e,r){v.has(t,r)?n.both&&n.both(r,e,t[r]):n.leftOnly&&n.leftOnly(r,e)}),n.rightOnly&&v.each(t,function(t,r){v.has(e,r)||n.rightOnly(r,t)})}}.call(this),function(){e._IdMap=function(){var t=this;_.call(t,e._idStringify,e._idParse)},g._inherits(e._IdMap,_)}.call(this),function(){e._CachingChangeObserver=function(t){var n=this;t=t||{};var r=t.callbacks&&e._observeChangesCallbacksAreOrdered(t.callbacks);if(v.has(t,"ordered")){if(n.ordered=t.ordered,t.callbacks&&t.ordered!==r)throw Error("ordered option doesn't match callbacks")}else{if(!t.callbacks)throw Error("must provide ordered or callbacks");n.ordered=r}var o=t.callbacks||{};n.ordered?(n.docs=new w(e._idStringify),n.applyChange={addedBefore:function(e,t,r){var a=b.clone(t);a._id=e,o.addedBefore&&o.addedBefore.call(n,e,t,r),o.added&&o.added.call(n,e,t),n.docs.putBefore(e,a,r||null)},movedBefore:function(e,t){n.docs.get(e);o.movedBefore&&o.movedBefore.call(n,e,t),n.docs.moveBefore(e,t||null)}}):(n.docs=new e._IdMap,n.applyChange={added:function(e,t){var r=b.clone(t);o.added&&o.added.call(n,e,t),r._id=e,n.docs.set(e,r)}}),n.applyChange.changed=function(t,r){var a=n.docs.get(t);if(!a)throw new Error("Unknown id for changed: "+t);o.changed&&o.changed.call(n,t,b.clone(r)),e._applyChanges(a,r)},n.applyChange.removed=function(e){o.removed&&o.removed.call(n,e),n.docs.remove(e)}},e._observeFromObserveChanges=function(t,n){var r,o=t.getTransform()||function(e){return e},a=!!n._suppress_initial;if(e._observeCallbacksAreOrdered(n)){var i=!n._no_indices;r={addedBefore:function(e,t,r){var s=this;if(!a&&(n.addedAt||n.added)){var c=o(v.extend(t,{_id:e}));if(n.addedAt){var l=i?r?s.docs.indexOf(r):s.docs.size():-1;n.addedAt(c,l,r)}else n.added(c)}},changed:function(t,r){var a=this;if(n.changedAt||n.changed){var s=b.clone(a.docs.get(t));if(!s)throw new Error("Unknown id for changed: "+t);var c=o(b.clone(s));if(e._applyChanges(s,r),s=o(s),n.changedAt){var l=i?a.docs.indexOf(t):-1;n.changedAt(s,c,l)}else n.changed(s,c)}},movedBefore:function(e,t){var r=this;if(n.movedTo){var a=i?r.docs.indexOf(e):-1,s=i?t?r.docs.indexOf(t):r.docs.size():-1;s>a&&--s,n.movedTo(o(b.clone(r.docs.get(e))),a,s,t||null)}},removed:function(e){var t=this;if(n.removedAt||n.removed){var r=o(t.docs.get(e));if(n.removedAt){var a=i?t.docs.indexOf(e):-1;n.removedAt(r,a)}else n.removed(r)}}}}else r={added:function(e,t){if(!a&&n.added){var r=v.extend(t,{_id:e});n.added(o(r))}},changed:function(t,r){var a=this;if(n.changed){var i=a.docs.get(t),s=b.clone(i);e._applyChanges(s,r),n.changed(o(s),o(b.clone(i)))}},removed:function(e){var t=this;n.removed&&n.removed(o(t.docs.get(e)))}};var s=new e._CachingChangeObserver({callbacks:r}),c=t.observeChanges(s.applyChange);return a=!1,c}}.call(this),function(){e._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},e._ObjectID=function(t){var n=this;if(t){if(t=t.toLowerCase(),!e._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");n._str=t}else n._str=k.hexString(24)},e._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},e._ObjectID.prototype.equals=function(t){var n=this;return t instanceof e._ObjectID&&n.valueOf()===t.valueOf()
},e._ObjectID.prototype.clone=function(){var t=this;return new e._ObjectID(t._str)},e._ObjectID.prototype.typeName=function(){return"oid"},e._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},e._ObjectID.prototype.valueOf=e._ObjectID.prototype.toJSONValue=e._ObjectID.prototype.toHexString=function(){return this._str},e._selectorIsId=function(t){return"string"==typeof t||"number"==typeof t||t instanceof e._ObjectID},e._selectorIsIdPerhapsAsObject=function(t){return e._selectorIsId(t)||t&&"object"==typeof t&&t._id&&e._selectorIsId(t._id)&&1===v.size(t)},e._idsMatchedBySelector=function(t){if(e._selectorIsId(t))return[t];if(!t)return null;if(v.has(t,"_id"))return e._selectorIsId(t._id)?[t._id]:t._id&&t._id.$in&&v.isArray(t._id.$in)&&!v.isEmpty(t._id.$in)&&v.all(t._id.$in,e._selectorIsId)?t._id.$in:null;if(t.$and&&v.isArray(t.$and))for(var n=0;n<t.$and.length;++n){var r=e._idsMatchedBySelector(t.$and[n]);if(r)return r}return null},b.addType("oid",function(t){return new e._ObjectID(t)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:e,Minimongo:t,MinimongoTest:n}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.ejson.EJSON;(function(){e=function(){return e.info.apply(this,arguments)};var o=0,a=[],i=0;e._intercept=function(e){o+=e},e._suppress=function(e){i+=e},e._intercepted=function(){var e=a;return a=[],o=0,e},e.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},c="blue",l=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=l.concat(["app","message"]),p=function(n){var r=e.format(n),o=n.level;"undefined"!=typeof console&&console[o]?console[o](r):t._debug(r)};e._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n,r=t.split("\n"),o=1;o<r.length;++o){if(n=r[o],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test:)?logging(?:\/|\.js)/))break}var a={},i=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return i?(a.line=i[2].split(":")[0],a.file=i[1].split("/").slice(-1)[0].split("?")[0],a):a},n.each(["debug","info","warn","error"],function(s){e[s]=function(c){if(i)return void i--;var u=!1;o&&(o--,u=!0);var d=!n.isObject(c)||n.isRegExp(c)||n.isDate(c)?{message:new String(c).toString()}:c;if(n.each(l,function(e){if(d[e])throw new Error("Can't set '"+e+"' in log message")}),n.has(d,"message")&&!n.isString(d.message))throw new Error("The 'message' field in log objects must be a string");if(d.omitCallerDetails||(d=n.extend(e._getCallerDetails(),d)),d.time=new Date,d.level=s,"debug"!==s)if(u)a.push(r.stringify(d));else if(t.isServer)if("colored-text"===e.outputFormat)console.log(e.format(d,{color:!0}));else{if("json"!==e.outputFormat)throw new Error("Unknown logging output format: "+e.outputFormat);console.log(r.stringify(d))}else p(d)}}),e.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},e.format=function(e,o){e=r.clone(e),o=o||{};var a=e.time;if(!(a instanceof Date))throw new Error("'time' must be a Date object");var i=e.timeInexact,l=e.level||"info",p=e.file,d=e.line,f=e.app||"",h=e.originApp,m=e.message||"",g=e.program||"",v=e.satellite,y=e.stderr||"";n.each(u,function(t){delete e[t]}),n.isEmpty(e)||(m&&(m+=" "),m+=r.stringify(e));var b=function(e){return 10>e?"0"+e:e.toString()},_=function(e){return 100>e?"0"+b(e):e.toString()},w=a.getFullYear().toString()+b(a.getMonth()+1)+b(a.getDate()),T=b(a.getHours())+":"+b(a.getMinutes())+":"+b(a.getSeconds())+"."+_(a.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",S="";f&&(S+=f),h&&h!==f&&(S+=" via "+h),S&&(S="["+S+"] ");var C=[];g&&C.push(g),p&&C.push(p),d&&C.push(d);var L=n.isEmpty(C)?"":"("+C.join(":")+") ";v&&(L+=["[",v,"]"].join(""));var M=y?"(STDERR) ":"",E=[l.charAt(0).toUpperCase(),w,"-",T,k,i?"? ":" ",S,L,M].join(""),x=function(e,n){return o.color&&t.isServer&&n?Npm.require("cli-color")[n](e):e};return x(E,o.metaColor||c)+x(m,s[l])},e.objFromText=function(e,t){var r={message:e,level:"info",time:new Date,timeInexact:!0};return n.extend(r,t)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:e}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.underscore._,o=Package.ejson.EJSON;(function(){var a=new n.EnvironmentVariable;e=function(e,n){var r=a.getOrNullIfOutsideFiber();r&&r.checking(e);try{d(e,n)}catch(o){throw o instanceof t.Error&&o.path&&(o.message+=" in field "+o.path),o}},t={Optional:function(e){return new i(e)},OneOf:function(){return new s(r.toArray(arguments))},Any:["__any__"],Where:function(e){return new c(e)},ObjectIncluding:function(e){return new l(e)},ObjectWithValues:function(e){return new u(e)},Integer:["__integer__"],Error:n.makeErrorType("Match.Error",function(e){this.message="Match error: "+e,this.path="",this.sanitizedError=new n.Error(400,"Match failed")}),test:function(e,n){try{return d(e,n),!0}catch(r){if(r instanceof t.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,n,r){var o=new f(n,r),i=a.withValue(o,function(){return e.apply(t,n)});return o.throwUnlessAllArgumentsHaveBeenChecked(),i}};var i=function(e){this.pattern=e},s=function(e){if(r.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},c=function(e){this.condition=e},l=function(e){this.pattern=e},u=function(e){this.pattern=e},p=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],d=function(e,n){if(n!==t.Any){for(var a=0;a<p.length;++a)if(n===p[a][0]){if(typeof e===p[a][1])return;throw new t.Error("Expected "+p[a][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new t.Error("Expected null, got "+o.stringify(e))}if("string"==typeof n||"number"==typeof n){if(e===n)return;throw new t.Error("Expected "+n+", got "+o.stringify(e))}if(n===t.Integer){if("number"==typeof e&&(0|e)===e)return;throw new t.Error("Expected Integer, got "+(e instanceof Object?o.stringify(e):e))}if(n===Object&&(n=t.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+o.stringify(n));if(!r.isArray(e)&&!r.isArguments(e))throw new t.Error("Expected array, got "+o.stringify(e));return void r.each(e,function(e,r){try{d(e,n[0])}catch(o){throw o instanceof t.Error&&(o.path=m(r,o.path)),o}})}if(n instanceof c){if(n.condition(e))return;throw new t.Error("Failed Match.Where validation")}if(n instanceof i&&(n=t.OneOf(void 0,n.pattern)),n instanceof s){for(var a=0;a<n.choices.length;++a)try{return void d(e,n.choices[a])}catch(f){if(!(f instanceof t.Error))throw f}throw new t.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new t.Error("Expected "+n.name)}var h,g=!1;if(n instanceof l&&(g=!0,n=n.pattern),n instanceof u&&(g=!0,h=[n.pattern],n={}),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new t.Error("Expected object, got "+typeof e);if(null===e)throw new t.Error("Expected object, got null");if(e.constructor!==Object)throw new t.Error("Expected plain object");var v={},y={};r.each(n,function(e,t){e instanceof i?y[t]=e.pattern:v[t]=e}),r.each(e,function(e,n){try{if(r.has(v,n))d(e,v[n]),delete v[n];else if(r.has(y,n))d(e,y[n]);else{if(!g)throw new t.Error("Unknown key");h&&d(e,h[0])}}catch(o){throw o instanceof t.Error&&(o.path=m(n,o.path)),o}}),r.each(v,function(e,n){throw new t.Error("Missing key '"+n+"'")})}},f=function(e,t){var n=this;n.args=r.clone(e),n.args.reverse(),n.description=t};r.extend(f.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(r.isArray(e)||r.isArguments(e))&&r.each(e,r.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n])return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!r.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var h=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],m=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||r.contains(h,e))&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:e,Match:t}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.random.Random;(function(){e=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(e.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var n=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return n*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(e,n){var r=this,o=r._timeout(e);return r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=t.setTimeout(n,o),o}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=(Package.logging.Log,Package.json.JSON);(function(){var o,a="Meteor_Reload",i=3e4,s={},c=null;try{c=window.sessionStorage,c?(c.setItem("__dummy__","1"),c.removeItem("__dummy__")):c=null}catch(l){c=null}c&&(o=c.getItem(a),c.removeItem(a)),o||(o="{}");var u={};try{u=r.parse(o),"object"!=typeof u&&(t._debug("Got bad data on reload. Ignoring."),u={})}catch(p){t._debug("Got invalid JSON on reload. Ignoring.")}u.reload&&"object"==typeof u.data&&u.time+i>(new Date).getTime()&&(s=u.data);var d=[];e={},e._onMigrate=function(e,t){t||(t=e,e=void 0),d.push({name:e,callback:t})},e._migrationData=function(e){return s[e]};var f=function(e,t){e=e||function(){};for(var r={},o=n.clone(d),a=!0;o.length;){var i=o.shift(),s=i.callback(e,t);s[0]||(a=!1),s.length>1&&i.name&&(r[i.name]=s[1])}return a||t.immediateMigration?r:null};e._migrate=function(e,n){var o=f(e,n);if(null===o)return!1;try{var i=r.stringify({time:(new Date).getTime(),data:o,reload:!0})}catch(s){throw t._debug("Couldn't serialize data for migration",o),s}if("undefined"!=typeof sessionStorage&&sessionStorage)try{sessionStorage.setItem(a,i)}catch(s){t._debug("Couldn't save data for migration to sessionStorage",s)}else t._debug("Browser does not support sessionStorage. Not saving migration state.");return!0};var h=!1;e._reload=function(o){if(o=o||{},!h){h=!0;var i=function(){n.defer(function(){for(var s={},l=n.clone(d);l.length;){var u=l.shift(),p=u.callback(i);if(!p[0])return;p.length>1&&u.name&&(s[u.name]=p[1])}try{var f=r.stringify({time:(new Date).getTime(),data:s,reload:!0})}catch(h){throw t._debug("Couldn't serialize data for migration",s),h}if(c)try{c.setItem(a,f)}catch(h){t._debug("Couldn't save data for migration to sessionStorage",h)}else t._debug("Browser does not support sessionStorage. Not saving migration state.");e._migrate(i,o)&&window.location.reload()})};i()}}}).call(this),function(){t._reload={onMigrate:e._onMigrate,migrationData:e._migrationData,reload:e._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:e}}(),function(){{var e,t,n,r,o,a,i,s,c,l,u,p,d,f=Package.meteor.Meteor,h=(Package.check.check,Package.check.Match,Package.random.Random),m=Package.ejson.EJSON,g=Package.json.JSON,v=Package.underscore._,y=Package.tracker.Tracker,b=(Package.tracker.Deps,Package.logging.Log,Package.retry.Retry),_=Package.minimongo.LocalCollection;Package.minimongo.Minimongo}(function(){e={},t={}}).call(this),function(){n=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+g.stringify(e)+" not listed "+g.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var i="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||i.length;var n,r=[];for(n=0;e>n;n++)r.push(i.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var s="_jp";n.polluteGlobalNamespace=function(){s in t||(t[s]={})},n.closeFrame=function(e,t){return"c"+g.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var a=/^([a-z0-9.+-]+:)/i.exec(r);if(a){var i=a[0].toLowerCase(),s=r.substring(i.length),c=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(c)var l=c[0]}if(!i||!l)throw new Error("relativeTo must be an absolute url");o={protocol:i,host:l}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var u=t.split("/");return("http:"===u[0]&&/:80$/.test(u[2])||"https:"===u[0]&&/:443$/.test(u[2]))&&(u[2]=u[2].replace(/:(80|443)$/,"")),t=u.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var c,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},p=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,d=g&&g.stringify||function(e){return l.lastIndex=0,l.test(e)&&(e=e.replace(l,function(e){return u[e]})),'"'+e+'"'},f=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=d(e);return p.lastIndex=0,p.test(t)?(c||(c=f(p)),t.replace(p,function(e){return c[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=C[n]&&C[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var a=0;a<t.length;a++){var i=t[a];r[i]=e[i]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var m="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(m in t)){var r={};t[m]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[m](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},y=!1,b=function(){for(var e in v)v[e](),delete v[e]},_=function(){y||(y=!0,b())};n.attachEvent("unload",_),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,y&&n.delay(b),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var o,a,i=e.createElement("iframe"),s=function(){clearTimeout(o);try{i.onload=null}catch(e){}i.onerror=null},c=function(){i&&(s(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),n.unload_del(a))},l=function(e){i&&(c(),r(e))},u=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};return i.src=t,i.style.display="none",i.style.position="absolute",i.onerror=function(){l("onerror")},i.onload=function(){clearTimeout(o),o=setTimeout(function(){l("onload timeout")},2e3)},e.body.appendChild(i),o=setTimeout(function(){l("timeout")},15e3),a=n.unload_add(c),{post:u,cleanup:c,loaded:s}},n.createHtmlfile=function(e,r){var o,a,i,c=new ActiveXObject("htmlfile"),l=function(){clearTimeout(o)},u=function(){c&&(l(),n.unload_del(a),i.parentNode.removeChild(i),i=c=null,CollectGarbage())},p=function(e){c&&(u(),r(e))},d=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};c.open(),c.write('<html><script>document.domain="'+document.domain+'";</script></html>'),c.close(),c.parentWindow[s]=t[s];var f=c.createElement("div");return c.body.appendChild(f),i=c.createElement("iframe"),f.appendChild(i),i.src=e,o=setTimeout(function(){p("timeout")},15e3),a=n.unload_add(u),{post:d,cleanup:u,loaded:l}};var w=function(){};w.prototype=new a(["chunk","finish"]),w.prototype._start=function(e,r,o,a){var i=this;try{i.xhr=new XMLHttpRequest}catch(s){}if(!i.xhr)try{i.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xhr.open(e,r,!0)}catch(c){return i.emit("finish",0,""),void i._cleanup()}if(a&&a.no_credentials||(i.xhr.withCredentials="true"),a&&a.headers)for(var l in a.headers)i.xhr.setRequestHeader(l,a.headers[l]);i.xhr.onreadystatechange=function(){if(i.xhr){var e=i.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&i.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),i.emit("finish",t,e.responseText),i._cleanup(!1)}}},i.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var T=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};T.prototype=new w;var k=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};k.prototype=new w;var S=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};S.prototype=new a(["chunk","finish"]),S.prototype._start=function(e,t,r){var o=this,a=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var i=a.ontimeout=a.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};a.onprogress=function(){o.emit("chunk",200,a.responseText)},a.onload=function(){o.emit("finish",200,a.responseText),o._cleanup(!1)},o.xdr=a,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){i()}},S.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},S.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:O.enabled()?3:4};var C=function(e,t,r){if(!(this instanceof C))return new C(e,t,r);var o,a=this;a._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(a._options,r),a._base_url=n.amendUrl(e),a._server=a._options.server||n.random_number_string(1e3),a._options.protocols_whitelist&&a._options.protocols_whitelist.length?o=a._options.protocols_whitelist:(o="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,o&&a._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),a._protocols=[],a.protocol=null,a.readyState=C.CONNECTING,a._ir=q(a._base_url),a._ir.onfinish=function(e,t){a._ir=null,e?(a._options.info&&(e=n.objectExtend(e,a._options.info)),a._options.rtt&&(t=a._options.rtt),a._applyInfo(e,t,o),a._didClose()):a._didClose(1002,"Can't connect to server",!0)}};C.prototype=new r,C.version="0.3.4",C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},C.prototype._dispatchOpen=function(){var e=this;e.readyState===C.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=C.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},C.prototype._dispatchMessage=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("message",{data:e}))},C.prototype._dispatchHeartbeat=function(){var e=this;e.readyState===C.OPEN&&e.dispatchEvent(new o("heartbeat",{}))},C.prototype._didClose=function(e,t,r){var a=this;if(a.readyState!==C.CONNECTING&&a.readyState!==C.OPEN&&a.readyState!==C.CLOSING)throw new Error("INVALID_STATE_ERR");a._ir&&(a._ir.nuke(),a._ir=null),a._transport&&(a._transport.doCleanup(),a._transport=null);var i=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&a.readyState===C.CONNECTING&&!r){if(a._try_next_protocol(i))return;i=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:i})}a.readyState=C.CLOSED,n.delay(function(){a.dispatchEvent(i)})},C.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=g.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=g.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=g.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},C.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(C[o]&&C[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(C[o]&&C[o].enabled(r._options)){var a=C[o].roundTrips||1,i=(r._options.rto||0)*a||5e3;r._transport_tref=n.delay(i,function(){r.readyState===C.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),c=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+c," RTO:"+r._options.rto),r._transport=new C[o](r,c,r._base_url),!0}r._debug("Skipping transport:",o)}},C.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==C.CONNECTING&&r.readyState!==C.OPEN?!1:(r.readyState=C.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},C.prototype.send=function(e){var t=this;if(t.readyState===C.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===C.OPEN&&t._transport.doSend(n.quote(""+e)),!0},C.prototype._applyInfo=function(t,r,o){var a=this;a._options.info=t,a._options.rtt=r,a._options.rto=n.countRTO(r),a._options.info.null_origin=!e.domain,t.base_url&&(a._base_url=n.amendUrl(t.base_url,a._base_url));var i=n.probeProtocols();a._protocols=n.detectProtocols(i,o,t),n.isSameOriginScheme(a._base_url)||2!==n.isXHRCorsCapable()||(a._protocols=["jsonp-polling"])};var L=C.websocket=function(e,r){var o=this,a=r+"/websocket";a="https"===a.slice(0,5)?"wss"+a.slice(5):"ws"+a.slice(4),o.ri=e,o.url=a;var i=t.WebSocket||t.MozWebSocket;o.ws=new i(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};L.prototype.doSend=function(e){this.ws.send("["+e+"]")},L.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},L.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},L.roundTrips=2;var M=function(){};M.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},M.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},M.prototype.send_schedule_wait=function(){var e,t=this;t.send_stop=function(){t.send_stop=null,clearTimeout(e)},e=n.delay(25,function(){t.send_stop=null,t.send_schedule()})},M.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},M.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var E=function(t,r,o){var a=this;if(!("_send_form"in a)){var i=a._send_form=e.createElement("form"),s=a._send_area=e.createElement("textarea");s.name="d",i.style.display="none",i.style.position="absolute",i.method="POST",i.enctype="application/x-www-form-urlencoded",i.acceptCharset="UTF-8",i.appendChild(s),e.body.appendChild(i)}var i=a._send_form,s=a._send_area,c="a"+n.random_string(8);i.target=c,i.action=t+"/jsonp_send?i="+c;var l;try{l=e.createElement('<iframe name="'+c+'">')}catch(u){l=e.createElement("iframe"),l.name=c}l.id=c,i.appendChild(l),l.style.display="none";try{s.value=r}catch(p){n.log("Your browser is seriously broken. Go home! "+p.message)}i.submit();var d=function(){l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,n.delay(500,function(){l.parentNode.removeChild(l),l=null}),s.value="",o(!0))};return l.onerror=l.onload=d,l.onreadystatechange=function(){"complete"==l.readyState&&d()},d},x=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},A=function(t,r){var o,a,i=e.createElement("script"),s=function(e){a&&(a.parentNode.removeChild(a),a=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},c=!1,l=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(){l||(l=setTimeout(function(){c||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))
},i.onreadystatechange=function(){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){c=!0;try{i.onclick()}catch(e){}}i&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=a.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(u){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var p=e.getElementsByTagName("head")[0];return p.insertBefore(i,p.firstChild),a&&p.insertBefore(a,p.firstChild),s},P=C["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(E),r._schedule_recv()};P.prototype=new M,P.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=I(e.trans_url+"/jsonp",A,t)},P.enabled=function(){return!0},P.need_body=!0,P.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var I=function(e,r,o){var a="a"+n.random_string(6),i=e+"?c="+escape(s+"."+a),c=0,l=function(e){switch(c){case 0:delete t[s][a],o(e);break;case 1:o(e),c=2;break;case 2:delete t[s][a]}},u=r(i,l);t[s][a]=u;var p=function(){t[s][a]&&(c=1,t[s][a](n.closeFrame(1e3,"JSONP user aborted read")))};return p},N=function(){};N.prototype=new M,N.prototype.run=function(e,t,n,r,o){var a=this;a.ri=e,a.trans_url=t,a.send_constructor(x(o)),a.poll=new Z(e,r,t+n,o)},N.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var D=C["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XHRCorsObject)};D.prototype=new N,D.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},D.roundTrips=2,D.need_body=!0;var H=C["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",ot,n.XDRObject)};H.prototype=new N,H.enabled=function(){return!!t.XDomainRequest},H.roundTrips=2;var B=C["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRCorsObject)};B.prototype=new N,B.enabled=D.enabled,B.roundTrips=2;var R=C["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XDRObject)};R.prototype=new N,R.enabled=H.enabled,R.roundTrips=2;var O=function(){};O.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var a=r+"/iframe.html";o.ri._options.devel&&(a+="?t="+ +new Date),o.window_id=n.random_string(8),a+="#"+o.window_id,o.iframeObj=n.createIframe(a,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},O.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},O.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",g.stringify([C.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},O.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},O.prototype.doSend=function(e){this.postMessage("m",e)},O.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var V,$=function(e,r){parent!==t?parent.postMessage(V+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},U=function(){};U.prototype._didClose=function(e,t){$("t",n.closeFrame(e,t))},U.prototype._didMessage=function(e){$("t",e)},U.prototype._doSend=function(e){this._transport.doSend(e)},U.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,C.bootstrap_iframe=function(){var r;V=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),i=e.data.slice(9);if(o===V)switch(a){case"s":var s=g.parse(i),c=s[0],l=s[1],u=s[2],p=s[3];if(c!==C.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+C.version+'".'),!n.flatUrl(u)||!n.flatUrl(p))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(u)||!n.isSameOriginUrl(p))return void n.log("Can't connect to different domain from within an iframe. ("+g.stringify([t.location.href,u,p])+")");r=new U,r._transport=new U[l](r,u,p);break;case"m":r._doSend(i);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),$("s")};var F=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};F.prototype=new a(["finish"]),F.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),i=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(i),i=null,200===e){var n=(new Date).getTime()-o,a=g.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var j=function(t){var r=this,o=function(){var e=new O;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=g.parse(t.substr(1)),o=n[0],a=n[1];r.emit("finish",o,a)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};j.prototype=new a(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new a(["finish"]);var q=function(e){if(n.isSameOriginUrl(e))return new F(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new F(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new F(e,n.XDRObject):new z;case 3:return new j(e);default:return new z}},W=U["w-iframe-info-receiver"]=function(e,t,r){var o=new F(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+g.stringify([t,n])),e._didClose()}};W.prototype.doCleanup=function(){};var Y=C["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};Y.prototype=new O,Y.enabled=function(){return"EventSource"in t&&O.enabled()},Y.need_body=!0,Y.roundTrips=3;var G=U["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",et,n.XHRLocalObject)};G.prototype=new N;var J=C["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};J.prototype=new O,J.enabled=function(){return t.XMLHttpRequest&&O.enabled()},J.need_body=!0,J.roundTrips=3;var X=U["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",ot,n.XHRLocalObject)};X.prototype=new N;var Q=C["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new O,Q.enabled=function(){return O.enabled()},Q.need_body=!0,Q.roundTrips=3;var K=U["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",rt,n.XHRLocalObject)};K.prototype=new N;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var et=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,a){var i=a?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:i}))})}};et.prototype=new r,et.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var tt,nt=function(){if(void 0===tt)if("ActiveXObject"in t)try{tt=!!new ActiveXObject("htmlfile")}catch(e){}else tt=!1;return tt},rt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(s+"."+r.id);var a,i=nt()?n.createHtmlfile:n.createIframe;t[s][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[s][r.id],r.dispatchEvent(new o("close",{reason:n}))},a=i(e,function(){r.iframe_close({},"permanent")})};rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var ot=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var a=t.slice(r),i=a.indexOf("\n");if(-1===i)break;r+=i+1;var s=a.slice(0,i);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return ot.prototype=new r,ot.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},C.getUtils=function(){return n},C.getIframeTransport=function(){return O},C}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return n})}.call(this),function(){t.ClientStream=function(e,t){var n=this;n.options=v.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",v.bind(n._online,n),!1),n._launchConnection()},v.extend(t.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),v.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(){var e=this;e._clearConnectionAndHeartbeatTimers(),e.socket&&(e.socket.onmessage=e.socket.onclose=e.socket.onerror=e.socket.onheartbeat=function(){},e.socket.close(),e.socket=null),v.each(e.eventCallbacks.disconnect,function(e){e()})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var e=this;f._debug("Connection timeout. No sockjs heartbeat received."),e._lostConnection()},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(v.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var e=this;e._cleanup();var t=v.extend({protocols_whitelist:e._sockjsProtocolsWhitelist()},e.options._sockjsOptions);e.socket=new n(r(e.rawUrl),void 0,t),e.socket.onopen=function(){e._connected()},e.socket.onmessage=function(t){e._heartbeat_received(),e.currentStatus.connected&&v.each(e.eventCallbacks.message,function(e){e(t.data)})},e.socket.onclose=function(){e._lostConnection()},e.socket.onerror=function(){f._debug("stream error",v.toArray(arguments),(new Date).toDateString())},e.socket.onheartbeat=function(){e._heartbeat_received()},e.connectionTimer&&clearTimeout(e.connectionTimer),e.connectionTimer=setTimeout(v.bind(e._lostConnection,e),e.CONNECT_TIMEOUT)}})}.call(this),function(){var n=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},a=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},i=function(e,t,r){t||(t="http");var o,i=e.match(/^ddp(i?)\+sockjs:\/\//),s=e.match(/^http(s?):\/\//);if(i){var c=e.substr(i[0].length);o="i"===i[1]?t:t+"s";var l=c.indexOf("/"),u=-1===l?c:c.substr(0,l),p=-1===l?"":c.substr(l);return u=u.replace(/\*/g,function(){return Math.floor(10*h.fraction())}),o+"://"+u+p}if(s){o=s[1]?t+"s":t;var d=e.substr(s[0].length);e=o+"://"+d}return-1!==e.indexOf("://")||n(e,"/")||(e=t+"://"+e),e=f._relativeToSiteRootUrl(e),a(e,"/")?e+r:e+"/"+r};r=function(e){return i(e,"http","sockjs")},o=function(e){var t=i(e,"ws","websocket");return t},t.toSockjsUrl=r,v.extend(t.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof y&&new y.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new b,t.connectionTimer=null},reconnect:function(t){var n=this;return t=t||{},t.url&&n._changeUrl(t.url),t._sockjsOptions&&(n.options._sockjsOptions=t._sockjsOptions),n.currentStatus.connected?void((t._force||t.url)&&n._lostConnection(new e.ForcedReconnectError)):("connecting"===n.currentStatus.status&&n._lostConnection(),n._retry.clear(),n.currentStatus.retryCount-=1,void n._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,v.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),e.ConnectionError=f.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),e.ForcedReconnectError=f.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){a=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},v.extend(a.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle=f.setTimeout(v.bind(e._heartbeatIntervalFired,e),e.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle=f.setTimeout(v.bind(e._heartbeatTimeoutFired,e),e.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var e=this;e._heartbeatIntervalHandle&&(f.clearTimeout(e._heartbeatIntervalHandle),e._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var e=this;e._heartbeatTimeoutHandle&&(f.clearTimeout(e._heartbeatTimeoutHandle),e._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){i=["1","pre2","pre1"],t.SUPPORTED_DDP_VERSIONS=i,s=function(e){this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},v.extend(s.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),c=function(e){try{var t=g.parse(e)}catch(n){return f._debug("Discarding message with invalid JSON",e),null}return null===t||"object"!=typeof t?(f._debug("Discarding non-object DDP message",e),null):(v.has(t,"cleared")&&(v.has(t,"fields")||(t.fields={}),v.each(t.cleared,function(e){t.fields[e]=void 0}),delete t.cleared),v.each(["fields","params","result"],function(e){v.has(t,e)&&(t[e]=m._adjustTypesFromJSONValue(t[e]))}),t)},l=function(e){var t=m.clone(e);if(v.has(e,"fields")){var n=[];v.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),v.isEmpty(n)||(t.cleared=n),v.isEmpty(t.fields)&&delete t.fields}if(v.each(["fields","params","result"],function(e){v.has(t,e)&&(t[e]=m._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return g.stringify(t)},e._CurrentInvocation=new f.EnvironmentVariable}.call(this),function(){function t(){return h.hexString(20)}u=function(e){this.seed=[].concat(e.seed||t()),this.sequences={}},u.get=function(e,t){if(t||(t="default"),!e)return h;var n=e.randomStream;return n||(e.randomStream=n=new u({seed:e.randomSeed})),n._sequence(t)},e.randomStream=function(t){var n=e._CurrentInvocation.get();return u.get(n,t)},p=function(e,t){var n=u.get(e,"/rpc/"+t);return n.hexString(20)},v.extend(u.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var r=t.seed.concat(e),o=0;o<r.length;o++)v.isFunction(r[o])&&(r[o]=r[o]());t.sequences[e]=n=h.createWithSeeds.apply(null,r)}return n}})}.call(this),function(){if(f.isServer)var n=Npm.require("path"),r=(Npm.require("fibers"),Npm.require(n.join("fibers","future")));var o=function(e,n){var r=this;n=v.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(e){f._debug(e)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:i,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof e?e:new t.ClientStream(e,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new y.Dependency,f.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(e){try{var t=c(e)}catch(o){return void f._debug("Exception while parsing DDP",o)}if(null===t||!t.msg)return void(t&&t.server_id||f._debug("discarding invalid livedata message",t));if("connected"===t.msg)r._version=r._versionSuggestion,r._livedata_connected(t),n.onConnected();else if("failed"==t.msg)if(v.contains(r._supportedDDPVersions,t.version))r._versionSuggestion=t.version,r._stream.reconnect({_force:!0});else{var a="DDP version negotiation failed; server requested version "+t.version;r._stream.disconnect({_permanent:!0,_error:a}),n.onDDPVersionNegotiationFailure(a)}else"ping"===t.msg?(n.respondToPings&&r._send({msg:"pong",id:t.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===t.msg?r._heartbeat&&r._heartbeat.pongReceived():v.include(["added","changed","removed","ready","updated"],t.msg)?r._livedata_data(t):"nosub"===t.msg?r._livedata_nosub(t):"result"===t.msg?r._livedata_result(t):"error"===t.msg?r._livedata_error(t):f._debug("discarding unknown livedata message type",t)},a=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!v.isEmpty(r._outstandingMethodBlocks)&&v.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),v.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),v.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};f.isServer?(r._stream.on("message",f.bindEnvironment(o,f._debug)),r._stream.on("reset",f.bindEnvironment(a,f._debug)),r._stream.on("disconnect",f.bindEnvironment(s,f._debug))):(r._stream.on("message",o),r._stream.on("reset",a),r._stream.on("disconnect",s))},u=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};v.extend(u.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),v.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};v.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),v.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var o=n[n.length-1];"function"==typeof o?r.onReady=n.pop():!o||"function"!=typeof o.onReady&&"function"!=typeof o.onError||(r=n.pop())}var a,i=v.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&m.equals(t.params,n)});i?(a=i.id,i.inactive=!1,r.onReady&&(i.ready||(i.readyCallback=r.onReady)),r.onError&&(i.errorCallback=r.onError)):(a=h.id(),t._subscriptions[a]={id:a,name:e,params:m.clone(n),inactive:!1,ready:!1,readyDeps:new y.Dependency,readyCallback:r.onReady,errorCallback:r.onError,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:a}),this.remove()}},t._send({msg:"sub",id:a,name:e,params:n}));var s={stop:function(){v.has(t._subscriptions,a)&&t._subscriptions[a].stop()},ready:function(){if(!v.has(t._subscriptions,a))return!1;var e=t._subscriptions[a];return e.readyDeps.depend(),e.ready}};return y.active&&y.onInvalidate(function(){v.has(t._subscriptions,a)&&(t._subscriptions[a].inactive=!0),y.afterFlush(function(){v.has(t._subscriptions,a)&&t._subscriptions[a].inactive&&s.stop()})}),s},_subscribeAndWait:function(e,t,n){var o,a=this,i=new r,s=!1;return t=t||[],t.push({onReady:function(){s=!0,i["return"]()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):i["throw"](e)}}),o=a.subscribe.apply(a,[e].concat(t)),i.wait(),o},methods:function(e){var t=this;v.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,a){var i=this;a||"function"!=typeof o||(a=o,o={}),o=o||{},a&&(a=f.bindEnvironment(a,"delivering result of invoking '"+t+"'")),n=m.clone(n);var c=function(){var e;return function(){return void 0===e&&(e=""+i._nextMethodId++),e}}(),l=e._CurrentInvocation.get(),d=l&&l.isSimulation,h=null,g=function(){return null===h&&(h=p(l,t)),h},y=i._methodHandlers[t];if(y){var b=function(e){i.setUserId(e)},_=new s({isSimulation:!0,userId:i.userId(),setUserId:b,randomSeed:function(){return g()}});d||i._saveOriginals();try{var w=e._CurrentInvocation.withValue(_,function(){return f.isServer?f._noYieldsAllowed(function(){return y.apply(_,m.clone(n))}):y.apply(_,m.clone(n))})}catch(T){var k=T}d||i._retrieveAndStoreOriginals(c())}if(d){if(a)return void a(k,w);if(k)throw k;return w}if(k&&!k.expected&&f._debug("Exception while simulating the effect of invoking '"+t+"'",k,k.stack),!a)if(f.isClient)a=function(e){e&&f._debug("Error invoking Method '"+t+"':",e.message)};else{var S=new r;a=S.resolver()}var C={msg:"method",method:t,params:n,id:c()};null!==h&&(C.randomSeed=h);var L=new u({methodId:c(),callback:a,connection:i,onResultReceived:o.onResultReceived,wait:!!o.wait,message:C});return o.wait?i._outstandingMethodBlocks.push({wait:!0,methods:[L]}):((v.isEmpty(i._outstandingMethodBlocks)||v.last(i._outstandingMethodBlocks).wait)&&i._outstandingMethodBlocks.push({wait:!1,methods:[]}),v.last(i._outstandingMethodBlocks).methods.push(L)),1===i._outstandingMethodBlocks.length&&L.sendMessage(),S?S.wait():o.returnStubValue?w:void 0},_saveOriginals:function(){var e=this;v.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];v.each(t._stores,function(r,o){var a=r.retrieveOriginals();a&&a.forEach(function(r,a){n.push({collection:o,id:a}),v.has(t._serverDocuments,o)||(t._serverDocuments[o]=new _._IdMap);var i=t._serverDocuments[o].setDefault(a,{});i.writtenByStubs?i.writtenByStubs[e]=!0:(i.document=r,i.flushCallbacks=[],i.writtenByStubs={},i.writtenByStubs[e]=!0)})}),v.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;v.each(v.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(l(e))},_lostConnection:function(){var e=this;e._stream._lostConnection()},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!v.isEmpty(e._subsBeingRevived)||!v.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return v.any(v.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new a({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){f.isClient&&!t._stream._isStub&&f._debug("Connection timeout. No DDP heartbeat received."),t._lostConnection()},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},v.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&v.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(v.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(v.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],v.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),v.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;v.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!v.isEmpty(n))&&(v.each(t._stores,function(e,r){e.beginUpdate(v.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,v.each(n,function(e,n){var r=t._stores[n];r?v.each(e,function(e){r.update(e)}):(v.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),v.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],v.each(t,function(e){e()})},_pushUpdate:function(e,t,n){v.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!v.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=_._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,_._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);_._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,_._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);
r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;v.each(e.methods,function(e){v.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+g.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+g.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],v.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:_._idStringify(r.id),replace:o.document}),v.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(v.bind(r.dataVisible,r))})},_process_ready:function(e){var t=this;v.each(e.subs,function(e){t._runWhenAllServerDocsAreFlushed(function(){var n=t._subscriptions[e];n&&(n.ready||(n.readyCallback&&n.readyCallback(),n.ready=!0,n.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};v.each(t._serverDocuments,function(e){e.forEach(function(e){var n=v.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(e){var t=this;if(t._livedata_data(e),v.has(t._subscriptions,e.id)){var n=t._subscriptions[e.id].errorCallback;t._subscriptions[e.id].remove(),n&&e.error&&n(new f.Error(e.error.error,e.error.reason,e.error.details))}},_process_nosub:function(){},_livedata_result:function(e){var t=this;if(v.isEmpty(t._outstandingMethodBlocks))return void f._debug("Received method result but no methods outstanding");for(var n,r=t._outstandingMethodBlocks[0].methods,o=0;o<r.length&&(n=r[o],n.methodId!==e.id);o++);return n?(r.splice(o,1),void(v.has(e,"error")?n.receiveResult(new f.Error(e.error.error,e.error.reason,e.error.details)):n.receiveResult(void 0,e.result))):void f._debug("Can't match method response to original method call",e)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!v.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!v.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+g.stringify(t));v.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;v.isEmpty(e._outstandingMethodBlocks)||v.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(e){f._debug("Received error from server: ",e.reason),e.offendingMessage&&f._debug("For: ",e.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!v.isEmpty(t)){if(v.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();v.last(e._outstandingMethodBlocks).wait||t[0].wait||(v.each(t[0].methods,function(t){v.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),v.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return v.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),t.Connection=o,e.connect=function(e,t){var n=new o(e,t);return d.push(n),n},d=[],e._allSubscriptionsReady=function(){return v.all(d,function(e){return v.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(f.refresh=function(){},f.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new b,r=function(e){if(f._debug(e),Package.reload){var t=Package.reload.Reload._migrationData("livedata")||{},r=t.DDPVersionNegotiationFailures||0;++r,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:r}]}),n.retryLater(r,function(){Package.reload.Reload._reload()})}};f.connection=e.connect(t,{onDDPVersionNegotiationFailure:r}),v.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(e){f[e]=v.bind(f.connection[e],f.connection)})}else f.connection=null;f.default_connection=f.connection,f.connect=e.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:e,LivedataTest:t}}(),function(){{var e;Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.ddp.DDP,Package.ejson.EJSON}"undefined"==typeof Package&&(Package={}),Package["follower-livedata"]={Follower:e}}(),function(){Package.meteor.Meteor,Package.logging.Log,Package.underscore._,Package.ddp.DDP,Package.ejson.EJSON,Package["follower-livedata"].Follower;"undefined"==typeof Package&&(Package={}),Package["application-configuration"]={}}(),function(){var e,t,n=Package.meteor.Meteor,r=Package.random.Random,o=Package.ejson.EJSON,a=(Package.json.JSON,Package.underscore._),i=Package.minimongo.LocalCollection,s=(Package.minimongo.Minimongo,Package.logging.Log,Package.ddp.DDP),c=(Package.tracker.Tracker,Package.tracker.Deps,Package.check.check),l=Package.check.Match;(function(){t=function(){var e=this;e.noConnCollections={}};var e=function(e,t){return e in t||(t[e]=new i(e)),t[e]};a.extend(t.prototype,{open:function(t,n){var r=this;return t?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),e(t,n._mongo_livedata_collections)):e(t,r.noConnCollections):new i}}),t=new t}).call(this),function(){e={},e.Collection=function(o,c){var l=this;if(!(l instanceof e.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(n._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(c&&c.methods&&(c={connection:c}),c&&c.manager&&!c.connection&&(c.connection=c.manager),c=a.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},c),c.idGeneration){case"MONGO":l._makeNewID=function(){var t=o?s.randomStream("/collection/"+o):r;return new e.ObjectID(t.hexString(24))};break;case"STRING":default:l._makeNewID=function(){var e=o?s.randomStream("/collection/"+o):r;return e.id()}}if(l._transform=i.wrapTransform(c.transform),l._connection=o&&null!==c.connection?c.connection?c.connection:n.isClient?n.connection:n.server:null,c._driver||(c._driver=o&&l._connection===n.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():t),l._collection=c._driver.open(o,l._connection),l._name=o,l._connection&&l._connection.registerStore){var u=l._connection.registerStore(o,{beginUpdate:function(e,t){(e>1||t)&&l._collection.pauseObservers(),t&&l._collection.remove({})},update:function(e){var t=i._idParse(e.id),n=l._collection.findOne(t);if("replace"===e.msg){var r=e.replace;return void(r?n?l._collection.update(t,r):l._collection.insert(r):n&&l._collection.remove(t))}if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");l._collection.insert(a.extend({_id:t},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");l._collection.remove(t)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!a.isEmpty(e.fields)){var o={};a.each(e.fields,function(e,t){void 0===e?(o.$unset||(o.$unset={}),o.$unset[t]=1):(o.$set||(o.$set={}),o.$set[t]=e)}),l._collection.update(t,o)}}},endUpdate:function(){l._collection.resumeObservers()},saveOriginals:function(){l._collection.saveOriginals()},retrieveOriginals:function(){return l._collection.retrieveOriginals()}});if(!u)throw new Error("There is already a collection named '"+o+"'")}l._defineMutationMethods(),Package.autopublish&&!c._preventAutopublish&&l._connection&&l._connection.publish&&l._connection.publish(null,function(){return l.find()},{is_auto:!0})},a.extend(e.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var t=this;return e.length<2?{transform:t._transform}:(c(e[1],l.Optional(l.ObjectIncluding({fields:l.Optional(l.OneOf(Object,void 0)),sort:l.Optional(l.OneOf(Object,Array,void 0)),limit:l.Optional(l.OneOf(Number,void 0)),skip:l.Optional(l.OneOf(Number,void 0))}))),a.extend({transform:t._transform},e[1]))},find:function(){var e=this,t=a.toArray(arguments);return e._collection.find(e._getFindSelector(t),e._getFindOptions(t))},findOne:function(){var e=this,t=a.toArray(arguments);return e._collection.findOne(e._getFindSelector(t),e._getFindOptions(t))}}),e.Collection._publishCursor=function(e,t,n){var r=e.observeChanges({added:function(e,r){t.added(n,e,r)},changed:function(e,r){t.changed(n,e,r)},removed:function(e){t.removed(n,e)}});t.onStop(function(){r.stop()})},e.Collection._rewriteSelector=function(t){if(i._selectorIsId(t)&&(t={_id:t}),!t||"_id"in t&&!t._id)return{_id:r.id()};var n={};return a.each(t,function(t,r){t instanceof RegExp?n[r]=u(t):t&&t.$regex instanceof RegExp?(n[r]=u(t.$regex),void 0!==t.$options&&(n[r].$options=t.$options)):n[r]=a.contains(["$or","$and","$nor"],r)?a.map(t,function(t){return e.Collection._rewriteSelector(t)}):t}),n};var u=function(e){c(e,RegExp);var t={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(t.$options=n),t},p=function(e,t){if(!i._selectorIsIdPerhapsAsObject(e))throw new n.Error(403,"Not permitted. Untrusted code may only "+t+" documents by ID.")};a.each(["insert","update","remove"],function(t){e.Collection.prototype[t]=function(){var r,o,i,c=this,l=a.toArray(arguments);if(l.length&&(void 0===l[l.length-1]||l[l.length-1]instanceof Function)&&(r=l.pop()),"insert"===t){if(!l.length)throw new Error("insert requires an argument");if(l[0]=a.extend({},l[0]),"_id"in l[0]){if(o=l[0]._id,!o||!("string"==typeof o||o instanceof e.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var u=!0;if(c._connection&&c._connection!==n.server){var d=s._CurrentInvocation.get();d||(u=!1)}u&&(o=l[0]._id=c._makeNewID())}}else if(l[0]=e.Collection._rewriteSelector(l[0]),"update"===t){var f=l[2]=a.clone(l[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof e.ObjectID))throw new Error("insertedId must be string or ObjectID")}else f.insertedId=c._makeNewID()}var h,m=function(e){return"insert"===t?(!o&&e&&(o=e),o):e};if(r&&(h=function(e,t){r(e,!e&&m(t))}),c._connection&&c._connection!==n.server){var d=s._CurrentInvocation.get(),g=d&&d.isSimulation;!n.isClient||h||g||(h=function(e){e&&n._debug(t+" failed: "+(e.reason||e.stack))}),g||"insert"===t||p(l[0],t),i=m(c._connection.apply(c._prefix+t,l,{returnStubValue:!0},h))}else{l.push(h);try{var v=c._collection[t].apply(c._collection,l);i=m(v)}catch(y){if(r)return r(y),null;throw y}}return i}}),e.Collection.prototype.upsert=function(e,t,n,r){var o=this;return r||"function"!=typeof n||(r=n,n={}),o.update(e,t,a.extend({},n,{_returnObject:!0,upsert:!0}),r)},e.Collection.prototype._ensureIndex=function(e,t){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,t)},e.Collection.prototype._dropIndex=function(e){var t=this;if(!t._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");t._collection._dropIndex(e)},e.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},e.Collection.prototype._createCappedCollection=function(e,t){var n=this;if(!n._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");n._collection._createCappedCollection(e,t)},e.ObjectID=i._ObjectID,e.Cursor=i.Cursor,e.Collection.Cursor=e.Cursor,e.Collection.ObjectID=e.ObjectID,function(){var t=function(e,t){var n=["insert","update","remove","fetch","transform"];a.each(a.keys(t),function(t){if(!a.contains(n,t))throw new Error(e+": Invalid key: "+t)});var r=this;if(r._restricted=!0,a.each(["insert","update","remove"],function(n){if(t[n]){if(!(t[n]instanceof Function))throw new Error(e+": Value for `"+n+"` must be a function");t[n].transform=void 0===t.transform?r._transform:i.wrapTransform(t.transform),r._validators[n][e].push(t[n])}}),t.update||t.remove||t.fetch){if(t.fetch&&!(t.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");r._updateFetch(t.fetch)}};e.Collection.prototype.allow=function(e){t.call(this,"allow",e)},e.Collection.prototype.deny=function(e){t.call(this,"deny",e)}}(),e.Collection.prototype._defineMutationMethods=function(){var e=this;if(e._restricted=!1,e._insecure=void 0,e._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},e._name&&(e._prefix="/"+e._name+"/",e._connection)){var t={};a.each(["insert","update","remove"],function(r){t[e._prefix+r]=function(){c(arguments,[l.Any]);var t=a.toArray(arguments);try{var o=null;if("insert"!==r||a.has(t[0],"_id")||(o=e._makeNewID()),this.isSimulation)return null!==o&&(t[0]._id=o),e._collection[r].apply(e._collection,t);if("insert"!==r&&p(t[0],r),e._restricted){if(0===e._validators[r].allow.length)throw new n.Error(403,"Access denied. No allow validators set on restricted collection for method '"+r+"'.");var i="_validated"+r.charAt(0).toUpperCase()+r.slice(1);return t.unshift(this.userId),"insert"===r&&t.push(o),e[i].apply(e,t)}if(e._isInsecure())return null!==o&&(t[0]._id=o),e._collection[r].apply(e._collection,t);throw new n.Error(403,"Access denied")}catch(s){throw"MongoError"===s.name||"MinimongoError"===s.name?new n.Error(409,s.toString()):s}}}),(n.isClient||e._connection===n.server)&&e._connection.methods(t)}},e.Collection.prototype._updateFetch=function(e){var t=this;t._validators.fetchAllFields||(e?t._validators.fetch=a.union(t._validators.fetch,e):(t._validators.fetchAllFields=!0,t._validators.fetch=null))},e.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var d=function(e,t,n){var r=t;return e.transform&&(r=o.clone(t),null!==n&&(r._id=n),r=e.transform(r)),r};e.Collection.prototype._validatedInsert=function(e,t,r){var o=this;if(a.any(o._validators.insert.deny,function(n){return n(e,d(n,t,r))}))throw new n.Error(403,"Access denied");if(a.all(o._validators.insert.allow,function(n){return!n(e,d(n,t,r))}))throw new n.Error(403,"Access denied");null!==r&&(t._id=r),o._collection.insert.call(o._collection,t)};var f=function(e,t){return e.transform?e.transform(t):t};e.Collection.prototype._validatedUpdate=function(e,t,r,o){var s=this;if(o=o||{},!i._selectorIsIdPerhapsAsObject(t))throw new Error("validated update should be of a single ID");if(o.upsert)throw new n.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var c=[];a.each(r,function(e,t){if("$"!==t.charAt(0))throw new n.Error(403,"Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.");if(!a.has(h,t))throw new n.Error(403,"Access denied. Operator "+t+" not allowed in a restricted collection.");a.each(a.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),a.contains(c,e)||c.push(e)})});var l={transform:null};s._validators.fetchAllFields||(l.fields={},a.each(s._validators.fetch,function(e){l.fields[e]=1}));var u=s._collection.findOne(t,l);if(!u)return 0;var p;if(a.any(s._validators.update.deny,function(t){return p||(p=f(t,u)),t(e,p,c,r)}))throw new n.Error(403,"Access denied");if(a.all(s._validators.update.allow,function(t){return p||(p=f(t,u)),!t(e,p,c,r)}))throw new n.Error(403,"Access denied");return s._collection.update.call(s._collection,t,r,o)};var h={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};e.Collection.prototype._validatedRemove=function(e,t){var r=this,o={transform:null};r._validators.fetchAllFields||(o.fields={},a.each(r._validators.fetch,function(e){o.fields[e]=1}));var i=r._collection.findOne(t,o);if(!i)return 0;if(a.any(r._validators.remove.deny,function(t){return t(e,f(t,i))}))throw new n.Error(403,"Access denied");if(a.all(r._validators.remove.allow,function(t){return!t(e,f(t,i))}))throw new n.Error(403,"Access denied");return r._collection.remove.call(r._collection,t)},n.Collection=e.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:e}}(),function(){var e,t=Package.meteor.Meteor,n=Package.underscore._,r=Package.tracker.Tracker,o=(Package.tracker.Deps,Package.ejson.EJSON);(function(){var t=function(e){return void 0===e?"undefined":o.stringify(e)},a=function(e){return void 0===e||"undefined"===e?void 0:o.parse(e)};e=function(t){if(t)if("string"==typeof t)e._registerDictForMigrate(t,this),this.keys=e._loadMigratedDict(t)||{};else{if("object"!=typeof t)throw new Error("Invalid ReactiveDict argument: "+t);this.keys=t}else this.keys={};this.keyDeps={},this.keyValueDeps={}},n.extend(e.prototype,{set:function(e,r){var o=this;r=t(r);var a="undefined";if(n.has(o.keys,e)&&(a=o.keys[e]),r!==a){o.keys[e]=r;var i=function(e){e&&e.changed()};i(o.keyDeps[e]),o.keyValueDeps[e]&&(i(o.keyValueDeps[e][a]),i(o.keyValueDeps[e][r]))}},setDefault:function(e,t){var n=this;void 0===n.keys[e]&&n.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),a(t.keys[e])},equals:function(e,i){var s=this,c=null;if("undefined"!=typeof Mongo&&(c=Mongo.ObjectID),!("string"==typeof i||"number"==typeof i||"boolean"==typeof i||"undefined"==typeof i||i instanceof Date||c&&i instanceof c||null===i))throw new Error("ReactiveDict.equals: value must be scalar");var l=t(i);if(r.active){s._ensureKey(e),n.has(s.keyValueDeps[e],l)||(s.keyValueDeps[e][l]=new r.Dependency);var u=s.keyValueDeps[e][l].depend();u&&r.onInvalidate(function(){s.keyValueDeps[e][l].hasDependents()||delete s.keyValueDeps[e][l]})}var p=void 0;return n.has(s.keys,e)&&(p=a(s.keys[e])),o.equals(p,i)},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new r.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(e._migratedDictData={},e._dictsToMigrate={},e._loadMigratedDict=function(t){return n.has(e._migratedDictData,t)?e._migratedDictData[t]:null},e._registerDictForMigrate=function(t,r){if(n.has(e._dictsToMigrate,t))throw new Error("Duplicate ReactiveDict name: "+t);e._dictsToMigrate[t]=r},t.isClient&&Package.reload){var r=Package.reload.Reload._migrationData("reactive-dict");r&&r.dicts&&(e._migratedDictData=r.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var t=e._dictsToMigrate,n={};for(var r in t)n[r]=t[r]._getMigrationData();return[!0,{dicts:n}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:e}}(),function(){var e,t,e=(Package.meteor.Meteor,Package.tracker.Tracker),t=Package.tracker.Deps;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:e,Deps:t}}(),function(){{var e,t,n;Package.meteor.Meteor,Package.tracker.Tracker,Package.tracker.Deps}(function(){e={},t=function(e){return e},n=Array.prototype.slice}).call(this),function(){var r=Object.prototype.hasOwnProperty,o=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e};e.Visitor=function(e){o(this,e)},e.Visitor.def=function(e){o(this.prototype,e)},e.Visitor.extend=function(t){var n=this,r=function(){e.Visitor.apply(this,arguments)};return r.prototype=new n,r.extend=n.extend,r.def=n.def,t&&o(r.prototype,t),r},e.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case e.Tag.htmljsType:return this.visitTag.apply(this,arguments);case e.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case e.Comment.htmljsType:return this.visitComment.apply(this,arguments);case e.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return e.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(){},visitPrimitive:function(){},visitArray:function(){},visitComment:function(){},visitCharRef:function(){},visitRaw:function(){},visitTag:function(){},visitObject:function(e){throw new Error("Unexpected object in htmljs: "+e)},visitFunction:function(e){throw new Error("Unexpected function in htmljs: "+e)}}),e.TransformingVisitor=e.Visitor.extend(),e.TransformingVisitor.def({visitNull:t,visitPrimitive:t,visitArray:function(e){for(var t=n.call(arguments),r=e,o=0;o<e.length;o++){var a=e[o];t[0]=a;var i=this.visit.apply(this,t);i!==a&&(r===e&&(r=e.slice()),r[o]=i)}return r},visitComment:t,visitCharRef:t,visitRaw:t,visitObject:t,visitFunction:t,visitTag:function(t){var r=t.children,o=n.call(arguments);o[0]=r;var a=this.visitChildren.apply(this,o),i=t.attrs;o[0]=i;var s=this.visitAttributes.apply(this,o);if(s===i&&a===r)return t;var c=e.getTag(t.tagName).apply(null,a);return c.attrs=s,c},visitChildren:function(){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(e.isArray(t)){for(var r=n.call(arguments),a=t,i=0;i<t.length;i++){var s=t[i];r[0]=s;var c=this.visitAttributes.apply(this,r);c!==s&&(a===t&&(a=t.slice()),a[i]=c)}return a}if(t&&e.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,u=l;if(l){var p=[null,null];p.push.apply(p,arguments);for(var d in l){var f=l[d];p[0]=d,p[1]=f;var h=this.visitAttribute.apply(this,p);h!==f&&(u===l&&(u=o({},l)),u[d]=h)}}return u},visitAttribute:function(e,t){var r=n.call(arguments,2);return r[0]=t,this.visit.apply(this,r)}}),e.ToTextVisitor=e.Visitor.extend(),e.ToTextVisitor.def({visitNull:function(){return""},visitPrimitive:function(t){var n=String(t);return this.textMode===e.TEXTMODE.RCDATA?n.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===e.TEXTMODE.ATTRIBUTE?n.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):n},visitArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.visit(e[n]));return t.join("")},visitComment:function(){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===e.TEXTMODE.RCDATA||this.textMode===e.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(e){return e.value},visitTag:function(e){return this.visit(this.toHTML(e))},visitObject:function(e){throw new Error("Unexpected object in htmljs in toText: "+e)},toHTML:function(t){return e.toHTML(t)}}),e.ToHTMLVisitor=e.Visitor.extend(),e.ToHTMLVisitor.def({visitNull:function(){return""},visitPrimitive:function(e){var t=String(e);return t.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.visit(e[n]));return t.join("")},visitComment:function(e){return"<!--"+e.sanitizedValue+"-->"},visitCharRef:function(e){return e.html},visitRaw:function(e){return e.value},visitTag:function(t){var n=[],r=t.tagName,o=t.children,a=t.attrs;if(a){a=e.flattenAttributes(a);for(var i in a)if("value"===i&&"textarea"===r)o=[a[i],o];else{var s=this.toText(a[i],e.TEXTMODE.ATTRIBUTE);n.push(" "+i+'="'+s+'"')}}var c,l="<"+r+n.join("")+">",u=[];if("textarea"===r){for(var p=0;p<o.length;p++)u.push(this.toText(o[p],e.TEXTMODE.RCDATA));c=u.join(""),"\n"===c.slice(0,1)&&(c="\n"+c)}else{for(var p=0;p<o.length;p++)u.push(this.visit(o[p]));c=u.join("")}var d=l+c;return(o.length||!e.isVoidElement(r))&&(d+="</"+r+">"),d},visitObject:function(e){throw new Error("Unexpected object in htmljs in toHTML: "+e)},toText:function(t,n){return e.toText(t,n)}})}.call(this),function(){e.Tag=function(){},e.Tag.prototype.tagName="",e.Tag.prototype.attrs=null,e.Tag.prototype.children=Object.freeze?Object.freeze([]):[],e.Tag.prototype.htmljsType=e.Tag.htmljsType=["Tag"];var t=function(t){var r=function(){var t=this instanceof e.Tag?this:new r,o=0,a=arguments.length&&arguments[0];if(a&&"object"==typeof a)if(e.isConstructedObject(a)){if(a instanceof e.Attrs){var i=a.value;1===i.length?t.attrs=i[0]:i.length>1&&(t.attrs=i),o++}}else t.attrs=a,o++;return o<arguments.length&&(t.children=n.call(arguments,o)),t};return r.prototype=new e.Tag,r.prototype.constructor=r,r.prototype.tagName=t,r},r=e.Attrs=function(){var e=this instanceof r?this:new r;return e.value=n.call(arguments),e};e.getTag=function(n){var r=e.getSymbolName(n);if(r===n)throw new Error("Use the lowercase or camelCase form of '"+n+"' here");return e[r]||(e[r]=t(n)),e[r]},e.ensureTag=function(t){e.getTag(t)},e.isTagEnsured=function(t){return e.isKnownElement(t)},e.getSymbolName=function(e){return e.toUpperCase().replace(/-/g,"_")},e.knownElementNames="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol optgroup option p param pre q s samp script select small span strike strong style sub sup table tbody td textarea tfoot th thead title tr tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),e.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),e.knownElementNames=e.knownElementNames.concat(e.knownSVGElementNames),e.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var o={yes:!0},a=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=o;return t},i=a(e.voidElementNames),s=a(e.knownElementNames),c=a(e.knownSVGElementNames);e.isKnownElement=function(e){return s[e]===o},e.isKnownSVGElement=function(e){return c[e]===o},e.isVoidElement=function(e){return i[e]===o};for(var l=0;l<e.knownElementNames.length;l++)e.ensureTag(e.knownElementNames[l]);var u=e.CharRef=function(e){if(!(this instanceof u))return new u(e);if(!(e&&e.html&&e.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=e.html,this.str=e.str};u.prototype.htmljsType=u.htmljsType=["CharRef"];var p=e.Comment=function(e){if(!(this instanceof p))return new p(e);if("string"!=typeof e)throw new Error("HTML.Comment must be constructed with a string");this.value=e,this.sanitizedValue=e.replace(/^-|--+|-$/g,"")};p.prototype.htmljsType=p.htmljsType=["Comment"];var d=e.Raw=function(e){if(!(this instanceof d))return new d(e);if("string"!=typeof e)throw new Error("HTML.Raw must be constructed with a string");this.value=e};d.prototype.htmljsType=d.htmljsType=["Raw"],e.isArray=function(e){return e instanceof Array},e.isConstructedObject=function(e){return e&&"object"==typeof e&&e.constructor!==Object&&!Object.prototype.hasOwnProperty.call(e,"constructor")},e.isNully=function(t){if(null==t)return!0;if(e.isArray(t)){for(var n=0;n<t.length;n++)if(!e.isNully(t[n]))return!1;return!0}return!1},e.isValidAttributeName=function(e){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(e)},e.flattenAttributes=function(t){if(!t)return t;var n=e.isArray(t);if(n&&0===t.length)return null;for(var r={},o=0,a=n?t.length:1;a>o;o++){var i=n?t[o]:t;if("object"!=typeof i||e.isConstructedObject(i))throw new Error("Expected plain JS object as attrs, found: "+i);for(var s in i){if(!e.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var c=i[s];e.isNully(c)||(r[s]=c)}}return r},e.toHTML=function(t){return(new e.ToHTMLVisitor).visit(t)},e.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},e.toText=function(t,n){if(!n)throw new Error("textMode required for HTML.toText");if(n!==e.TEXTMODE.STRING&&n!==e.TEXTMODE.RCDATA&&n!==e.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+n);var r=new e.ToTextVisitor({textMode:n});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:e}}(),function(){var e,t,n,r,o=(Package.meteor.Meteor,Package.tracker.Tracker),a=(Package.tracker.Deps,Package.minimongo.LocalCollection),i=(Package.minimongo.Minimongo,Package.underscore._),s=Package.random.Random;(function(){var c=function(){e._suppressWarnings?e._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),e._loggedWarnings++)},l=a._idStringify,u=a._idParse;e={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,a){var s=null,c=null,l=[],u=o.autorun(function(){var u=e();o.nonreactive(function(){var e;if(c&&(l=i.map(s.fetch(),function(e){return{_id:e._id,item:e}}),c.stop(),c=null),u)if(u instanceof Array)e=n(l,u,a);else{if(!d(u))throw p();var o=r(l,u,a);e=o[0],c=o[1]}else e=t(l,a);f(l,e,a),s=u,l=e})});return{stop:function(){u.stop(),c&&c.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(d(e))return e.fetch();throw p()}return[]}};var p=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},d=function(e){return e&&i.isObject(e)&&i.isFunction(e.observe)&&i.isFunction(e.fetch)},f=function(e,t,n){var r=Package.minimongo.LocalCollection._diffQueryOrderedChanges,o=[],a=[],s={},c={},p={},d=e.length;i.each(t,function(e,t){a.push({_id:e._id}),c[l(e._id)]=t}),i.each(e,function(e,t){o.push({_id:e._id}),s[l(e._id)]=t,p[l(e._id)]=t}),r(o,a,{addedBefore:function(e,r,o){var a=o?p[l(o)]:d;i.each(p,function(e,t){e>=a&&p[t]++}),d++,p[l(e)]=a,n.addedAt(e,t[c[l(e)]].item,a,o)},movedBefore:function(e,r){var o=p[l(e)],a=r?p[l(r)]:d-1;i.each(p,function(e,t){e>=o&&a>=e?p[t]--:o>=e&&e>=a&&p[t]++}),p[l(e)]=a,n.movedTo(e,t[c[l(e)]].item,o,a,r)},removed:function(t){var r=p[l(t)];i.each(p,function(e,t){e>=r&&p[t]--}),delete p[l(t)],d--,n.removedAt(t,e[s[l(t)]].item,r)}}),i.each(c,function(r,o){var a=u(o);if(i.has(s,o)){var c=t[r].item,l=e[s[o]].item;("object"==typeof c||c!==l)&&n.changedAt(a,c,l,r)}})};t=function(){return[]},n=function(e,t){var n={},r=i.map(t,function(e,r){var o;if("string"==typeof e)o="-"+e;else if("number"==typeof e||"boolean"==typeof e||void 0===e)o=e;else{if("object"!=typeof e)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof e);o=e&&e._id||r}var a=l(o);return n[a]?("object"==typeof e&&"_id"in e&&c("duplicate id "+o+" in",t),o=s.id()):n[a]=!0,{_id:o,item:e}
});return r},r=function(e,t,n){var r=!0,o=[],a=t.observe({addedAt:function(e,t,a){if(r){if(null!==a)throw new Error("Expected initial data from observe in order");o.push({_id:e._id,item:e})}else n.addedAt(e._id,e,t,a)},changedAt:function(e,t,r){n.changedAt(e._id,e,t,r)},removedAt:function(e,t){n.removedAt(e._id,e,t)},movedTo:function(e,t,r,o){n.movedTo(e._id,e,t,r,o)}});return r=!1,[o,a]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.tracker.Tracker);Package.tracker.Deps}(function(){e=function(n,r){return this instanceof e?(this.curValue=n,this.equalsFunc=r,void(this.dep=new t.Dependency)):new e(n,r)},e._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},e.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},e.prototype.set=function(t){var n=this.curValue;(this.equalsFunc||e._isEqual)(n,t)||(this.curValue=t,this.dep.changed())},e.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},e.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:e}}(),function(){var e,t,n,r,o,a,i=Package.meteor.Meteor,s=Package.jquery.$,c=Package.jquery.jQuery,l=Package.tracker.Tracker,u=(Package.tracker.Deps,Package.underscore._),p=Package.htmljs.HTML,d=Package["observe-sequence"].ObserveSequence,f=Package["reactive-var"].ReactiveVar;(function(){e={},e._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),e._warn=function(e){e="Warning: "+e,Log&&Log.warn?Log.warn(e):console.log&&console.log(e)}}).call(this),function(){var t={};e._DOMBackend=t;var n="undefined"!=typeof c?c:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!n)throw new Error("jQuery not found");t._$jq=n,t.parseHTML=function(e){return n.parseHTML(e)||[]},t.Events={delegateEvents:function(e,t,r,o){n(e).on(t,r,o)},undelegateEvents:function(e,t,r){n(e).off(t,"**",r)},bindEventCapturer:function(e,r,o,a){var i=n(e),s=function(t){t=n.event.fix(t),t.currentTarget=t.target;var r=n(t.currentTarget);r.is(i.find(o))&&a.call(e,t)};a._meteorui_wrapper=s,r=t.Events.parseEventType(r),e.addEventListener(r,s,!0)},unbindEventCapturer:function(e,n,r){n=t.Events.parseEventType(n),e.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},o=function(e){this.next=this,this.prev=this,this.func=e};o.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},o.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},o.prototype.go=function(){var e=this.func;e&&e()},o.prototype.stop=o.prototype.unlink,t.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(e,a){var i=new o(a),s=t.Teardown._CB_PROP;return e[s]||(e[s]=new o,n(e).on(t.Teardown._JQUERY_EVENT_NAME,r)),i.linkBefore(e[s]),i},tearDownElement:function(e){for(var t=[],r=e.getElementsByTagName("*"),o=0;o<r.length;o++)t.push(r[o]);t.push(e),n.cleanData(t)}},n.event.special[t.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var e=this,n=e[t.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),e[t.Teardown._CB_PROP]=null}}},t.findBySelector=function(e,t){return n(e,t)}}.call(this),function(){var t=Object.freeze?Object.freeze([]):[];e._DOMRange=function(e){if(!(this instanceof n))return new n(e);var r=e||t;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var o=0;o<r.length;o++)this._memberIn(r[o]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=t};var n=e._DOMRange;n._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),n._insert=function(e,t,r,o){var a=e;a instanceof n?a.attach(t,r,o):o?n._moveNodeWithHooks(a,t,r):n._insertNodeWithHooks(a,t,r)},n._remove=function(e){var t=e;t instanceof n?t.detach():n._removeNodeWithHooks(t)},n._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},n._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},n._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},n.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},n.prototype.attach=function(e,t,r,o){if((r||o)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var a=this.members;if(a.length){this.emptyRangePlaceholder=null;for(var i=0;i<a.length;i++)n._insert(a[i],e,t,r)}else{var s=n._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,t||null)}if(this.attached=!0,this.parentElement=e,!r&&!o)for(var i=0;i<this.attachedCallbacks.length;i++){var c=this.attachedCallbacks[i];c.attached&&c.attached(this,e)}},n.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var o=this.lastNode().nextSibling,a=this.parentElement;this.detach(!0),this.members=t,this.attach(a,o,!1,!0)}}else this.members=t},n.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof n?e.firstNode():e},n.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof n?e.lastNode():e},n.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var t=this.parentElement,r=this.members;if(r.length)for(var o=0;o<r.length;o++)n._remove(r[o]);else{var a=this.emptyRangePlaceholder;this.parentElement.removeChild(a),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var o=0;o<this.attachedCallbacks.length;o++){var i=this.attachedCallbacks[o];i.detached&&i.detached(this,t)}}},n.prototype.addMember=function(e,t,r){var o=this.members;if(!(t>=0&&t<=o.length))throw new Error("Bad index in range.addMember: "+t);if(r||this._memberIn(e),this.attached)if(0===o.length)this.setMembers([e]);else{var a;if(t===o.length)a=this.lastNode().nextSibling;else{var i=o[t];a=i instanceof n?i.firstNode():i}o.splice(t,0,e),n._insert(e,this.parentElement,a,r)}else o.splice(t,0,e)},n.prototype.removeMember=function(e,r){var o=this.members;if(!(e>=0&&e<o.length))throw new Error("Bad index in range.removeMember: "+e);if(r)o.splice(e,1);else{var a=o[e];this._memberOut(a),1===o.length?this.setMembers(t):(o.splice(e,1),this.attached&&n._remove(a))}},n.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},n.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},n.prototype._memberIn=function(e){e instanceof n?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},n._destroy=function(t,r){t instanceof n?t.view&&e._destroyView(t.view,r):r||1!==t.nodeType||t.$blaze_range&&(e._destroyNode(t),t.$blaze_range=null)},n.prototype._memberOut=n._destroy,n.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},n.prototype.destroy=function(e){n._destroy(this,e)},n.prototype.containsElement=function(t){if(!this.attached)throw new Error("Must be attached");if(!e._elementContains(this.parentElement,t))return!1;for(;t.parentNode!==this.parentElement;)t=t.parentNode;for(var n=t.$blaze_range;n&&n!==this;)n=n.parentRange;return n===this},n.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},n.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},n.prototype.onAttachedDetached=function(e){this.attachedCallbacks===t&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(e)},n.prototype.$=function(t){var n=this,r=this.parentElement;if(!r)throw new Error("Can't select in removed DomRange");if(11===r.nodeType)throw new Error("Can't use $ on an offscreen range");var o=e._DOMBackend.findBySelector(t,r),a=function(e){return"number"==typeof e&&(e=this),n.containsElement(e)};if(o.filter)o=o.filter(a);else{for(var i=[],s=0;s<o.length;s++){var c=o[s];a(c)&&i.push(c)}o=i}return o},e._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var t=e._EventSupport={},n=e._DOMBackend,r=t.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},o=t.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,i=function(e,t,i,s,c){this.elem=e,this.type=t,this.selector=i,this.handler=s,this.recipient=c,this.id=a++,this.mode=o.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var l=e.addEventListener&&!u.has(r,n.Events.parseEventType(t));l?this.capturingHandler=function(e){return function(t){if(e.mode===o.TBD){if(t.bubbles)return e.mode=o.BUBBLING,void n.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=o.CAPTURING,n.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(t)}}(this):this.mode=o.BUBBLING};t.HandlerRec=i,i.prototype.bind=function(){this.mode!==o.BUBBLING&&n.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==o.CAPTURING&&n.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},i.prototype.unbind=function(){this.mode!==o.BUBBLING&&n.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==o.CAPTURING&&n.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},t.listen=function(e,t,n,r,o,a){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var c=[],l=0,u=s.length;u>l;l++){var p=s[l],d=e.$blaze_events;d||(d=e.$blaze_events={});var f=d[p];f||(f=d[p]={},f.handlers=[]);var h=f.handlers,m=new i(e,p,n,r,o);if(c.push(m),m.bind(),h.push(m),a)for(var g=a(o);g;g=a(g))for(var v=0,y=h.length;y>v;v++){var b=h[v];b.recipient===g&&(b.unbind(),b.bind(),h.splice(v,1),h.push(b),v--,y--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<c.length;n++){var r=c[n],o=t[r.type];if(o)for(var a=o.handlers,i=a.length-1;i>=0;i--)a[i]===r&&(r.unbind(),a.splice(i,1))}c.length=0}}}}}.call(this),function(){var t=!1;e._allowJavascriptUrls=function(){t=!0},e._javascriptUrlsAllowed=function(){return t},r=function(e,t){this.name=e,this.value=t},e._AttributeHandler=r,r.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},r.extend=function(e){var t=this,n=function(){r.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&u.extend(n.prototype,e),n};var n=r.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},o=n?this.parseValue(n):{},a=this.getCurrentValue(e),i=a?this.parseValue(a):{};u.each(u.keys(r),function(e){e in o||delete i[e]}),u.each(u.keys(o),function(e){i[e]=o[e]}),this.setValue(e,u.values(i).join(" "))}}),c=n.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return u.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),l=c.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),p=n.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t={},n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,r=n.exec(e);r;)t[" "+r[1]]=r[0].trim?r[0].trim():s.trim(r[0]),r=n.exec(e);return t}}),d=r.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),f=r.extend({update:function(e,t,n){n!==e.value&&(e.value=n)}}),h=r.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),m=function(e){return"ownerSVGElement"in e},g=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return u.contains(r,t)};if(i.isClient)var v=document.createElement("A");var y=function(e){if(i.isClient)return v.href=e,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},b=r.prototype.update,_=r.extend({update:function(t,n,r){var o=this,a=arguments;if(e._javascriptUrlsAllowed())b.apply(o,a);else{var i="javascript:"===y(r);i?(e._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),b.apply(o,[t,n,null])):b.apply(o,a)}}});o=function(e,t,n){return"class"===t?m(e)?new l(t,n):new c(t,n):"style"===t?new p(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new d(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new h(t.substring(6),n):g(e.tagName,t)?new _(t,n):new r(t,n):new f(t,n)},a=function(e){this.elem=e,this.handlers={}},a.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!u.has(e,r)){var a=n[r],i=a.value;a.value=null,a.update(t,i,null),delete n[r]}for(var r in e){var i,a=null,s=e[r];u.has(n,r)?(a=n[r],i=a.value):null!==s&&(a=o(t,r,s),n[r]=a,i=null),i!==s&&(a.value=s,a.update(t,i,s),null===s&&delete n[r])}}}.call(this),function(){e._DOMMaterializer=p.Visitor.extend(),e._DOMMaterializer.def({visitNull:function(e,t){return t},visitPrimitive:function(e,t){var n=String(e);return t.push(document.createTextNode(n)),t},visitCharRef:function(e,t){return this.visitPrimitive(e.str,t)},visitArray:function(e,t){for(var n=0;n<e.length;n++)this.visit(e[n],t);return t},visitComment:function(e,t){return t.push(document.createComment(e.sanitizedValue)),t},visitRaw:function(t,n){for(var r=e._DOMBackend.parseHTML(t.value),o=0;o<r.length;o++)n.push(r[o]);return n},visitTag:function(n,r){var o,i=this,s=n.tagName;o=(p.isKnownSVGElement(s)||t(n))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);var c=n.attrs,d=n.children;if("textarea"===s&&n.children.length&&!(c&&"value"in c)){if("function"==typeof c||p.isArray(c))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");c=u.extend({},c||null),c.value=e._expand(d,i.parentView),d=[]}if(c){var f,h=new a(o),m=function(){var t=i.parentView,n=e._expandAttributes(c,t),r=p.flattenAttributes(n),o={};for(var a in r)o[a]=e._toText(r[a],t,p.TEXTMODE.STRING);h.update(o)};f=i.parentView?i.parentView.autorun(m):l.nonreactive(function(){return l.autorun(function(){l._withCurrentView(i.parentView,m)})}),e._DOMBackend.Teardown.onElementTeardown(o,function(){f.stop()})}for(var g=i.visit(d,[]),v=0;v<g.length;v++){var y=g[v];y instanceof e._DOMRange?y.attach(o):o.appendChild(y)}return r.push(o),r},visitObject:function(t,n){return t instanceof e.Template&&(t=t.constructView()),t instanceof e.View?(n.push(e._materializeView(t,this.parentView)),n):p.Visitor.prototype.visitObject.call(this,t)}});var t=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;e._throwNextException=!1,e._reportException=function(n,r){if(e._throwNextException)throw e._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof i?i._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message)},e._wrapCatchingExceptions=function(t,n){return"function"!=typeof t?t:function(){try{return t.apply(this,arguments)}catch(r){e._reportException(r,"Exception in "+n+":")}}}}.call(this),function(){e.View=function(t,n){return this instanceof e.View?("function"==typeof t&&(n=t,t=""),this.name=t,this._render=n,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,void(this.renderCount=0)):new e.View(t,n)},e.View.prototype._render=function(){return null},e.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},e.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},e.View.prototype.onViewReady=function(t){var n=this,r=function(){l.afterFlush(function(){n.isDestroyed||e._withCurrentView(n,function(){t.call(n)})})};n._onViewRendered(function(){n.isDestroyed||(n._domrange.attached?r():n._domrange.onAttached(r))})},e.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},e.View.prototype.autorun=function(t,n){var r=this;if(!r.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(l.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var o=l.autorun(function(o){return e._withCurrentView(n||r,function(){return t.call(r,o)})});return r.onViewDestroyed(function(){o.stop()}),o},e.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},e.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},e._fireCallbacks=function(t,n){e._withCurrentView(t,function(){l.nonreactive(function(){for(var e=t._callbacks[n],r=0,o=e&&e.length;o>r;r++)e[r].call(t)})})},e._createView=function(t,n,r){if(t.isCreated)throw new Error("Can't render the same View twice");t.parentView=n||null,t.isCreated=!0,r&&(t._isCreatedForExpansion=!0),e._fireCallbacks(t,"created")},e._materializeView=function(t,n){e._createView(t,n);var r,o;return l.nonreactive(function(){t.autorun(function(n){t.renderCount++,t._isInRender=!0;var a=t._render();t._isInRender=!1,l.nonreactive(function(){var i=new e._DOMMaterializer({parentView:t}),s=i.visit(a,[]);(n.firstRun||!e._isContentEqual(o,a))&&(n.firstRun?(r=new e._DOMRange(s),t._domrange=r,r.view=t,t.isRendered=!0):r.setMembers(s),e._fireCallbacks(t,"rendered"))}),o=a,l.onInvalidate(function(){r.destroyMembers()})});var n=null;r.onAttached(function(r,o){t._isAttached=!0,n=e._DOMBackend.Teardown.onElementTeardown(o,function(){e._destroyView(t,!0)})}),t.onViewDestroyed(function(){n&&n.stop(),n=null})}),r},e._expandView=function(t,n){e._createView(t,n,!0),t._isInRender=!0;var r=e._withCurrentView(t,function(){return t._render()});t._isInRender=!1;var o=e._expand(r,t);return l.active?l.onInvalidate(function(){e._destroyView(t)}):e._destroyView(t),o},e._HTMLJSExpander=p.TransformingVisitor.extend(),e._HTMLJSExpander.def({visitObject:function(t){return t instanceof e.Template&&(t=t.constructView()),t instanceof e.View?e._expandView(t,this.parentView):p.TransformingVisitor.prototype.visitObject.call(this,t)},visitAttributes:function(t){return"function"==typeof t&&(t=e._withCurrentView(this.parentView,t)),p.TransformingVisitor.prototype.visitAttributes.call(this,t)},visitAttribute:function(t,n,r){return"function"==typeof n&&(n=e._withCurrentView(this.parentView,n)),p.TransformingVisitor.prototype.visitAttribute.call(this,t,n,r)}});var t=function(){var t=e.currentView;return t&&t._isInRender?t:null};e._expand=function(n,r){return r=r||t(),new e._HTMLJSExpander({parentView:r}).visit(n)},e._expandAttributes=function(n,r){return r=r||t(),new e._HTMLJSExpander({parentView:r}).visitAttributes(n)},e._destroyView=function(t,n){t.isDestroyed||(t.isDestroyed=!0,e._fireCallbacks(t,"destroyed"),t._domrange&&t._domrange.destroyMembers(n))},e._destroyNode=function(t){1===t.nodeType&&e._DOMBackend.Teardown.tearDownElement(t)},e._isContentEqual=function(e,t){return e instanceof p.Raw?t instanceof p.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},e.currentView=null,e._withCurrentView=function(t,n){var r=e.currentView;try{return e.currentView=t,n()}finally{e.currentView=r}};var n=function(t){if(null===t)throw new Error("Can't render null");if("undefined"==typeof t)throw new Error("Can't render undefined");if(!(t instanceof e.View||t instanceof e.Template||"function"==typeof t))try{(new p.Visitor).visit(t)}catch(n){throw new Error("Expected Template or View")}},r=function(t){if(n(t),t instanceof e.Template)return t.constructView();if(t instanceof e.View)return t;var r=t;return"function"!=typeof r&&(r=function(){return t}),e.View("render",r)},o=function(e){return n(e),"function"!=typeof e?function(){return e}:e};e.render=function(n,o,a,i){if(o||e._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),a instanceof e.View&&(i=a,a=null),o&&"number"!=typeof o.nodeType)throw new Error("'parentElement' must be a DOM node");if(a&&"number"!=typeof a.nodeType)throw new Error("'nextNode' must be a DOM node");i=i||t();var s=r(n);return e._materializeView(s,i),o&&s._domrange.attach(o,a),s},e.insert=function(t,n,r){if(e._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(t&&t._domrange instanceof e._DOMRange))throw new Error("Expected template rendered with UI.render");t._domrange.attach(n,r)},e.renderWithData=function(t,n,r,a,i){return e.render(e._TemplateWith(n,o(t)),r,a,i)},e.remove=function(t){if(!(t&&t._domrange instanceof e._DOMRange))throw new Error("Expected template rendered with Blaze.render");if(!t.isDestroyed){var n=t._domrange;n.attached&&!n.parentRange&&n.detach(),n.destroy()}},e.toHTML=function(n,o){return o=o||t(),p.toHTML(e._expandView(r(n),o))},e.toHTMLWithData=function(n,r,a){return a=a||t(),p.toHTML(e._expandView(e._TemplateWith(r,o(n)),a))},e._toText=function(n,r,o){if("function"==typeof n)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==r||r instanceof e.View||(o=r,r=null),r=r||t(),!o)throw new Error("textMode required");if(o!==p.TEXTMODE.STRING&&o!==p.TEXTMODE.RCDATA&&o!==p.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+o);return p.toText(e._expand(n,r),o)},e.getData=function(t){var n;if(t)if(t instanceof e.View){var r=t;n="with"===r.name?r:e.getView(r,"with")}else{if("number"!=typeof t.nodeType)throw new Error("Expected DOM element or View");if(1!==t.nodeType)throw new Error("Expected DOM element");n=e.getView(t,"with")}else n=e.getView("with");return n?n.dataVar.get():null},e.getElementData=function(t){if(e._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==t.nodeType)throw new Error("Expected DOM element");return e.getData(t)},e.getView=function(t,n){var r=n;if("string"==typeof t&&(r=t,t=null),t){if(t instanceof e.View)return e._getParentView(t,r);if("number"==typeof t.nodeType)return e._getElementView(t,r);throw new Error("Expected DOM element or View")}return e._getCurrentView(r)},e._getCurrentView=function(t){var n=e.currentView;if(!n)throw new Error("There is no current view");if(t){for(;n&&n.name!==t;)n=n.parentView;return n||null}return n},e._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},e._getElementView=function(t,n){for(var r=e._DOMRange.forElement(t),o=null;r&&!o;)o=r.view||null,o||(r=r.parentRange?r.parentRange:e._DOMRange.forElement(r.parentElement));if(n){for(;o&&o.name!==n;)o=o.parentView;return o||null}return o},e._addEventMap=function(t,n,r){r=r||null;var o=[];if(!t._domrange)throw new Error("View must have a DOMRange");t._domrange.onAttached(function(a,i){u.each(n,function(n,s){var c=s.split(/,\s+/);u.each(c,function(s){var c=s.split(/\s+/);if(0!==c.length){var l=c.shift(),u=c.join(" ");o.push(e._EventSupport.listen(i,l,u,function(o){if(!a.containsElement(o.currentTarget))return null;var i=r||this,s=arguments;return e._withCurrentView(t,function(){return n.apply(i,s)})},a,function(e){return e.parentRange}))}})})}),t.onViewDestroyed(function(){u.each(o,function(e){e.stop()}),o.length=0})}}.call(this),function(){e._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},e.With=function(t,n){var r=e.View("with",n);return r.dataVar=new f,r.onViewCreated(function(){"function"==typeof t?r.autorun(function(){r.dataVar.set(t())},r.parentView):r.dataVar.set(t)}),r},e.If=function(t,n,r,o){var a=new f,i=e.View(o?"unless":"if",function(){return a.get()?n():r?r():null});return i.__conditionVar=a,i.onViewCreated(function(){this.autorun(function(){var n=e._calculateCondition(t());a.set(o?!n:n)},this.parentView)}),i},e.Unless=function(t,n,r){return e.If(t,n,r,!0)},e.Each=function(t,n,r){var o=e.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new l.Dependency,this.expandedValueDep.depend()),e});return o.initialSubviews=[],o.numItems=0,o.inElseMode=!1,o.stopHandle=null,o.contentFunc=n,o.elseFunc=r,o.argVar=new f,o.onViewCreated(function(){o.autorun(function(){o.argVar.set(t())},o.parentView),o.stopHandle=d.observe(function(){return o.argVar.get()},{addedAt:function(t,n,r){l.nonreactive(function(){var t=e.With(n,o.contentFunc);if(o.numItems++,o.expandedValueDep)o.expandedValueDep.changed();else if(o._domrange){o.inElseMode&&(o._domrange.removeMember(0),o.inElseMode=!1);var a=e._materializeView(t,o);o._domrange.addMember(a,r)}else o.initialSubviews.splice(r,0,t)})},removedAt:function(t,n,r){l.nonreactive(function(){o.numItems--,o.expandedValueDep?o.expandedValueDep.changed():o._domrange?(o._domrange.removeMember(r),o.elseFunc&&0===o.numItems&&(o.inElseMode=!0,o._domrange.addMember(e._materializeView(e.View("each_else",o.elseFunc),o),0))):o.initialSubviews.splice(r,1)})},changedAt:function(e,t,n,r){l.nonreactive(function(){var e;o.expandedValueDep?o.expandedValueDep.changed():e=o._domrange?o._domrange.getMember(r).view:o.initialSubviews[r],e.dataVar.set(t)})},movedTo:function(e,t,n,r){l.nonreactive(function(){if(o.expandedValueDep)o.expandedValueDep.changed();else if(o._domrange)o._domrange.moveMember(n,r);else{var e=o.initialSubviews,t=e[n];e.splice(n,1),e.splice(r,0,t)}})}}),o.elseFunc&&0===o.numItems&&(o.inElseMode=!0,o.initialSubviews[0]=e.View("each_else",o.elseFunc))}),o.onViewDestroyed(function(){o.stopHandle&&o.stopHandle.stop()}),o},e._TemplateWith=function(t,n){var r,o=t;"function"!=typeof t&&(o=function(){return t});var a=function(){var t=null;return r.parentView&&"InOuterTemplateScope"===r.parentView.name&&(t=r.parentView.originalParentView),t?e._withCurrentView(t,o):o()};return r=e.With(a,n),r.__isTemplateWith=!0,r},e._InOuterTemplateScope=function(t,n){var r=e.View("InOuterTemplateScope",n),o=t.parentView;return o.__isTemplateWith&&(o=o.parentView),r.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=o}),r},e.InOuterTemplateScope=e._InOuterTemplateScope}.call(this),function(){e._globalHelpers={},e.registerHelper=function(t,n){e._globalHelpers[t]=n};var n=function(t){return"function"==typeof t?function(){var n=e.getData();return null==n&&(n={}),t.apply(n,arguments)}:t},r=function(t){return e._wrapCatchingExceptions(t,"template helper")};e.View.prototype.lookup=function(o,a){var i=this.template,s=a&&a.template;if(/^\./.test(o)){if(!/^(\.)+$/.test(o))throw new Error("id starting with dot must be a series of dots");return e._parentData(o.length-1,!0)}return i&&o in i?r(n(i[o])):s&&o in e.Template&&e.Template[o]instanceof e.Template?e.Template[o]:t._globalHelpers[o]?r(n(t._globalHelpers[o])):function(){var t=arguments.length>0,n=e.getData();if(s&&(!n||!n[o]))throw new Error("No such template: "+o);if(t&&(!n||!n[o]))throw new Error("No such function: "+o);if(!n)return null;var r=n[o];if("function"!=typeof r){if(t)throw new Error("Can't call non-function: "+r);return r}return r.apply(n,arguments)}},e._parentData=function(t,n){for(var r=e.getView("with"),o=0;t>o&&r;o++)r=e.getView(r,"with");return r?n?function(){return r.dataVar.get()}:r.dataVar.get():null},e.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){e.Template=function(t,n){if(!(this instanceof e.Template))return new e.Template(t,n);if("function"==typeof t&&(n=t,t=""),"string"!=typeof t)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=t,this.renderFunction=n,this.__eventMaps=[]};var t=e.Template;e.isTemplate=function(t){return t instanceof e.Template},t.prototype.constructView=function(n,r){var o=this,a=e.View(o.viewName,o.renderFunction);return a.template=o,a.templateContentBlock=n?new t("(contentBlock)",n):null,a.templateElseBlock=r?new t("(elseBlock)",r):null,(o.__eventMaps||"object"==typeof o.events)&&a._onViewRendered(function(){1===a.renderCount&&(o.__eventMaps.length||"object"!=typeof o.events||t.prototype.events.call(o,o.events),u.each(o.__eventMaps,function(t){e._addEventMap(a,t,a)}))}),a._templateInstance=new e.TemplateInstance(a),a.templateInstance=function(){var t=a._templateInstance;return t.data=e.getData(a),a._domrange&&!a.isDestroyed?(t.firstNode=a._domrange.firstNode(),t.lastNode=a._domrange.lastNode()):(t.firstNode=null,t.lastNode=null),t},o.created&&a.onViewCreated(function(){o.created.call(a.templateInstance())}),o.rendered&&a.onViewReady(function(){o.rendered.call(a.templateInstance())}),o.destroyed&&a.onViewDestroyed(function(){o.destroyed.call(a.templateInstance())}),a},e.TemplateInstance=function(t){if(!(this instanceof e.TemplateInstance))return new e.TemplateInstance(t);if(!(t instanceof e.View))throw new Error("View required");t._templateInstance=this,this.view=t,this.data=null,this.firstNode=null,this.lastNode=null},e.TemplateInstance.prototype.$=function(e){var t=this.view;
if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},e.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},e.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},e.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},t.prototype.helpers=function(e){for(var t in e)this[t]=e[t]},t.prototype.events=function(t){var n=this,r={};for(var o in t)r[o]=function(t,n){return function(t){var r=this,o=e.getData(t.currentTarget);null==o&&(o={});var a=Array.prototype.slice.call(arguments),i=r.templateInstance();return a.splice(1,0,i),n.apply(o,a)}}(o,t[o]);n.__eventMaps.push(r)},t.instance=function(){for(var t=e.currentView;t&&!t.template;)t=t.parentView;return t?t.templateInstance():null},t.currentData=e.getData,t.parentData=e._parentData,t.registerHelper=e.registerHelper}.call(this),function(){t=e,e.ReactiveVar=f,t._templateInstance=e.Template.instance,n={},n.registerHelper=e.registerHelper,n._escape=e._escape,n.SafeString=function(e){this.string=e},n.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:e,UI:t,Handlebars:n}}(),function(){{var e,t=(Package.meteor.Meteor,Package.blaze.Blaze),n=Package.blaze.UI;Package.blaze.Handlebars,Package.htmljs.HTML}(function(){e=t.Template,e.__checkName=function(t){if(t in e){if(e[t]instanceof e&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},e.__define__=function(t,n){e.__checkName(t),e[t]=new e("Template."+t,n)},e.body=new e("body",function(){for(var t=e.body.contentViews,n=0;n<t.length;n++)t[n].template=e.body;return t}),e.body.contentViews=[],e.body.view=null,e.body.addContent=function(n){var r="body_content_"+e.body.contentViews.length;e.body.contentViews.push(t.View(r,n))},e.body.renderToDocument=function(){if(!e.body.view){var t=n.render(e.body,document.body);e.body.view=t}},n.body=e.body,e.__body__=e.body,e.__body__.__contentParts=e.body.contentViews,e.__body__.__instantiate=e.body.renderToDocument}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:e}}(),function(){{var e,t=Package.meteor.Meteor,n=Package.underscore._;Package.ejson.EJSON}(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){e={},e.utils={},e.utils.assert=function(e,t){if(!e)throw new Error(t)},e.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},e.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},e.utils.inherits=function(t,r,o){e.utils.assert("undefined"!=typeof t,"Child is undefined in inherits function"),e.utils.assert("undefined"!=typeof r,"Parent is undefined in inherits function");for(var a in r)n.has(r,a)&&(t[a]=r[a]);var i=function(){this.constructor=t};return i.prototype=r.prototype,t.prototype=new i,t.__super__=r.prototype,n.isObject(o)&&n.extend(t.prototype,o),t},e.utils.extend=function(t,r){r=r||{};var o=function(){var e;e=n.has(r,"constructor")?r.constructor:o.__super__.constructor,e.apply(this,arguments)};return e.utils.inherits(o,t,r)},e.utils.global=function(){return t.isClient?window:global}(),e.utils.namespace=function(t,n){var r,o,a,i,s=e.utils.global;e.utils.assert("string"==typeof t,"namespace must be a string"),r=t.split("."),a=r.pop(),i=s;for(var c=0;c<r.length;c++)o=r[c],i=i[o]=i[o]||{};return 2===arguments.length?(i[a]=n,n):i[a]},e.utils.resolve=function(t){var n,r,o=e.utils.global;if("string"==typeof t){n=t.split("."),r=o;for(var a=0;a<n.length;a++)if(r=r[n[a]],!r)return void 0}else r=t;return r},e.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},e.utils.classCase=function(t){var r=/_|-|\.|\//;return t?n.map(t.split(r),function(t){return e.utils.capitalize(t)}).join(""):""},e.utils.camelCase=function(t){var n=e.utils.classCase(t);return n=n.charAt(0).toLowerCase()+n.slice(1,n.length)},e.utils.notifyDeprecated=function(e){var t,r,o,a,i="[:where] ':name' is deprecated. Please use ':instead' instead.";n.isObject(e)?(t=e.name,r=e.instead,o=e.message||i,a=e.where||"IronRouter"):(o=e,t="",r="",a=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",t).replace(":instead",r).replace(":where",a)+" "+(new Error).stack)},e.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(t){var n=this;return e.utils.withDeprecatedNotice(t,n)},e.utils.debug=function(t){return e.utils.assert("string"==typeof t,"debug requires a package name"),function(){if(console&&console.log&&e.debug===!0){var r=n.toArray(arguments).join(" ");console.log("%c<"+t+"> %c"+r,"color: #999;","color: #000;")}}},e.utils.global.Iron=e}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:core"]={Iron:e}}(),function(){{var e,t,n,e=(Package.meteor.Meteor,Package.blaze.Blaze),t=Package.blaze.UI,n=Package.blaze.Handlebars;Package.htmljs.HTML}"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:t,Handlebars:n}}(),function(){{var e,t,n,r,o=(Package.meteor.Meteor,Package.ui.Blaze),a=Package.ui.UI,i=(Package.ui.Handlebars,Package.underscore._),s=Package.jquery.$,c=(Package.jquery.jQuery,Package.tracker.Tracker,Package.tracker.Deps),l=Package.templating.Template,u=Package["iron:core"].Iron;Package.htmljs.HTML}(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){e=u.utils.debug("iron:dynamic-template"),t=u.utils.camelCase,n=function(e){return Object.prototype.toString.call(e)},r=function(e){this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new c.Dependency,this._dataDep=new c.Dependency,this._hasControllerDep=new c.Dependency,this._hooks={},this._controller=new o.ReactiveVar,this.name=e.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},r.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},r.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},r.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},r.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},r.prototype.create=function(){var e=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var a=o.ReactiveVar(null),s=o.View("DynamicTemplate",function(){var i=this,s=a.get();return o.With(function(){var t=e.data();return"undefined"!=typeof t?t:r.getParentDataContext(i)},function(){var r=null;if("string"==typeof s){if(r=l[s],r||(r=l[t(s)]),!r)throw new Error("Couldn't find a template named "+JSON.stringify(s)+" or "+JSON.stringify(t(s))+". Are you sure you defined it?")}else"[object Object]"===n(s)?r=s:"undefined"!=typeof e._content&&(r=e._content);return r})});return s.onViewCreated(function(){this.autorun(function(){a.set(e.template())})}),i.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(t){s[t](function(){e._runHooks(t,this)})}),s._onViewRendered(function(){e.isInserted=!0}),this.view=s,s.__dynamicTemplate__=this,s.name=this.name,s},r.prototype.destroy=function(){this.isCreated&&(o.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},i.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){r.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),this}}),r.prototype._runHooks=function(e,t){for(var n,r=this._hooks[e]||[],o=0;o<r.length;o++)n=r[o],n.call(t,this)},r.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var t=e.el||document.body,n=s(t);if(0===n.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),o.render(this.view,n[0],e.nextNode,e.parentView),this}},r.prototype.getController=function(){return this._controller.get()},r.prototype.setController=function(e){var t=!!this._hasController;return this._hasController="undefined"!=typeof e,t!==this._hasController&&this._hasControllerDep.changed(),this._controller.set(e)},r.prototype.hasController=function(){return this._hasControllerDep.depend(),this._hasController},r.getParentDataContext=function(e){for(e=e.parentView;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},r.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},r.args=function(e){return function(t){var n=r.getInclusionArguments(e);return n?t?n[t]:n:null}},r.extend=function(e){return u.utils.extend(this,e)},"undefined"!=typeof l&&a.registerHelper("DynamicTemplate",new l("DynamicTemplateHelper",function(){var e=r.args(this);return new r({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),u.DynamicTemplate=r}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}(),function(){{var e,t,n,r=(Package.meteor.Meteor,Package.templating.Template),o=Package.blaze.Blaze,a=Package.blaze.UI,i=(Package.blaze.Handlebars,Package.underscore._),s=Package["iron:core"].Iron;Package.htmljs.HTML}(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){r.__checkName("__IronDefaultLayout__"),r.__IronDefaultLayout__=new r("Template.__IronDefaultLayout__",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}.call(this),function(){var c=s.DynamicTemplate,l=s.utils.inherits;e=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},t=function(e){t.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},n=t.DEFAULT_REGION="main",l(t,s.DynamicTemplate),t.prototype.region=function(e,t){return this._ensureRegion(e,t)},t.prototype.destroyRegions=function(){i.each(this._regions,function(e){e.destroy()}),this._regions={}},t.prototype.render=function(e,t){t=t||{};var r=t.to||t.region||n,o=this.region(r);this._trackRenderedRegion(r),o.template(e),o.data(t.data)},t.prototype.has=function(e){return e=e||t.DEFAULT_REGION,!!this._regions[e]},t.prototype.regionKeys=function(){return i.keys(this._regions)},t.prototype.clear=function(e){return e=e||t.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},t.prototype.clearAll=function(){return i.each(this._regions,function(e){e.template(null)}),this},t.prototype.beginRendering=function(e){var t=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=i.once(function(){var n=t._endRendering({flush:!1});e&&e(n)}),Deps.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},t.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},t.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&Deps.flush();var t=this._renderedRegions||{};return this._renderedRegions=null,i.keys(t)},i.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){t.prototype[e]=function(t){var n=this._regionHooks[e]=this._regionHooks[e]||[];return n.push(t),this}}),t.prototype._ensureRegion=function(e,t){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,t)},t.prototype._createDynamicTemplate=function(e,t){var n=this,r=new s.DynamicTemplate(t),o=s.utils.capitalize;return r._region=e,i.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),r["on"+e](function(t){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];n._runRegionHooks("on"+o,r,t)})}),r},t.prototype._runRegionHooks=function(e,t,n){for(var r,o=this._regionHooks[e]||[],a=0;a<o.length;a++)r=o[a],r.call(t,n.region,n,this)},"undefined"!=typeof r&&(a.registerHelper("yield",new r("yield",function(){var t=e(this);if(!t)throw new Error("No Iron.Layout found so you can't use yield!");var r,o,a=c.getInclusionArguments(this);return i.isString(a)?r=a:i.isObject(a)&&(r=a.region),r=r||n,o=t.region(r),o.isCreated&&o.destroy(),o.create()})),a.registerHelper("contentFor",new r("contentFor",function(){var t=e(this);if(!t)throw new Error("No Iron.Layout found so you can't use contentFor!");var n,r=c.getInclusionArguments(this)||{},o=this.templateContentBlock,a=r.template,s=r.data;if(i.isString(r))n=r;else{if(!i.isObject(r))throw new Error("Which region is this contentFor block supposed to be for?");n=r.region}return t.region(n).template(a||o),t._trackRenderedRegion(n),s&&t.region(n).data(s),null})),a.registerHelper("hasRegion",function(t){var n=e(o.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!i.isString(t))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(t).template()}),a.registerHelper("Layout",new r("layout",function(){var e=s.DynamicTemplate.args(this),n=new t({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()}))),s.Layout=t}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}(),function(){var e,t,n,r,o,a,i,s,c,l,u,p=Package.meteor.Meteor,d=(Package["reactive-dict"].ReactiveDict,Package.tracker.Tracker,Package.tracker.Deps),f=Package.underscore._,h=Package.ejson.EJSON,m=Package.jquery.$,g=(Package.jquery.jQuery,Package.blaze.Blaze,Package.blaze.UI),v=(Package.blaze.Handlebars,Package.htmljs.HTML,Package["iron:core"].Iron);(function(){o={},o.global=function(){return this}(),o.assert=function(e,t){if(!e)throw new Error(t)};var e=function(e){n&&n.options.supressWarnings===!0||console&&console.warn&&console.warn(e)};o.warn=function(t,n){t||e(n)},o.notifyDeprecated=function(t){var n,r,o,a,i="[:where] ':name' is deprecated. Please use ':instead' instead.";f.isObject(t)?(n=t.name,r=t.instead,o=t.message||i,a=t.where||"IronRouter"):(o=t,n="",r="",a=""),e("<deprecated> "+o.replace(":name",n).replace(":instead",r).replace(":where",a)+" "+(new Error).stack)},o.withDeprecatedNotice=function(e,t,n){return function(){return o.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},o.resolveValue=function(e){var t,n,r=o.global;if(f.isString(e)){t=e.split("."),n=r;for(var a=0;a<t.length;a++)if(n=n[t[a]],!n)return void 0}else n=e;return n},o.hasOwnProperty=function(e,t){var n={}.hasOwnProperty;return n.call(e,t)},o.inherits=function(e,t){function n(){this.constructor=e}if("[object Function]"!==o.typeOf(e))throw new Error("First parameter to Utils.inherits must be a function");if("[object Function]"!==o.typeOf(t))throw new Error("Second parameter to Utils.inherits must be a function");for(var r in t)o.hasOwnProperty(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o.toArray=function(e){return e?"[object Array]"!==o.typeOf(e)?[e]:e:[]},o.typeOf=function(e){return e&&e.typeName?e.typeName:Object.prototype.toString.call(e)},o.extend=function(e,t,n){return 1===arguments.length?t=e:(t=t||{},t.extend=e),o.create(t,{onBeforeExtendPrototype:n})},o.create=function(e,t){var n,r;t=t||{},e=e||{},n=o.hasOwnProperty(e,"constructor")?e.constructor:function(){return n.__super__&&n.__super__.constructor?n.__super__.constructor.apply(this,arguments):void 0},r=e.extend,e.extend&&delete e.extend;var a=function(e,t,n){o.inherits(e,o.resolveValue(t)),n&&f.extend(e.prototype,n)};return r&&a(n,r),t.onBeforeExtendPrototype&&t.onBeforeExtendPrototype.call(n,e),f.extend(n.prototype,e),n},o.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},o.upperCamelCase=function(e){var t=/_|-|\./;return e?f.map(e.split(t),function(e){return o.capitalize(e)}).join(""):""},o.camelCase=function(e){var t=o.upperCamelCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},o.pick=function(){for(var e,t=f.toArray(arguments),n=0;n<t.length;n++)if(e=t[n],"undefined"!=typeof e&&null!==e)return e;return null},o.StringConverters={none:function(e){return e},upperCamelCase:function(e){return o.upperCamelCase(e)},camelCase:function(e){return o.camelCase(e)}},o.rewriteLegacyHooks=function(e){var t=a.LEGACY_HOOK_TYPES;f.each(t,function(t,n){f.has(e,n)&&(s=!0,e[t]=e[n],o.notifyDeprecated({where:"RouteController",name:n,instead:t}))})}}).call(this),function(){t=function(e,t,n){var r;o.assert(e instanceof a,"Route constructor first parameter must be a Router"),o.assert(f.isString(t),"Route constructor second parameter must be a String name"),f.isFunction(n)&&(n={handler:n}),n=this.options=n||{},r=n.path||"/"+t,this.router=e,this.originalPath=r,f.isString(this.originalPath)&&"/"!==this.originalPath.charAt(0)&&(this.originalPath="/"+this.originalPath),this.name=t,this.where=n.where||"client",this.controller=n.controller,this.action=n.action,this.isReactive="undefined"!=typeof n.reactive?n.reactive:!0,o.rewriteLegacyHooks(this.options),this.compile()},t.prototype={constructor:t,compile:function(){var e,t=this,n=t.options;return this.keys=[],t.originalPath instanceof RegExp?t.re=t.originalPath:(e=t.originalPath.replace(/(.)\/$/,"$1").concat(n.strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/#/,"/?#").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,r,o,a,i){return t.keys.push({name:o,optional:!!i}),n=n||"",""+(i?"":n)+"(?:"+(i?n:"")+(r||"")+(a||r&&"([^/.]+?)"||"([^/]+?)")+")"+(i||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),t.re=new RegExp("^"+e+"$",n.sensitive?"":"i")),this},params:function(e){if(!e)return null;var t,n,r,o=[],a=this.exec(e),i=this.keys;if(!a)throw new Error('The route named "'+this.name+'" does not match the path "'+e+'"');for(var s=1,l=a.length;l>s;++s)n=i[s-1],r="string"==typeof a[s]?decodeURIComponent(a[s]):a[s],n?o[n.name]=void 0!==o[n.name]?o[n.name]:r:o.push(r);return e=decodeURI(e),t=e.split("?")[1],t&&(t=t.split("#")[0]),o.hash=e.split("#")[1],t&&f.each(t.split("&"),function(e){c=e.split("="),o[c[0]]=decodeURIComponent(c[1])}),o},normalizePath:function(e){var t=p.absoluteUrl();e=e.replace(t,"");var n=e.indexOf("?");e=~n?e.slice(0,n):e;var r=e.indexOf("#");return e=~r?e.slice(0,r):e,"/"!==e.charAt(0)&&(e="/"+e),e},test:function(e){return this.re.test(this.normalizePath(e))},exec:function(e){return this.re.exec(this.normalizePath(e))},resolve:function(e,t){var n,r,o,a,i=0,s=this.originalPath,c=!1;if(t=t||{},e=e||[],a=t.query,o=t.hash&&t.hash.toString(),s instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");return s=this.originalPath.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,o,a,i,s,l){if(o=o||"",n=e[i],r="undefined"!=typeof n,l&&!r)n="";else if(!r)return void(c=!0);n=f.isFunction(n)?n.call(e):n;var u=f.map(String(n).split("/"),function(e){return encodeURIComponent(e)}).join("/");return o+u}).replace(/\*/g,function(){if("undefined"==typeof e[i])throw new Error("You are trying to access a wild card parameter at index "+i+" but the value of params at that index is undefined");var t=String(e[i++]);return f.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),f.isObject(a)&&(a=f.map(f.pairs(a),function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&")),a&&a.length&&(s=s+"?"+a),o&&(o=encodeURI(o.replace("#","")),s=a?s+"#"+o:s+"/#"+o),s=s.replace(/\/+/g,"/"),s=s.replace(/^(.+)\/$/g,"$1"),c?null:s},path:function(e,t){return this.resolve(e,t)},url:function(e,t){var n=this.path(e,t);return n?("/"===n.charAt(0)&&(n=n.slice(1,n.length)),p.absoluteUrl()+n):null},findController:function(){var t,r=o.resolveValue,a=(o.toArray,function(e){var t=r(e);if("undefined"==typeof t)throw new Error('controller "'+e+'" is not defined');return t});return f.isString(this.controller)?t=a(this.controller):f.isFunction(this.controller)?t=this.controller:this.name&&(t=r(n.convertRouteControllerName(this.name+"Controller"))),t||(t=e),t},newController:function(e,t){var n=this.findController(e,t);return t=f.extend({},t,{path:e,params:this.params(e),where:this.where,action:this.action}),new n(this.router,this,t)},getController:function(e,t){return this.newController(e,t)}.deprecate({where:"Route",name:"getController",instead:"newController"})}}.call(this),function(){e=function(e,n,r){if(!(e instanceof a))throw new Error("RouteController requires a router");if(!(n instanceof t))throw new Error("RouteController requires a route");r=this.options=r||{},this.router=e,this.route=n,this.path=r.path||"",this.params=r.params||[],this.where=r.where||"client",this.action=r.action||this.action,o.rewriteLegacyHooks(this.options),o.rewriteLegacyHooks(this)},e.prototype={constructor:e,lookupProperty:function(e){var t;if(!f.isString(e))throw new Error("key must be a string");if("undefined"!=typeof(t=this.options[e]))return t;if("undefined"!=typeof(t=this[e]))return t;var n;return n=this.route.options,n&&"undefined"!=typeof(t=n[e])?t:(n=this.router.options,n&&"undefined"!=typeof(t=n[e])?t:void 0)},runHooks:function(e,t,r){{var a=this;this.constructor}if(!f.isString(e))throw new Error("hookName must be a string");if(t&&!f.isArray(t))throw new Error("more must be an array of functions");var i,s=!1,c=function(e){var t=e;if(f.isFunction(t))return t;if(f.isString(t)&&f.isFunction(n.hooks[t]))return n.hooks[t];throw new Error("No hook found named: ",e)},l=function(t){var n=[];return t.__super__&&(n=n.concat(l(t.__super__.constructor))),o.hasOwnProperty(t.prototype,e)?n.concat(t.prototype[e]):n},u=o.toArray,p=this.router.getHooks(e,this.route.name);i=this.route.options;var d=u(i&&i[e]);i=this.options;var h,m=u(i&&i[e]),g=l(this.constructor);h=f.has(this,e)?u(this[e]):[];for(var v,y=m.concat(g).concat(h).concat(d).concat(p).concat(t),s=!1,b=function(){s=!0},_=0;v=y[_];_++){var w=c(v);s||this.isStopped||w.call(a,b,_)}return r&&r.call(a,s),s},action:function(){throw new Error("not implemented")},stop:function(e){return this._stopController(e)},_stopController:function(e){var t=this;this.isStopped||(t.isRunning=!1,t.runHooks("onStop"),t.isStopped=!0,e&&e.call(t))},_run:function(){throw new Error("not implemented")}},f.extend(e,{extend:function(e){return o.rewriteLegacyHooks(e),o.extend(this,e,function(){})}})}.call(this),function(){a=function(e){var t=this;this.configure(e),this.routes=[],this._nameConverters={},this.setNameConverter("Template","none"),this.setNameConverter("RouteController","upperCamelCase"),this._globalHooks={},f.each(a.HOOK_TYPES,function(e){t._globalHooks[e]=[],t[e]=function(n,r){return t.addHook(e,n,r)}}),f.each(a.LEGACY_HOOK_TYPES,function(e,n){t[n]=function(){return o.notifyDeprecated({where:"Router",name:n,instead:e}),t[e].apply(this,arguments)}})},a.HOOK_TYPES=["onRun","onData","onBeforeAction","onAfterAction","onStop","waitOn"],a.LEGACY_HOOK_TYPES={load:"onRun",before:"onBeforeAction",after:"onAfterAction",unload:"onStop"},a.prototype={constructor:a,configure:function(e){var t=this;return e=e||{},this.options=this.options||{},f.extend(this.options,e),f.each(a.HOOK_TYPES,function(e){t.options[e]&&(f.each(o.toArray(t.options[e]),function(n){t.addHook(e,n)}),delete t.options[e])}),f.each(a.LEGACY_HOOK_TYPES,function(e,n){t.options[n]&&(f.each(o.toArray(t.options[n]),function(n){t.addHook(e,n)}),delete t.options[n])}),e.templateNameConverter&&this.setNameConverter("Template",e.templateNameConverter),e.routeControllerNameConverter&&this.setNameConverter("RouteController",e.routeControllerNameConverter),this},convertTemplateName:function(e){var t=this._nameConverters.Template;if(!t)throw new Error("No name converter found for Template");return t(e)},convertRouteControllerName:function(e){var t=this._nameConverters.RouteController;if(!t)throw new Error("No name converter found for RouteController");return t(e)},setNameConverter:function(e,t){var n;if(f.isFunction(t)&&(n=t),f.isString(t)&&(n=o.StringConverters[t]),!n)throw new Error("No converter found named: "+t);return this._nameConverters[e]=n,this},addHook:function(e,t,n){return n=n||{},n.only&&(n.only=o.toArray(n.only)),n.except&&(n.except=o.toArray(n.except)),this._globalHooks[e].push({options:n,hook:t}),this},getHooks:function(e,t){var n=[];return f.each(this._globalHooks[e],function(e){var r=e.options;r.except&&f.include(r.except,t)||(!r.only||f.include(r.only,t))&&n.push(e.hook)}),n},map:function(e){return o.assert(f.isFunction(e),"map requires a function as the first parameter"),e.call(this),this},route:function(e,n){var r;return o.assert(f.isString(e),"name is a required parameter"),r=n instanceof t?n:new t(this,e,n),this.routes[e]=r,this.routes.push(r),r},path:function(e,t,n){var r=this.routes[e];return o.warn(r,"You called Router.path for a route named "+e+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(t,n)},url:function(e,t,n){var r=this.routes[e];return o.warn(r,'You called Router.url for a route named "'+e+"\" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(t,n)},match:function(e){return f.find(this.routes,function(t){return t.test(e)})},dispatch:function(e,t,n){var r=this.match(e);if(!r)return this.onRouteNotFound(e,t);if(r.where!==(p.isClient?"client":"server"))return this.onUnhandled(e,t);var o=r.newController(e,t);this.run(o,n)},run:function(e,t){var n=this,r=p.isClient?"client":"server";if(o.assert(e,"run requires a controller"),e.where!=r)return void n.onUnhandled(e.path,e.options);var a=function(){n._currentController=e,t&&t(e),n._currentController._run()};this._currentController?this._currentController._stopController(a):a()},onUnhandled:function(){throw new Error("onUnhandled not implemented")},onRouteNotFound:function(e){throw new Error('Oh no! No route found for path: "'+e+'"')}}}.call(this),function(){function e(e){u(e.originalEvent.state,null,location.pathname+location.search+location.hash)}var t=new d.Dependency,n={path:location.pathname+location.search+location.hash,title:null};r={},r.origin=function(){return location.protocol+"//"+location.host},r.isSameOrigin=function(e){var t=r.origin();return 0===e.indexOf(t)},r.get=function(){return t.depend(),n},r.path=function(){return t.depend(),n.path},r.set=function(e,t){t=t||{};var n=t.state||{};/^http/.test(e)?l=e:("/"!==e.charAt(0)&&(e="/"+e),l=r.origin()+e),r.isSameOrigin(l)?"server"===t.where?window.location=l:t.replaceState?r.replaceState(n,t.title,e,t.skipReactive):r.pushState(n,t.title,e,t.skipReactive):window.location=l},u=function(e,r,o,a){e=f.extend({},e),e.path=o,e.title=r,a||h.equals(n,e)||t.changed(),n=e},r.pushState=function(e,t,n,r){u(e,t,n,r),history.pushState?history.pushState(e,t,n):window.location=n},r.replaceState=function(e,t,r,o){arguments.length<2&&(t=n.title),arguments.length<3&&(r=n.path),u(e,t,r,o),history.replaceState?history.replaceState(e,t,r):window.location=r},r.bindEvents=function(){m(window).on("popstate.iron-router",e)},r.unbindEvents=function(){m(window).off("popstate.iron-router")},r.start=function(){this.isStarted||(r.bindEvents(),this.isStarted=!0,history.replaceState&&history.replaceState({initial:!0},null,location.pathname+location.search+location.hash))},r.stop=function(){r.unbindEvents(),this.isStarted=!1}}.call(this),function(){var i=function(e,t){return function(){return"function"==typeof e?e.apply(t,arguments):e}};if(a=o.extend(a,{constructor:function(e){var t=this;a.__super__.constructor.apply(this,arguments),t.options.linkSelector=t.options.linkSelector||"a[href]",e=e||{},this.isRendered=!1,this._currentController=null,this._controllerDep=new d.Dependency,this._hasJustReloaded=!1,p.startup(function(){p.defer(function(){t.options.autoRender!==!1&&t.autoRender(),t.options.autoStart!==!1&&t.start()})}),this._layout=new v.Layout({template:this.options.layoutTemplate})},layout:function(e,t){var n=this._layout.template(e);return t&&f.has(t,"data")&&this._layout.data(i(t.data,this)),n},setRegion:function(e,t){return 1===arguments.length&&(t=e,e=null),this._layout.render(t,{to:e}),this},clearRegion:function(e){return this._layout.clear(e),this},current:function(e){return e&&e.reactive===!1?this._currentController:(this._controllerDep.depend(),this._currentController)},clearUnusedRegions:function(e){var t=this,n=f.keys(this._layout._regions);e=f.filter(e,function(e){return!!e});var r=f.difference(n,e);f.each(r,function(e){t.clearRegion(e)})},run:function(e){a.__super__.run.apply(this,arguments),e==this._currentController&&this._controllerDep.changed()},go:function(e,t,n){var r,a,i,s,c=this,l=/^\/|http/;if(s=function(){n=n||{},c._location.set(a,{replaceState:n.replaceState,state:n.state,skipReactive:!0})},l.test(e)){if(a=e,n=t,a===c._location.path())return void(c.options.debug&&console.log("You've navigated to the same path that you are currently at. Doing nothing"));c.dispatch(a,n,s)}else r=c.routes[e],o.assert(r,"No route found named "+e),a=r.path(t,n),i=r.newController(a,n),c.run(i,s)},render:function(){return this.isRendered=!0,this._layout.create()
},autoRender:function(){this.isRendered=!0,this._layout.insert({el:document.body,parentComponent:null})},bindEvents:function(){m(document).on("click.ironRouter",this.options.linkSelector,f.bind(this.onClick,this))},unbindEvents:function(){m(document).off("click.ironRouter",this.options.linkSelector)},start:function(){var e=this;e.isStarted||(e.isStarted=!0,e._location=e.options.location||r,e._location.start(),e.bindEvents(),d.autorun(function(t){e._locationComputation=t,e.dispatch(e._location.path(),{state:history.state})}))},stop:function(){this.isStarted=!1,this.unbindEvents(),this._location.stop(),this._locationComputation&&this._locationComputation.stop()},onUnhandled:function(e){window.location=e},onRouteNotFound:function(n,r){if(this._location.path()!==n)window.location=n;else{if(!this.options.notFoundTemplate)throw new Error('Oh no! No route found for path: "'+n+'"');var o=new t(this,"__notfound__",f.extend(r||{},{path:n}));this.run(new e(this,o,{layoutTemplate:this.options.layoutTemplate,template:this.options.notFoundTemplate}))}},onClick:function(e){var t=e.currentTarget,n=f.isUndefined(e.which)?e.button:e.which,o=t.href,a=t.pathname+t.search+t.hash;a=a.replace(/(^\/?)/,"/"),e.isDefaultPrevented()||1===n&&(e.metaKey||e.ctrlKey||e.shiftKey||t.target||r.isSameOrigin(o)&&(e.preventDefault(),this.go(a)))}}),n=new a,p._reload){p._reload.onMigrate("iron-router",function(){return[!0,!0]});var s=p._reload.migrationData("iron-router");n._hasJustReloaded=s}}.call(this),function(){var e=v.utils.assert,t=function(){for(var e={},t=d.currentComputation;t;)e[String(t._id)]=!0,t=t._parent;return e},n=function(n){var r=t(),o=Object.keys(n._dependentsById);o.forEach(function(t){e(!r[t],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};i=function(){this._readyDep=new d.Dependency,this._comps=[],this._notReadyCount=0},i.prototype.wait=function(e){var t=this,r=d.currentComputation;n(t._readyDep),d.nonreactive(function(){var n=null,o=d.autorun(function(r){var o=!!e(),a=t._notReadyCount;r.firstRun&&!o?t._notReadyCount++:null!==n&&o!==n&&o===!0?t._notReadyCount--:null!==n&&o!==n&&o===!1&&t._notReadyCount++,n=o,0===a&&t._notReadyCount>0?t._readyDep.changed():a>0&&0===t._notReadyCount&&t._readyDep.changed()});t._comps.push(o),r&&r.onInvalidate(function(){d.afterFlush(function(){o.stop(),t._comps.splice(f.indexOf(t._comps,o),1),n===!1&&(t._notReadyCount--,0===t._notReadyCount&&t._readyDep.changed())})})})},i.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},i.prototype.stop=function(){f.each(this._comps,function(e){e.stop()}),this._comps=[]}}.call(this),function(){n.hooks={dataNotFound:function(e){var t;if(this.ready()&&this._hasData()){var n=this.data();(n===!1||null===n||"undefined"==typeof n)&&(t=this.lookupProperty("notFoundTemplate"),t&&(this.render(t),this.renderRegions(),e()))}},loading:function(e){var t;this.ready()||(t=this.lookupProperty("loadingTemplate"),t&&(this.render(t),this.renderRegions(),e()))}}}.call(this),function(){var t=!1,r=function(e){t&&console.log("%c<RouteController> "+e,"color: purple; font-size: 1.3em; font-weight: bold;")},a=function(e,t){return function(){return"function"==typeof e?e.apply(t,arguments):e}};e=o.extend(e,{constructor:function(){var t=this;e.__super__.constructor.apply(this,arguments),this._waitList=new i;var n=this.lookupProperty("data");this._hasData=function(){return"undefined"!=typeof n},this.data=a(n,this),f.each(["layout","setRegion","clearRegion"],function(e){t[e]=function(){if(!t.router)throw new Error("No router defined on RouteController");return t.router[e].apply(t.router,arguments)}})},setLayout:function(){return this.layout.apply(this,arguments)},ready:function(){return this._waitList.ready()},redirect:function(){return n.go.apply(n,arguments)},subscribe:function(){var e=this,t=p.subscribe.apply(this,arguments);return f.extend(t,{wait:function(){e.wait(this)}})},lookupLayoutTemplate:function(){return this.lookupProperty("layoutTemplate")},lookupTemplate:function(){return this.lookupProperty("template")||n.convertTemplateName(this.route.name)},lookupRegionTemplates:function(){var e;return(e=this.lookupProperty("regionTemplates"))?e:(e=this.lookupProperty("yieldTemplates"))?e:{}},lookupWaitOn:function(){var e=o.toArray,t=e(this.router.getHooks("waitOn",this.route.name)),n=e(this.router.options.waitOn),r=e(this.route.options.waitOn),a=e(this.options.waitOn),i=e(this.waitOn);return t.concat(n).concat(r).concat(a).concat(i)},render:function(e,t){var n,e;0==arguments.length?(this.setRegion(this.lookupTemplate()),this.renderRegions()):(t=t||{},n=t.to,this.setRegion(n,e))},renderRegions:function(){var e=this,t=this.lookupRegionTemplates();f.each(t,function(t,n){e.render(n,t)})},wait:function(e){var t=this;if(e)return f.isArray(e)?f.each(e,function(e){t.wait(e)}):this._waitList.wait(e.ready?function(){return e.ready()}:e),this},action:function(){this.render()},_stopController:function(t){var n=this;if(!this.isStopped){var r=function(){e.__super__._stopController.call(n,t)};this._computation?(this._computation.stop(),this._computation.onInvalidate(r)):r()}},_run:function(){var e=this,t=e.router._layout;if(e.isRunning)throw new Error("You called _run without first calling stop");e.isRunning=!0,e.isStopped=!1;var n=function(t,n){return function(){var r=e.stop;e.stop=function(){return"undefined"!=typeof console?void console.warn("You called this.stop() inside a hook or your action function but you should use pause() now instead which is the first parameter to the hook function."):void 0};try{return t.apply(n||this,arguments)}finally{e.stop=r}}};d.autorun(n(function(a){e._computation=a,d.autorun(n(function(t){!e.router._hasJustReloaded&&a.firstRun&&t.firstRun&&e.runHooks("onRun"),e.router._hasJustReloaded=!1})),d.autorun(function(){var t=e.lookupWaitOn(),n=f.flatten(f.map(t,function(t){return f.isFunction(t)?t.call(e):t}));r("waitOn"),e.wait(n)}),d.autorun(function(){e.router._layout.beginRendering(function(n){if(!e.isStopped){var r=t.regionKeys(),o=f.difference(r,n);f.each(o,function(e){t.clear(e)})}});var n=f.isFunction(e.action)?e.action:e[e.action];o.assert(n,"You don't have an action named \""+e.action+'" defined on your RouteController'),e.layout(e.lookupLayoutTemplate(),{data:e.lookupProperty("data")}),e.runHooks("onBeforeAction",[],function(t){e.isStopped||t||(n.call(e),e.isStopped||e.runHooks("onAfterAction"))})})}))}})}.call(this),function(){n.helpers={};var e=function(e){return e===window?{}:e},t=function(t,n){f.isObject(t)&&(n=t,t=n.route);var r=n.hash||{},o=r.params||f.omit(r,"hash","query"),a=r.hash,i=r.query;return f.isEmpty(r)&&(o=e(this)),{routeName:t,params:o,query:i,hash:a}};f.extend(n.helpers,{pathFor:function(e,r){var o=t.call(this,e,r);return n.path(o.routeName,o.params,{query:o.query,hash:o.hash})},urlFor:function(e,r){var o=t.call(this,e,r);return n.url(o.routeName,o.params,{query:o.query,hash:o.hash})}}),f.each(n.helpers,function(e,t){g.registerHelper(t,e)})}.call(this),function(){if(Package["cmather:iron-router"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:router"]={RouteController:e,Route:t,Router:n,IronLocation:r,Utils:o,IronRouter:a,WaitList:i}}(),function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var n,r="_localstorage_test_"+t.id();try{window.localStorage&&(window.localStorage.setItem(r,r),n=window.localStorage.getItem(r),window.localStorage.removeItem(r))}catch(o){}r===n&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}(),function(){var e,t,n,r,o,a,i,s,c,l,u,p=Package.meteor.Meteor,d=Package.underscore._,f=Package.tracker.Tracker,h=(Package.tracker.Deps,Package.random.Random),m=Package.ddp.DDP,g=Package.mongo.Mongo;(function(){e={},e._options={};var o=90,a=3600;t=6e5,n=1e4,e.config=function(t){if(p.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||p._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),d.has(t,"oauthSecretKey")){if(p.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(t.oauthSecretKey),t=d.omit(t,"oauthSecretKey")}var n=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];d.each(d.keys(t),function(e){if(!d.contains(n,e))throw new Error("Accounts.config: Invalid key: "+e)}),d.each(n,function(n){if(n in t){if(n in e._options)throw new Error("Can't set `"+n+"` more than once");e._options[n]=t[n]}}),p.isServer&&maybeStopExpireTokensInterval()},p.isClient&&(e.connection=p.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(e.connection=m.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),p.users=new g.Collection("users",{_preventAutopublish:!0,connection:p.isClient?e.connection:p.connection}),p.startup(function(){var t=Package["service-configuration"].ServiceConfiguration;e.loginServiceConfiguration=t.configurations,e.ConfigError=t.ConfigError}),e.LoginCancelledError=function(e){this.message=e},e.LoginCancelledError.numericError=145546287,e.LoginCancelledError.prototype=new Error,e.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",r=function(){return 24*(e._options.loginExpirationInDays||o)*60*60*1e3},e._tokenExpiration=function(e){return new Date(new Date(e).getTime()+r())},e._tokenExpiresSoon=function(e){var t=.1*r(),n=1e3*a;return t>n&&(t=n),new Date>new Date(e)-t}}).call(this),function(){o=!0;var t;t=window.location.hash.match(/^\#\/reset-password\/(.*)$/),t&&(o=!1,e._resetPasswordToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/verify-email\/(.*)$/),t&&(o=!1,e._verifyEmailToken=t[1],window.location.hash=""),t=window.location.hash.match(/^\#\/enroll-account\/(.*)$/),t&&(o=!1,e._enrollAccountToken=t[1],window.location.hash="")}.call(this),function(){p.userId=function(){return e.connection.userId()};var t=!1,n=new f.Dependency;e._setLoggingIn=function(e){t!==e&&(t=e,n.changed())},p.loggingIn=function(){return n.depend(),t},p.user=function(){var e=p.userId();return e?p.users.findOne(e):null},e.callLoginMethod=function(t){t=d.extend({methodName:"login",methodArguments:[],_suppressLoggingIn:!1},t),d.each(["validateResult","userCallback"],function(e){t[e]||(t[e]=function(){})});var n=d.once(t.userCallback),r=!1,o=function(t,o){e.connection.onReconnect=!t&&o&&o.token?function(){r=!0;var t=l();t&&(o={token:t,tokenExpires:u()}),o.tokenExpires||(o.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(o.tokenExpires)?a():e.callLoginMethod({methodArguments:[{resume:o.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=l();e&&t&&t===o.token&&a(),n(e)}})}:null},s=function(o,a){if(!r){if(e._setLoggingIn(!1),o||!a)return o=o||new Error("No result from call to "+t.methodName),void n(o);try{t.validateResult(a)}catch(s){return void n(s)}i(a.id,a.token,a.tokenExpires),n()}};t._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(t.methodName,t.methodArguments,{wait:!0,onResultReceived:o},s)},a=function(){c(),e.connection.setUserId(null),e.connection.onReconnect=null},i=function(t,n,r){s(t,n,r),e.connection.setUserId(t)},p.logout=function(t){e.connection.apply("logout",[],{wait:!0},function(e){e?t&&t(e):(a(),t&&t())})},p.logoutOtherClients=function(t){e.connection.apply("getNewToken",[],{wait:!0},function(e,t){e||s(p.userId(),t.token,t.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){t&&t(e)})};var r=e.connection.subscribe("meteor.loginServiceConfiguration");e.loginServicesConfigured=function(){return r.ready()};var o=[],h=null;e.onPageLoadLogin=function(e){h?e(h):o.push(e)},e._pageLoadLogin=function(e){return h?void p._debug("Ignoring unexpected duplicate page load login attempt info"):(d.each(o,function(t){t(e)}),o=[],void(h=e))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return p.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return p.loggingIn()}))}.call(this),function(){var t;p.loginWithToken=function(t,n){e.callLoginMethod({methodArguments:[{resume:t}],userCallback:n})},e._enableAutoLogin=function(){o=!0,v()};var n="Meteor.loginToken",r="Meteor.loginTokenExpires",i="Meteor.userId";e._isolateLoginTokenForTest=function(){n+=h.id(),i+=h.id()},s=function(o,a,s){p._localStorage.setItem(i,o),p._localStorage.setItem(n,a),s||(s=e._tokenExpiration(new Date)),p._localStorage.setItem(r,s),t=a},c=function(){p._localStorage.removeItem(i),p._localStorage.removeItem(n),p._localStorage.removeItem(r),t=null},l=e._storedLoginToken=function(){return p._localStorage.getItem(n)},u=function(){return p._localStorage.getItem(r)};var d=function(){return p._localStorage.getItem(i)},f=function(){var t=p._localStorage.getItem(r);t&&e._tokenExpiresSoon(new Date(t))&&c()};if(o){f();var m=l();if(m){var g=d();g&&e.connection.setUserId(g),p.loginWithToken(m,function(t){t&&(p._debug("Error logging in with token: "+t),a()),e._pageLoadLogin({type:"resume",allowed:!t,error:t,methodName:"login",methodArguments:[{resume:m}]})})}}t=m;var v=function(){if(o){var e=l();t!=e&&(e?p.loginWithToken(e,function(e){e&&a()}):p.logout()),t=e}};setInterval(v,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:e}}(),function(){{var e;Package.meteor.Meteor}(function(){e=function(){function e(e){function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function r(e,t){return e>>>t}function o(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function i(e){return n(e,2)^n(e,13)^n(e,22)}function s(e){return n(e,6)^n(e,11)^n(e,25)}function c(e){return n(e,7)^n(e,18)^r(e,3)}function l(e){return n(e,17)^n(e,19)^r(e,10)}function u(e,n){var r,u,p,d,f,h,m,g,v,y,b,_,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),T=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),k=new Array(64);e[n>>5]|=128<<24-n%32,e[(n+64>>9<<4)+15]=n;for(var v=0;v<e.length;v+=16){r=T[0],u=T[1],p=T[2],d=T[3],f=T[4],h=T[5],m=T[6],g=T[7];for(var y=0;64>y;y++)k[y]=16>y?e[y+v]:t(t(t(l(k[y-2]),k[y-7]),c(k[y-15])),k[y-16]),b=t(t(t(t(g,s(f)),o(f,h,m)),w[y]),k[y]),_=t(i(r),a(r,u,p)),g=m,m=h,h=f,f=t(d,b),d=p,p=u,u=r,r=t(b,_);T[0]=t(r,T[0]),T[1]=t(u,T[1]),T[2]=t(p,T[2]),T[3]=t(d,T[3]),T[4]=t(f,T[4]),T[5]=t(h,T[5]),T[6]=t(m,T[6]),T[7]=t(g,T[7])}return T}function p(e){for(var t=Array(),n=(1<<h)-1,r=0;r<e.length*h;r+=h)t[r>>5]|=(e.charCodeAt(r/h)&n)<<24-r%32;return t}function d(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}function f(e){for(var t=m?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n}var h=8,m=0;return e=d(e),f(u(p(e),e.length*h))}return e}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:e}}(),function(){var e,t,n=(Package.meteor.Meteor,Package.random.Random),r=(Package.check.check,Package.check.Match,Package.sha.SHA256),o=Package.underscore._;(function(){t=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e,t,n,r,o,a){for(var i=16383&t,s=t>>14;--a>=0;){var c=16383&this[e],l=this[e++]>>14,u=s*c+l*i;c=i*c+((16383&u)<<14)+n[r]+o,o=(c>>28)+(u>>14)+s*l,n[r++]=268435455&c}return o}function r(e){return Zt.charAt(e)}function o(e,t){var n=en[e.charCodeAt(t)];return null==n?-1:n}function a(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function i(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function s(e){var n=t();return n.fromInt(e),n}function c(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(t,n);r=2}this.t=0,this.s=0;for(var a=t.length,i=!1,s=0;--a>=0;){var c=8==r?255&t[a]:o(t,a);0>c?"-"==t.charAt(a)&&(i=!0):(i=!1,0==s?this[this.t++]=c:s+r>this.DB?(this[this.t-1]|=(c&(1<<this.DB-s)-1)<<s,this[this.t++]=c>>this.DB-s):this[this.t-1]|=c<<s,s+=r,s>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&e.ZERO.subTo(this,this)}function l(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function u(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,o=(1<<t)-1,a=!1,i="",s=this.t,c=this.DB-s*this.DB%t;if(s-->0)for(c<this.DB&&(n=this[s]>>c)>0&&(a=!0,i=r(n));s>=0;)t>c?(n=(this[s]&(1<<c)-1)<<t-c,n|=this[--s]>>(c+=this.DB-t)):(n=this[s]>>(c-=t)&o,0>=c&&(c+=this.DB,--s)),n>0&&(a=!0),a&&(i+=r(n));return a?i:"0"}function p(){var n=t();return e.ZERO.subTo(this,n),n}function d(){return this.s<0?this.negate():this}function f(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function h(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)}function g(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function v(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function y(e,t){var n,r=e%this.DB,o=this.DB-r,a=(1<<o)-1,i=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+i+1]=this[n]>>o|s,s=(this[n]&a)<<r;for(n=i-1;n>=0;--n)t[n]=0;t[i]=s,t.t=this.t+i+1,t.s=this.s,t.clamp()}function b(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,o=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var i=n+1;i<this.t;++i)t[i-n-1]|=(this[i]&a)<<o,t[i-n]=this[i]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<o),t.t=this.t-n,t.clamp()}function _(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);o>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function w(t,n){var r=this.abs(),o=t.abs(),a=r.t;for(n.t=a+o.t;--a>=0;)n[a]=0;for(a=0;a<o.t;++a)n[a+r.t]=r.am(0,o[a],n,a,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function T(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function k(n,r,o){var a=n.abs();if(!(a.t<=0)){var i=this.abs();if(i.t<a.t)return null!=r&&r.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=t());var s=t(),c=this.s,l=n.s,u=this.DB-h(a[a.t-1]);u>0?(a.lShiftTo(u,s),i.lShiftTo(u,o)):(a.copyTo(s),i.copyTo(o));var p=s.t,d=s[p-1];if(0!=d){var f=d*(1<<this.F1)+(p>1?s[p-2]>>this.F2:0),m=this.FV/f,g=(1<<this.F1)/f,v=1<<this.F2,y=o.t,b=y-p,_=null==r?t():r;for(s.dlShiftTo(b,_),o.compareTo(_)>=0&&(o[o.t++]=1,o.subTo(_,o)),e.ONE.dlShiftTo(p,_),_.subTo(s,s);s.t<p;)s[s.t++]=0;for(;--b>=0;){var w=o[--y]==d?this.DM:Math.floor(o[y]*m+(o[y-1]+v)*g);if((o[y]+=s.am(0,w,o,b,0,p))<w)for(s.dlShiftTo(b,_),o.subTo(_,o);o[y]<--w;)o.subTo(_,o)}null!=r&&(o.drShiftTo(p,r),c!=l&&e.ZERO.subTo(r,r)),o.t=p,o.clamp(),u>0&&o.rShiftTo(u,o),0>c&&e.ZERO.subTo(o,o)}}}function S(n){var r=t();return this.abs().divRemTo(n,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&n.subTo(r,r),r}function C(e){this.m=e}function L(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function M(e){return e}function E(e){e.divRemTo(this.m,null,e)}function x(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function A(e,t){e.squareTo(t),this.reduce(t)}function P(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function N(n){var r=t();return n.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),n.s<0&&r.compareTo(e.ZERO)>0&&this.m.subTo(r,r),r}function D(e){var n=t();return e.copyTo(n),this.reduce(n),n}function H(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function B(e,t){e.squareTo(t),this.reduce(t)}function R(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function O(){return 0==(this.t>0?1&this[0]:this.s)}function V(n,r){if(n>4294967295||1>n)return e.ONE;var o=t(),a=t(),i=r.convert(this),s=h(n)-1;for(i.copyTo(o);--s>=0;)if(r.sqrTo(o,a),(n&1<<s)>0)r.mulTo(a,i,o);else{var c=o;o=a,a=c}return r.revert(o)}function $(e,t){var n;return n=256>e||t.isEven()?new C(t):new I(t),this.exp(e,n)}function U(){var e=t();return this.copyTo(e),e}function F(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function j(){return 0==this.t?this.s:this[0]<<24>>24}function z(){return 0==this.t?this.s:this[0]<<16>>16}function q(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function W(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Y(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var n=this.chunkSize(e),r=Math.pow(e,n),o=s(r),a=t(),i=t(),c="";for(this.divRemTo(o,a,i);a.signum()>0;)c=(r+i.intValue()).toString(e).substr(1)+c,a.divRemTo(o,a,i);return i.intValue().toString(e)+c}function G(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),a=Math.pow(n,r),i=!1,s=0,c=0,l=0;l<t.length;++l){var u=o(t,l);0>u?"-"==t.charAt(l)&&0==this.signum()&&(i=!0):(c=n*c+u,++s>=r&&(this.dMultiply(a),this.dAddOffset(c,0),s=0,c=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(c,0)),i&&e.ZERO.subTo(this,this)}function J(t,n,r){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),rt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var o=new Array,a=7&t;o.length=(t>>3)+1,n.nextBytes(o),a>0?o[0]&=(1<<a)-1:o[0]=0,this.fromString(o,256)}}function X(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,o=0;if(e-->0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[o++]=n|this.s<<this.DB-r);e>=0;)8>r?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,0>=r&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t}function Q(e){return 0==this.compareTo(e)}function K(e){return this.compareTo(e)<0?this:e}function Z(e){return this.compareTo(e)>0?this:e}function et(e,t,n){var r,o,a=Math.min(e.t,this.t);for(r=0;a>r;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(o=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(o,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function tt(e,t){return e&t}function nt(e){var n=t();return this.bitwiseTo(e,tt,n),n}function rt(e,t){return e|t}function ot(e){var n=t();return this.bitwiseTo(e,rt,n),n}function at(e,t){return e^t}function it(e){var n=t();return this.bitwiseTo(e,at,n),n}function st(e,t){return e&~t}function ct(e){var n=t();return this.bitwiseTo(e,st,n),n}function lt(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function ut(e){var n=t();return 0>e?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function pt(e){var n=t();return 0>e?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function dt(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function ft(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+dt(this[e]);return this.s<0?this.t*this.DB:-1}function ht(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function mt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=ht(this[n]^t);return e}function gt(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function vt(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r}function yt(e){return this.changeBit(e,rt)}function bt(e){return this.changeBit(e,st)}function _t(e){return this.changeBit(e,at)}function wt(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);o>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function Tt(e){var n=t();return this.addTo(e,n),n}function kt(e){var n=t();return this.subTo(e,n),n}function St(e){var n=t();return this.multiplyTo(e,n),n}function Ct(e){var n=t();return this.divRemTo(e,n,null),n}function Lt(e){var n=t();return this.divRemTo(e,null,n),n}function Mt(e){var n=t(),r=t();return this.divRemTo(e,n,r),new Array(n,r)}function Et(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function xt(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function At(){}function Pt(e){return e}function It(e,t,n){e.multiplyTo(t,n)}function Nt(e,t){e.squareTo(t)}function Dt(e){return this.exp(e,new At)}function Ht(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var o;for(o=n.t-this.t;o>r;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(o=Math.min(e.t,t);o>r;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Bt(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function Rt(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function Ot(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n}function Vt(e){return e}function $t(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Ut(e,t){e.squareTo(t),this.reduce(t)}function Ft(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function jt(e,n){var r,o,a=e.bitLength(),i=s(1);if(0>=a)return i;r=18>a?1:48>a?3:144>a?4:768>a?5:6,o=8>a?new C(n):n.isEven()?new Rt(n):new I(n);var c=new Array,l=3,u=r-1,p=(1<<r)-1;if(c[1]=o.convert(this),r>1){var d=t();for(o.sqrTo(c[1],d);p>=l;)c[l]=t(),o.mulTo(d,c[l-2],c[l]),l+=2}var f,m,g=e.t-1,v=!0,y=t();for(a=h(e[g])-1;g>=0;){for(a>=u?f=e[g]>>a-u&p:(f=(e[g]&(1<<a+1)-1)<<u-a,g>0&&(f|=e[g-1]>>this.DB+a-u)),l=r;0==(1&f);)f>>=1,--l;if((a-=l)<0&&(a+=this.DB,--g),v)c[f].copyTo(i),v=!1;else{for(;l>1;)o.sqrTo(i,y),o.sqrTo(y,i),l-=2;l>0?o.sqrTo(i,y):(m=i,i=y,y=m),o.mulTo(y,c[f],i)}for(;g>=0&&0==(e[g]&1<<a);)o.sqrTo(i,y),m=i,i=y,y=m,--a<0&&(a=this.DB-1,--g)}return o.revert(i)}function zt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var o=t.getLowestSetBit(),a=n.getLowestSetBit();if(0>a)return t;for(a>o&&(a=o),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n}function qt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function Wt(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var r=t.clone(),o=this.clone(),a=s(1),i=s(0),c=s(0),l=s(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(a.isEven()&&i.isEven()||(a.addTo(this,a),i.subTo(t,i)),a.rShiftTo(1,a)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);for(;o.isEven();)o.rShiftTo(1,o),n?(c.isEven()&&l.isEven()||(c.addTo(this,c),l.subTo(t,l)),c.rShiftTo(1,c)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);r.compareTo(o)>=0?(r.subTo(o,r),n&&a.subTo(c,a),i.subTo(l,i)):(o.subTo(r,o),n&&c.subTo(a,c),l.subTo(i,l))}return 0!=o.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l}function Yt(e){var t,n=this.abs();if(1==n.t&&n[0]<=tn[tn.length-1]){for(t=0;t<tn.length;++t)if(n[0]==tn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<tn.length;){for(var r=tn[t],o=t+1;o<tn.length&&nn>r;)r*=tn[o++];for(r=n.modInt(r);o>t;)if(r%tn[t++]==0)return!1}return n.millerRabin(e)}function Gt(n){var r=this.subtract(e.ONE),o=r.getLowestSetBit();if(0>=o)return!1;var a=r.shiftRight(o);n=n+1>>1,n>tn.length&&(n=tn.length);for(var i=t(),s=0;n>s;++s){i.fromInt(tn[s]);var c=i.modPow(a,this);if(0!=c.compareTo(e.ONE)&&0!=c.compareTo(r)){for(var l=1;l++<o&&0!=c.compareTo(r);)if(c=c.modPowInt(2,this),0==c.compareTo(e.ONE))return!1;
if(0!=c.compareTo(r))return!1}}return!0}var Jt;e.prototype.am=n,Jt=28,e.prototype.DB=Jt,e.prototype.DM=(1<<Jt)-1,e.prototype.DV=1<<Jt;var Xt=52;e.prototype.FV=Math.pow(2,Xt),e.prototype.F1=Xt-Jt,e.prototype.F2=2*Jt-Xt;var Qt,Kt,Zt="0123456789abcdefghijklmnopqrstuvwxyz",en=new Array;for(Qt="0".charCodeAt(0),Kt=0;9>=Kt;++Kt)en[Qt++]=Kt;for(Qt="a".charCodeAt(0),Kt=10;36>Kt;++Kt)en[Qt++]=Kt;for(Qt="A".charCodeAt(0),Kt=10;36>Kt;++Kt)en[Qt++]=Kt;C.prototype.convert=L,C.prototype.revert=M,C.prototype.reduce=E,C.prototype.mulTo=x,C.prototype.sqrTo=A,I.prototype.convert=N,I.prototype.revert=D,I.prototype.reduce=H,I.prototype.mulTo=R,I.prototype.sqrTo=B,e.prototype.copyTo=a,e.prototype.fromInt=i,e.prototype.fromString=c,e.prototype.clamp=l,e.prototype.dlShiftTo=g,e.prototype.drShiftTo=v,e.prototype.lShiftTo=y,e.prototype.rShiftTo=b,e.prototype.subTo=_,e.prototype.multiplyTo=w,e.prototype.squareTo=T,e.prototype.divRemTo=k,e.prototype.invDigit=P,e.prototype.isEven=O,e.prototype.exp=V,e.prototype.toString=u,e.prototype.negate=p,e.prototype.abs=d,e.prototype.compareTo=f,e.prototype.bitLength=m,e.prototype.mod=S,e.prototype.modPowInt=$,e.ZERO=s(0),e.ONE=s(1),At.prototype.convert=Pt,At.prototype.revert=Pt,At.prototype.mulTo=It,At.prototype.sqrTo=Nt,Rt.prototype.convert=Ot,Rt.prototype.revert=Vt,Rt.prototype.reduce=$t,Rt.prototype.mulTo=Ft,Rt.prototype.sqrTo=Ut;var tn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],nn=(1<<26)/tn[tn.length-1];return e.prototype.chunkSize=q,e.prototype.toRadix=Y,e.prototype.fromRadix=G,e.prototype.fromNumber=J,e.prototype.bitwiseTo=et,e.prototype.changeBit=vt,e.prototype.addTo=wt,e.prototype.dMultiply=Et,e.prototype.dAddOffset=xt,e.prototype.multiplyLowerTo=Ht,e.prototype.multiplyUpperTo=Bt,e.prototype.modInt=qt,e.prototype.millerRabin=Gt,e.prototype.clone=U,e.prototype.intValue=F,e.prototype.byteValue=j,e.prototype.shortValue=z,e.prototype.signum=W,e.prototype.toByteArray=X,e.prototype.equals=Q,e.prototype.min=K,e.prototype.max=Z,e.prototype.and=nt,e.prototype.or=ot,e.prototype.xor=it,e.prototype.andNot=ct,e.prototype.not=lt,e.prototype.shiftLeft=ut,e.prototype.shiftRight=pt,e.prototype.getLowestSetBit=ft,e.prototype.bitCount=mt,e.prototype.testBit=gt,e.prototype.setBit=yt,e.prototype.clearBit=bt,e.prototype.flipBit=_t,e.prototype.add=Tt,e.prototype.subtract=kt,e.prototype.multiply=St,e.prototype.divide=Ct,e.prototype.remainder=Lt,e.prototype.divideAndRemainder=Mt,e.prototype.modPow=jt,e.prototype.modInverse=Wt,e.prototype.pow=Dt,e.prototype.gcd=zt,e.prototype.isProbablePrime=Yt,e}()}).call(this),function(){e={},e.generateVerifier=function(e,r){var o,a=i(r),s=r&&r.salt||n.secret(),c=r&&r.hashedIdentityAndPassword;c||(o=r&&r.identity||n.secret(),c=a.hash(o+":"+e));var l=a.hash(s+c),u=new t(l,16),p=a.g.modPow(u,a.N);return{identity:o,salt:s,verifier:p.toString(16)}},e.matchVerifier={identity:String,salt:String,verifier:String};var a={hash:function(e){return r(e).toLowerCase()},N:new t("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new t("2")};a.k=new t(a.hash(a.N.toString(16)+a.g.toString(16)),16);var i=function(e){if(!e)return a;var n=o.extend({},a);return o.each(["N","g","k"],function(r){if(e[r])if("string"==typeof e[r])n[r]=new t(e[r],16);else{if(!(e[r]instanceof t))throw new Error("Invalid parameter: "+r);n[r]=e[r]}}),e.hash&&(n.hash=function(t){return e.hash(t).toLowerCase()}),!e.k&&(e.N||e.g||e.hash)&&(n.k=n.hash(n.N.toString(16)+n.g.toString(16))),n}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:e}}(),function(){{var e=Package.meteor.Meteor,t=Package["accounts-base"].Accounts,n=(Package.srp.SRP,Package.sha.SHA256),r=Package.check.check,o=(Package.check.Match,Package.underscore._);Package.ddp.DDP}(function(){e.loginWithPassword=function(e,n,r){"string"==typeof e&&(e=-1===e.indexOf("@")?{username:e}:{email:e}),t.callLoginMethod({methodArguments:[{user:e,password:a(n)}],userCallback:function(t){t&&400===t.error&&"old password format"===t.reason?i({upgradeError:t,userSelector:e,plaintextPassword:n},r):t?r&&r(t):r&&r()}})};var a=function(e){return{digest:n(e),algorithm:"sha-256"}},i=function(r,o){var i;try{i=EJSON.parse(r.upgradeError.details)}catch(s){}i&&"srp"===i.format?t.callLoginMethod({methodArguments:[{user:r.userSelector,srp:n(i.identity+":"+r.plaintextPassword),password:a(r.plaintextPassword)}],userCallback:o}):o&&o(new e.Error(400,"Password is old. Please reset your password."))};t.createUser=function(n,r){if(n=o.clone(n),"string"!=typeof n.password)throw new Error("Must set options.password");return n.password?(n.password=a(n.password),void t.callLoginMethod({methodName:"createUser",methodArguments:[n],userCallback:r})):void r(new e.Error(400,"Password may not be empty"))},t.changePassword=function(n,o,s){return e.user()?(r(o,String),o?void t.connection.apply("changePassword",[n?a(n):null,a(o)],function(r,a){r||!a?r&&400===r.error&&"old password format"===r.reason?i({upgradeError:r,userSelector:{id:e.userId()},plaintextPassword:n},function(e){e?s&&s(e):t.changePassword(n,o,s)}):s&&s(r||new Error("No result from changePassword.")):s&&s()}):void s(new e.Error(400,"Password may not be empty"))):void(s&&s(new Error("Must be logged in to change password.")))},t.forgotPassword=function(e,n){if(!e.email)throw new Error("Must pass options.email");t.connection.call("forgotPassword",e,n)},t.resetPassword=function(n,o,i){return r(n,String),r(o,String),o?void t.callLoginMethod({methodName:"resetPassword",methodArguments:[n,a(o)],userCallback:i}):void i(new e.Error(400,"Password may not be empty"))},t.verifyEmail=function(e,n){if(!e)throw new Error("Need to pass token");t.callLoginMethod({methodName:"verifyEmail",methodArguments:[e],userCallback:n})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}(),function(){var e=(Package.meteor.Meteor,Package.jquery.$,Package.jquery.jQuery);(function(){if("undefined"==typeof e)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(e),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new r(this)),"string"==typeof t&&o[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.2.0",r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=r.hasClass("alert")?r:r.parent()),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var o=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=o,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(e),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.button"),a="object"==typeof t&&t;o||r.data("bs.button",o=new n(this,a)),"toggle"==t?o.toggle():t&&o.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,o=r.is("input")?"val":"html",a=r.data();t+="Text",null==a.resetText&&r.data("resetText",r[o]()),r[o](null==a[t]?this.options[t]:a[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()})}(e),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.carousel"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),i="string"==typeof t?t:a.slide;o||r.data("bs.carousel",o=new n(this,a)),"number"==typeof t?o.to(t):i?o[i]():a.interval&&o.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),o=n||r[t](),a=this.interval,i="next"==t?"left":"right",s="next"==t?"first":"last",c=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[s]()}if(o.hasClass("active"))return this.sliding=!1;var l=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:l,direction:i});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(o)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:l,direction:i});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(i),o.addClass(i),r.one("bsTransitionEnd",function(){o.removeClass([t,i].join(" ")).addClass("active"),r.removeClass(["active",i].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var r,o=e(this),a=e(o.attr("data-target")||(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var i=e.extend({},a.data(),o.data()),s=o.attr("data-slide-to");s&&(i.interval=!1),t.call(a,i),s&&a.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(e),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.collapse"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);!o&&a.toggle&&"show"==t&&(t=!t),o||r.data("bs.collapse",o=new n(this,a)),"string"==typeof t&&o[t]()})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.$parent&&this.$parent.find("> .panel > .in");if(r&&r.length){var o=r.data("bs.collapse");if(o&&o.transitioning)return;t.call(r,"hide"),o||r.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return i.call(this);var s=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(350)[a](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var r=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r,o=e(this),a=o.attr("data-target")||n.preventDefault()||(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),i=e(a),s=i.data("bs.collapse"),c=s?"toggle":o.data(),l=o.attr("data-parent"),u=l&&e(l);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+l+'"]').not(o).addClass("collapsed"),o[i.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(i,c)})}(e),+function(e){"use strict";function t(t){t&&3===t.which||(e(o).remove(),e(a).each(function(){var r=n(e(this)),o={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",o))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var o=".dropdown-backdrop",a='[data-toggle="dropdown"]',i=function(t){e(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.2.0",i.prototype.toggle=function(r){var o=e(this);if(!o.is(".disabled, :disabled")){var a=n(o),i=a.hasClass("open");if(t(),!i){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(a.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;o.trigger("focus"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},i.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),i=o.hasClass("open");if(!i||i&&27==t.keyCode)return 27==t.which&&o.find(a).trigger("focus"),r.trigger("click");var s=" li:not(.divider):visible a",c=o.find('[role="menu"]'+s+', [role="listbox"]'+s);if(c.length){var l=c.index(c.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<c.length-1&&l++,~l||(l=0),c.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,i.prototype.toggle).on("keydown.bs.dropdown.data-api",a+', [role="menu"], [role="listbox"]',i.prototype.keydown)}(e),+function(e){"use strict";function t(t,r){return this.each(function(){var o=e(this),a=o.data("bs.modal"),i=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);a||o.data("bs.modal",a=new n(this,i)),"string"==typeof t?a[t](r):i.show&&a.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),o=r.attr("href"),a=e(r.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),i=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},a.data(),r.data());r.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(a,i,this)})}(e),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.tooltip"),a="object"==typeof t&&t;(o||"destroy"!=t)&&(o||r.data("bs.tooltip",o=new n(this,a)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),a=o.length;a--;){var i=o[a];if("click"==i)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=i){var s="hover"==i?"mouseenter":"focusin",c="hover"==i?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,c=s.test(i);c&&(i=i.replace(s,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var l=this.getPosition(),u=o[0].offsetWidth,p=o[0].offsetHeight;if(c){var d=i,f=this.$element.parent(),h=this.getPosition(f);i="bottom"==i&&l.top+l.height+p-h.scroll>h.height?"top":"top"==i&&l.top-h.scroll-p<0?"bottom":"right"==i&&l.right+u>h.width?"left":"left"==i&&l.left-u<h.left?"right":i,o.removeClass(d).addClass(i)}var m=this.getCalculatedOffset(i,l,u,p);this.applyPlacement(m,i);var g=function(){r.$element.trigger("shown.bs."+r.type),r.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),o=r[0].offsetWidth,a=r[0].offsetHeight,i=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(i)&&(i=0),isNaN(s)&&(s=0),t.top=t.top+i,t.left=t.left+s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var c=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=a&&(t.top=t.top+a-l);var u=this.getViewportAdjustedDelta(n,t,c,l);u.left?t.left+=u.left:t.top+=u.top;var p=u.left?2*u.left-o+c:2*u.top-a+l,d=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(o),o.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:r?e(window).width():t.outerWidth(),height:r?e(window).height():t.outerHeight()},r?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,i=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-i.scroll,c=t.top+a-i.scroll+r;s<i.top?o.top=i.top-s:c>i.top+i.height&&(o.top=i.top+i.height-c)}else{var l=t.left-a,u=t.left+a+n;l<i.left?o.left=i.left-l:u>i.width&&(o.left=i.left+i.width-u)}return o},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(e),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.popover"),a="object"==typeof t&&t;(o||"destroy"!=t)&&(o||r.data("bs.popover",o=new n(this,a)),"string"==typeof t&&o[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip
};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(e),+function(e){"use strict";function t(n,r){var o=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),o=r.data("bs.scrollspy"),a="object"==typeof n&&n;o||r.data("bs.scrollspy",o=new t(this,a)),"string"==typeof n&&o[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=e(this),o=r.data("target")||r.attr("href"),a=/^#./.test(o)&&e(o);return a&&a.length&&a.is(":visible")&&[[a[t]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,a=this.targets,i=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return i!=(e=a[a.length-1])&&this.activate(e);if(i&&t<=o[0])return i!=(e=a[0])&&this.activate(e);for(e=o.length;e--;)i!=a[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(e),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.tab");o||r.data("bs.tab",o=new n(this)),"string"==typeof t&&o[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],a=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(a),!a.isDefaultPrevented()){var i=e(r);this.activate(t.closest("li"),n),this.activate(i,i.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},n.prototype.activate=function(t,n,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),i?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var a=n.find("> .active"),i=r&&e.support.transition&&a.hasClass("fade");i?a.one("bsTransitionEnd",o).emulateTransitionEnd(150):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(e),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),o=r.data("bs.affix"),a="object"==typeof t&&t;o||r.data("bs.affix",o=new n(this,a)),"string"==typeof t&&o[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),r=this.$target.scrollTop(),o=this.$element.offset(),a=this.options.offset,i=a.top,s=a.bottom;"object"!=typeof a&&(s=i=a),"function"==typeof i&&(i=a.top(this.$element)),"function"==typeof s&&(s=a.bottom(this.$element));var c=null!=this.unpin&&r+this.unpin<=o.top?!1:null!=s&&o.top+this.$element.height()>=t-s?"bottom":null!=i&&i>=r?"top":!1;if(this.affixed!==c){null!=this.unpin&&this.$element.css("top","");var l="affix"+(c?"-"+c:""),u=e.Event(l+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=c,this.unpin="bottom"==c?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(e.Event(l.replace("affix","affixed"))),"bottom"==c&&this.$element.offset({top:t-this.$element.height()-s}))}}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},r.offsetBottom&&(r.offset.bottom=r.offsetBottom),r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(e)}).call(this),"undefined"==typeof Package&&(Package={}),Package["mizzao:bootstrap-3"]={}}(),function(){Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["npm-bcrypt"]={}}(),function(){var e,t,n=Package.meteor.Meteor,r=(Package.tracker.Tracker,Package.tracker.Deps,Package.retry.Retry),o=(Package.ddp.DDP,Package.mongo.Mongo),a=Package.underscore._;(function(){var i=__meteor_runtime_config__.autoupdateVersion||"unknown",s=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";t=new o.Collection("meteor_autoupdate_clientVersions"),e={},e.newClientAvailable=function(){return!!t.findOne({_id:"version",version:{$ne:i}})||!!t.findOne({_id:"version-refreshable",version:{$ne:s}})};var c=!1,l=new r({minCount:0,baseTimeout:3e4}),u=0;e._retrySubscription=function(){n.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){n._debug("autoupdate subscription failed:",t),u++,l.retryLater(u,function(){e._retrySubscription()})},onReady:function(){if(Package.reload)var e=function(e){if("version-refreshable"===e._id&&e.version!==s){s=e.version;var t=e.assets&&e.assets.allCss||[],o=[];a.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&o.push(e)});var l=function(e,t){var r=a.once(t);if(e.onload=function(){c=!0,r()},!c)var o=n.setInterval(function(){e.sheet&&(r(),n.clearInterval(o))},50)},u=a.after(t.length,function(){a.each(o,function(e){e.parentNode.removeChild(e)})}),p=function(e){document.getElementsByTagName("head").item(0).appendChild(e),l(e,function(){n.setTimeout(u,200)})};0!==t.length?a.each(t,function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("class","__meteor-css__"),t.setAttribute("href",e.url),p(t)}):u()}else"version"===e._id&&e.version!==i&&(r&&r.stop(),Package.reload.Reload._reload())},r=t.find().observe({added:e,changed:e})}})},e._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:e}}(),function(){Package.meteor.Meteor,Package.reload.Reload,Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}(),function(){var e,t=(Package.meteor.Meteor,Package.underscore._);(function(){e={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:e}}(),function(){{var e,t=(Package.meteor.Meteor,Package.underscore._,Package["reactive-dict"].ReactiveDict);Package.ejson.EJSON}(function(){e=new t("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:e}}(),function(){var e,t,e=(Package.meteor.Meteor,Package.ddp.DDP);"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}(),function(){var e,t=(Package.meteor.Meteor,Package.htmljs.HTML),n=Package.blaze.Blaze,r=(Package.blaze.UI,Package.blaze.Handlebars),o=(Package["observe-sequence"].ObserveSequence,Package.templating.Template);(function(){e={};var o=function(e,t){return e===t};e.include=function(e,t,r){if(!e)return null;if("function"!=typeof e){var a=e;if(!n.isTemplate(a))throw new Error("Expected template or null, found: "+a);return e.constructView(t,r)}var i=n.ReactiveVar(null,o),s=n.View("Spacebars.include",function(){var e=i.get();if(null===e)return null;if(!n.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(t,r)});return s.__templateVar=i,s.onViewCreated(function(){this.autorun(function(){i.set(e())})}),s},e.mustacheImpl=function(){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof e.kw){var r={};for(var o in n.hash){var a=n.hash[o];r[o]="function"==typeof a?a():a}t[t.length-1]=e.kw(r)}else n=e.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return e.call.apply(null,t)},e.mustache=function(){var n=e.mustacheImpl.apply(null,arguments);return n instanceof e.SafeString?t.Raw(n.toString()):null==n||n===!1?null:String(n)},e.attrMustache=function(){var n=e.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&t.isValidAttributeName(n)){var r={};return r[n]="",r}throw new Error("Expected valid attribute name, '', null, or object")},e.dataMustache=function(){var t=e.mustacheImpl.apply(null,arguments);return t},e.makeRaw=function(e){return null==e?null:e instanceof t.Raw?e:t.Raw(e)},e.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(arguments.length>1)throw new Error("Can't call non-function: "+e);return e},e.kw=function(t){return this instanceof e.kw?void(this.hash=t||{}):new e.kw(t)},e.SafeString=function(t){return this instanceof e.SafeString?new r.SafeString(t):new e.SafeString(t)},e.SafeString.prototype=r.SafeString.prototype,e.dot=function(t,n){if(arguments.length>2){var r=[];return r.push(e.dot(t,n)),r.push.apply(r,Array.prototype.slice.call(arguments,2)),e.dot.apply(null,r)}if("function"==typeof t&&(t=t()),!t)return t;var o=t[n];return"function"!=typeof o?o:function(){return o.apply(t,arguments)}},e.With=function(e,t,r){var o=new n.ReactiveVar,a=n.View("Spacebars_with",function(){return n.If(function(){return o.get()},function(){return n.With(function(){return o.get()},t)},r)});return a.onViewCreated(function(){this.autorun(function(){o.set(e()),Tracker.onInvalidate(function(){o.dep.changed()})})}),a},e.TemplateWith=n._TemplateWith}).call(this),function(){o.__checkName("__dynamic"),o.__dynamic=new o("Template.__dynamic",function(){var t=this;return[n.View(function(){return e.mustache(t.lookup("checkContext"))}),"\n  ",n.If(function(){return e.call(t.lookup("dataContextPresent"))},function(){return["\n    ",e.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",n._TemplateWith(function(){return{template:e.call(t.lookup("template")),data:e.call(t.lookup(".."))}},function(){return e.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),o.__checkName("__dynamicWithDataContext"),o.__dynamicWithDataContext=new o("Template.__dynamicWithDataContext",function(){var t=this;return e.With(function(){return e.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",n._TemplateWith(function(){return e.call(e.dot(t.lookup(".."),"data"))},function(){return e.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){o.__dynamicWithDataContext.chooseTemplate=function(e){return o[e]||null},o.__dynamic.dataContextPresent=function(){return _.has(this,"data")},o.__dynamic.checkContext=function(){if(!_.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> UI.dynamic}}.");_.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> UI.dynamic}}: "+t)})}}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:e}}(),RouteController=Package["iron:router"].RouteController,Route=Package["iron:router"].Route,Router=Package["iron:router"].Router,IronLocation=Package["iron:router"].IronLocation,Accounts=Package["accounts-base"].Accounts,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,HTML=Package.htmljs.HTML,function(){Template.__checkName("pages"),Template.pages=new Template("Template.pages",function(){return""}),Template.__checkName("pagesPageCont"),Template.pagesPageCont=new Template("Template.pagesPageCont",function(){return""}),Template.__checkName("_pagesLoading"),Template._pagesLoading=new Template("Template._pagesLoading",function(){return HTML.Raw('<div class="pagesLoadingDefaultCont">\n        <div class="pagesLoadingDefault"><img src="/packages/pages/public/loader.gif"></div>\n    </div>')}),Template.__checkName("_pagesPageCont"),Template._pagesPageCont=new Template("Template._pagesPageCont",function(){var e=this;return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("divWrapper"),e.lookup("pagesData"))},function(){return["\n    ",HTML.DIV({"class":function(){return Spacebars.mustache(e.lookup("divWrapper"),e.lookup("pagesData"))}},"\n        ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesPage"))}),"\n    "),"\n    "]},function(){return[Blaze.If(function(){return Spacebars.dataMustache(e.lookup("table"),e.lookup("pagesData"))},function(){return["\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("tableWrapper"),e.lookup("pagesData"))},function(){return["\n    ",HTML.DIV({"class":function(){return Spacebars.mustache(e.lookup("tableWrapper"),e.lookup("pagesData"))}},"\n        ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesTable"))}),"\n    "),"\n    "]},function(){return["\n    ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesTable"))}),"\n    "]}),"\n    "]},function(){return["\n    ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesPage"))}),"\n    "]}),"\n    "]})}),Template.__checkName("_pagesTable"),Template._pagesTable=new Template("Template._pagesTable",function(){var e=this;return HTML.TABLE({"class":function(){return Spacebars.mustache(e.lookup("class"),e.lookup("pagesData"))}},"\n        ",HTML.THEAD("\n        ",HTML.TR("\n            ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("header"),e.lookup("pagesData"))},function(){return["\n            ",HTML.TH(Blaze.View(function(){return Spacebars.mustache(e.lookup("value"))})),"\n            "]}),"\n        "),"\n        "),"\n        ",HTML.TBODY("\n        ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesPage"))}),"\n        "),"\n    ")}),Template.__checkName("_pagesTableItem"),Template._pagesTableItem=new Template("Template._pagesTableItem",function(){var e=this;return HTML.TR("\n        ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("attrs"),e.lookup("pagesData"))},function(){return["\n        ",HTML.TD(Blaze.View(function(){return Spacebars.mustache(e.lookup("value"))})),"\n        "]}),"\n    ")}),Template.__checkName("_pagesPage"),Template._pagesPage=new Template("Template._pagesPage",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("ready"))},function(){return"\n    "},function(){return["\n    ",HTML.Comment("{{> _pagesLoading}}"),"\n    ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("pagesLoadingTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n    "]}),"\n    ",Blaze.Each(function(){return Spacebars.call(e.lookup("items"))},function(){return["\n    ",Spacebars.include(e.lookupTemplate("item")),"\n    "]})]}),Template.__checkName("_pagesNavCont"),Template._pagesNavCont=new Template("Template._pagesNavCont",function(){var e=this;return Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesNav"))})}),Template.__checkName("_pagesNav"),Template._pagesNav=new Template("Template._pagesNav",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("show"))},function(){return["\n    ",HTML.DIV({style:"text-align:center","data-pages":function(){return Spacebars.mustache(e.lookup("name"))},"class":"pagination-cont"},"\n        ",HTML.UL({"class":"pagination"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("paginationNeighbors"))},function(){return["\n            ",HTML.LI({"class":function(){return[Spacebars.mustache(e.lookup("active"))," ",Spacebars.mustache(e.lookup("disabled"))]}},"\n                ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("link"))}},Blaze.View(function(){return Spacebars.mustache(e.lookup("p"))})),"\n            "),"\n            "]}),"\n        "),"\n    "),"\n    "]})}),Template.__checkName("_pagesItemDefault"),Template._pagesItemDefault=new Template("Template._pagesItemDefault",function(){var e=this;return HTML.DIV({"class":"pagesItemDefault"},Blaze.Each(function(){return Spacebars.call(e.lookup("properties"))},function(){return["\n        ",HTML.DIV(HTML.I(Blaze.View(function(){return Spacebars.mustache(e.lookup("name"))})),": ",Blaze.View(function(){return Spacebars.mustache(e.lookup("value"))})),"\n        "]}),"\n    ")})}(),function(){Template.__checkName("BucketPostList"),Template.BucketPostList=new Template("Template.BucketPostList",function(){var e=this;return HTML.DIV({id:"bucketPostListTemplate"},"\n        ",HTML.DIV({"class":"modal-header"},"\n            ",HTML.Raw('<button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>\n                <button type="button" class="btn btn-default icon pull-right marginR20" id="reloadPostButton">\n                    <span class="entypo cycle"></span>\n                </button>\n            </button>'),"\n            ",HTML.Raw('<!--<h4 class="modal-title">Post collection for the bucket.</h4>-->'),"\n                ",HTML.H4({"class":"modal-title",id:"bucketName"},Blaze.View(function(){return Spacebars.mustache(e.lookup("toCapitalize"),Spacebars.dot(e.lookup("."),"f_bucket","f_name"))})),"\n        "),"\n\n        ",HTML.DIV({"class":"modal-body"},"\n            ",HTML.Raw("<!-- Errors Starts -->"),"\n            ",HTML.Raw('<div id="bucketPostList-generic-error">\n            </div>'),"\n\n            ",HTML.Raw('<div class="error-text hidden">\n                <span class="B_1002">You are not the owner of this bucket.</span>\n            </div>'),"\n            ",HTML.Raw("<!-- Errors Ends -->"),"\n\n            ",HTML.Raw('<!--<div id="bucketName">\n                <h2>{{toCapitalize this.f_bucket.f_name}}</h2>\n            </div>-->'),"\n            ",HTML.Raw('<div class="clearfix"></div>'),"\n\n            ",Blaze.View(function(){return Spacebars.mustache(e.lookup("init"),e.lookup("."))}),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("templateStatus"),"ready",!0)},function(){return["\n            ",HTML.DIV({id:"postList"},"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("postExist"))},function(){return["\n                ",HTML.UL({"class":"pull-left"},"\n                    ",Blaze.Each(function(){return Spacebars.call(e.lookup("postList"))},function(){return["\n                    ",HTML.LI({"class":"list-group-item list-group-item"},"\n                        ",HTML.UL({"class":"postDescription",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n                            ",HTML.LI("\n                                ",HTML.BUTTON({type:"button","class":"btn btn-default icon",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},id:"removePostButton"},"\n                                    ",HTML.I({"class":"fa fa-trash-o"}),"\n                                "),"\n                            "),"\n                            ",HTML.LI("\n                                ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_message"))}),"\n                            "),"\n                        "),"\n                    "),"\n                    "]}),"\n                    ",HTML.BUTTON({type:"button",id:"showMorePostButton","class":"btn btn-secondary"},"\n                        ",HTML.I({"class":"fa fa-download"},"Show more"),"\n                    "),"\n                "),"\n\n                ",HTML.Comment(" post list item preview "),"\n                ",HTML.Comment('<div class="posted-message">\n                    <ul>\n                        <li class="list-group-item" style="border: none !important">\n                            <div class="thumbnail red {{this.f_color}}">\n                                <div class="thumbnailContainer">\n                                    <h4>postPreview</h4>\n\n                                    <div class="homeFeedFooter">\n                                        <a class="btn pull-right" role="button" href="{{pathFor \'status.message\' _id=this.f_postId}}" id="showMessageButton" value="{{this._id}}" target="_blank" >\n                                            <span class="entypo level-down"></span>\n                                        </a>\n                                        <div id="timestamp" class="pull-right">\n                                            &lt;!&ndash;{{> Timestamp timestamp=this.f_timestamp}}&ndash;&gt;\n                                        </div>\n                                        <div class="clearfix"></div>\n                                    </div>\n                                    <div class="homeFeedFooter-bg"></div>\n                                </div>\n                            </div>\n                            <div class="clearfix"></div>\n                        </li>\n                    </ul>\n                </div>'),"\n                ",HTML.Comment(" post list item preview "),"\n\n\n                "]},function(){return["\n                ",HTML.DIV({"class":"bs-callout bs-callout-warning"},"\n                    Sorry! No post added to this bucket.\n                "),"\n                "]}),"\n            "),"\n            "]},function(){return["\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("templateStatus"),"loading",!0)},function(){return["\n            ",Spacebars.include(e.lookupTemplate("Loading")),"\n            "]}),"\n            "]}),"\n\n        "),"\n        ",HTML.DIV({"class":"modal-footer"},"\n            ",HTML.Raw('<i class="entypo paper-plane"></i>'),"#",Blaze.View(function(){return Spacebars.mustache(e.lookup("totalPostCount"),Spacebars.dot(e.lookup("."),"_id"))}),"\n            Last update ",Blaze._TemplateWith(function(){return{timestamp:Spacebars.call(e.lookup("lastUpdated"))}},function(){return Spacebars.include(e.lookupTemplate("Timestamp"))})," ago.\n        "),"\n    ")})}(),function(){Template.__checkName("ActiveSessionSettings"),Template.ActiveSessionSettings=new Template("Template.ActiveSessionSettings",function(){var e=this;return HTML.DIV({id:"activeSessionSettingsTemplate"},HTML.Raw('\n        <span>\n            <h4>Logged-in Sessions</h4> <hr>\n        </span>\n\n        <div class="hide" id="sessionData">\n            <h6>\n                    This feature provides the information about any concurrent activity on this account.\n            </h6>\n            <br>\n\n            <div class="pull-right">\n                <button type="submit" class="btn btn-default" id="logoutAllAction">Logout all other session(s)</button>\n            </div>\n\n            <div id="sessionList">\n                <div class="sessionItemTemplate sessionItem">\n                      <span><h5>\n                      </h5></span>\n                </div>\n            </div>\n        </div>\n\n        <div class="hide" id="noSessionData">\n            <h6>This account does not seem to be open in any other location.</h6>\n            <br>\n        </div>\n        '),HTML.DIV({id:"wait"},"\n            ",Spacebars.include(e.lookupTemplate("Loading")),"\n        "),"\n\n\n    ")})}(),function(){Template.__checkName("PasswordSettings"),Template.PasswordSettings=new Template("Template.PasswordSettings",function(){return HTML.Raw('<div id="passwordSettingsTemplate">\n        <span>\n            <h4>Change Password</h4>\n            <hr>\n        </span>\n\n        <!-- Errors Starts -->\n        <div class="alert alert-success" role="alert" id="passwordSettings-generic-success" style="display: none">\n            Your password was successfully changed.\n        </div>\n\n        <div id="passwordSettings-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <span class="PS_101">You can\'t leave this empty.</span>\n            <span class="PS_102">Confirm password does not match with new password.</span>\n            <span class="PS_103">Password should contain atleast one letter and a number.</span>\n            <span class="PS_104">Use at least 8 characters.</span>\n            <span class="L_102">Current password you entered is incorrect. Try again.</span>\n        </div>\n        <!-- Errors Ends -->\n\n        <form class="form-horizontal" role="form" id="changePasswordForm">\n\n            <div class="form-group" id="currentPasswordGroup">\n                <label class="col-sm-3 control-label" for="currentPassword">Current</label>\n\n                <div class="col-sm-9">\n                    <input type="password" class="form-control" id="currentPassword" placeholder="Current password">\n                    <span class="error-text"></span>\n                </div>\n            </div>\n\n            <div class="form-group" id="newPasswordGroup">\n                <label class="col-sm-3 control-label" for="newPassword">New</label>\n\n                <div class="col-sm-9">\n                    <input type="password" class="form-control" id="newPassword" placeholder="New Password">\n                  <span class="help-text hide">\n                           Use at least 8 characters. Your password should contain at least one letter and one number.\n                    </span>\n                    <span class="error-text"></span>\n                </div>\n            </div>\n\n            <div class="form-group" id="confirmNewPasswordGroup">\n                <label class="col-sm-3 control-label" for="confirmNewPassword">Confirm New</label>\n\n                <div class="col-sm-9">\n                    <input type="password" class="form-control" id="confirmNewPassword" placeholder="Confirm New Password">\n                    <span class="error-text"></span>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-offset-3 col-sm-9">\n                    <button type="submit" class="btn btn-primary" id="changePasswordButton">Change Password</button>\n                </div>\n            </div>\n        </form>\n    </div>')})}(),function(){Template.__checkName("SecuritySettings"),Template.SecuritySettings=new Template("Template.SecuritySettings",function(){return HTML.Raw('<div id="securitySettingsTemplate">\n         <span>\n             <h4>Change Security Pin</h4>\n             <hr>\n\n         </span>\n\n        <!-- Errors Starts -->\n        <div class="alert alert-success" role="alert" id="securitySettings-generic-success" style="display: none">\n            Your security pin was successfully changed.\n        </div>\n\n        <div id="securitySettings-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <span class="SS_101">You can\'t leave this empty.</span>\n            <span class="SS_102">Use at least 5 characters.</span>\n            <span class="SS_103">Confirm Security Pin does not match with new Security Pin.</span>\n            <span class="L_102">Current password you entered is incorrect. Try again.</span>\n        </div>\n        <!-- Errors Ends -->\n\n        <form class="form-horizontal" role="form" id="securityPinChangeForm">\n\n            <div class="form-group" id="currentPasswordGroup">\n                <label class="col-sm-3 control-label" for="currentPassword">Curent Password</label>\n\n                <div class="col-sm-9">\n                    <input type="password" class="form-control" id="currentPassword" placeholder="Current password">\n                    <span class="error-text"></span>\n                </div>\n            </div>\n\n            <div class="form-group" id="newPinGroup">\n                <label class="col-sm-3 control-label" for="newPin">New Pin</label>\n\n                <div class="col-sm-9">\n                    <input type="password" class="form-control" id="newPin" placeholder="New Security Pin">\n                  <span class="help-text hide">\n                         Use at least 5 characters.\n                    </span>\n                    <span class="error-text"></span>\n                </div>\n            </div>\n\n            <div class="form-group" id="confirmNewPinGroup">\n                <label class="col-sm-3 control-label" for="confirmNewPin">Confirm New Pin</label>\n\n                <div class="col-sm-9">\n                    <input type="password" class="form-control" id="confirmNewPin" placeholder="Confirm New Security Pin">\n                    <span class="error-text"></span>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <div class="col-sm-offset-3 col-sm-9">\n                    <button type="submit" class="btn btn-primary" id="changePinButton">Change Security Pin</button>\n                </div>\n            </div>\n        </form>\n    </div>')})}(),function(){Template.__checkName("Settings"),Template.Settings=new Template("Template.Settings",function(){var e=this;
return HTML.DIV({id:"settingsTemplate"},HTML.Raw('\n        <div id="options-panel" class="pull-left">\n            <ul class="nav nav-pills nav-stacked">\n                <li id="password-li" class="active"><a href="#" id="passwordOption">Password</a></li>\n                <li id="security-li"><a href="#" id="securityOption">Security</a></li>\n                <li id="activeSession-li"><a href="#" id="activeSessionOption">Sessions</a></li>\n            </ul>\n\n        </div>\n        '),HTML.DIV({id:"settings-container-panel","class":"pull-left"},"\n            ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("templateName"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n    '))})}(),function(){Template.__checkName("AddUpdateBucket"),Template.AddUpdateBucket=new Template("Template.AddUpdateBucket",function(){var e=this;return HTML.DIV({id:"addUpdateBucketTemplate"},HTML.Raw('\n\n        <!-- Errors Starts -->\n        <div id="addUpdateBucket-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <span class="B_101 B_104">You can\'t leave this empty.</span>\n            <span class="B_102">Bucket name can\'t be more than 50 characters.</span>\n            <span class="B_103">Name should only contain letters or numbers.</span>\n            <!--<span class="B_104">Bucket description cannot be empty</span>-->\n            <span class="B_105">Description can\'t be more than 150 characters.</span>\n            <span class="B_1004">Your bucket was successfully saved. However it is under review. We will update you once this is done.</span>\n        </div>\n        <!-- Errors Ends -->\n\n        '),HTML.FORM({"class":"form-horizontal",role:"form",name:"addBucketForm",id:"addBucketForm"},"\n            ",HTML.DIV({"class":"bucketName pull-left"},"\n                ",HTML.FIELDSET("\n                    ",HTML.Raw("<legend>Bucket details</legend>"),"\n                    ",HTML.Raw('<div class="form-group" id="bucketNameGroup">\n                        <input type="text" class="form-control" id="bucketName" name="bucketName" placeholder="Bucket Name" maxlength="50">\n                        <span class="error-text"></span>\n                        <span class="help-text hide">\n                            Use maximum 50 characters. You can only use letters, numbers and ! , * &amp; - special character.\n                        </span>\n                    </div>'),"\n                    ",HTML.DIV({"class":"form-group",id:"bucketDescGroup"},"\n                        ",HTML.TEXTAREA({type:"text","class":"form-control",id:"bucketDesc",name:"bucketDesc",maxlength:"150",placeholder:"This bucket is about ..."}),"\n                        ",HTML.Raw('<span class="error-text"></span>'),"\n                        ",HTML.Raw('<span class="help-text hide">\n                            Use maximum 150 characters.\n                        </span>'),"\n                    "),"\n                "),"\n            "),"\n\n            ",HTML.Raw('<div class="groupSeparator">\n                <p></p>\n            </div>'),"\n\n            ",HTML.Raw('<div class="advancedSetting pull-right">\n                <fieldset>\n                    <legend>Bucket settings</legend>\n                    <div class="options-bar" id="access">\n                        <span class="col-sm-2 ">Is Bucket Public?</span>\n                            <i class="fa fa-check" id="yes_public"></i>\n                            <i class="fa fa-times inactive" id="no_public"></i>\n                        <span class="error-text"></span>\n                        <span class="help-text">\n                            This option controls the access of this bucket to other users. If a bucket is public, everyone can see the contents of the bucket, else the bucket visible only to you.\n                        </span>\n                    </div>\n\n                    <div class="options-bar" id="editableByPublic">\n\n                        <span class="col-sm-2 ">Allow others to add post?</span>\n                            <i class="fa fa-check" id="yes_editable"></i>\n                            <i class="fa fa-times inactive" id="no_editable"></i>\n                        <span class="error-text"></span>\n                        <span class="help-text">\n                            This option controls who can adds content to this public bucket. If selected, all the users who follow this bucket can add posts to the bucket. In either case, you can monitor and delete content to the bucket.\n                        </span>\n                    </div>\n                </fieldset>\n            </div>'),"\n            ",HTML.Raw('<div class="clearfix"></div>'),"\n\n            ",HTML.INPUT({type:"text","class":"form-control hidden",id:"bucketId",name:"bucketId",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"id"))}}),"\n            ",HTML.Raw('<input type="text" class="form-control hidden" id="action" name="action" value="">'),"\n\n            ",HTML.Raw('<div class="form-group" id="actionButtons">\n                    <button type="submit" class="btn btn-primary pull-right" id="addAction">Add Bucket</button>\n            </div>'),"\n\n        "),"\n    ")})}(),function(){Template.__checkName("DeleteBucket"),Template.DeleteBucket=new Template("Template.DeleteBucket",function(){return HTML.Raw('<div id="deleteBucketTemplate">\n        <!-- Modal -->\n        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="Delete Bucket" aria-hidden="true">\n            <div class="modal-dialog modal-sm">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n                        <h4 class="modal-title">Bucket Delete Confirmation!</h4>\n                    </div>\n                    <div class="modal-body">\n                        <!-- Errors Starts -->\n                        <div id="deleteBucket-generic-error">\n                        </div>\n\n                        <div class="error-text hidden">\n                            <span class=""></span>\n                        </div>\n                        <!-- Errors Ends -->\n\n                        <h5>Are you sure you want to delete this bucket <b><span id="bucketName"></span></b>?</h5>\n                        <input class="hidden" id="bucketId">\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                        <button type="button" class="btn btn-primary" id="deleteButton">Delete</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>')})}(),function(){Template.__checkName("UpdateBucketMeta"),Template.UpdateBucketMeta=new Template("Template.UpdateBucketMeta",function(){var e=this;return HTML.DIV({id:"updateBucketMetaTemplate"},HTML.Raw('\n        <!-- Errors Starts -->\n        <div class="error-text hidden">\n            <span class="UB_101">No changes!</span>\n            <span class="B_1004">Your bucket was successfully updated, however is currently under manual review. We will update you once our manual is done.</span>\n        </div>\n        <!-- Modal -->\n        '),HTML.DIV({"class":"modal fade",id:"editModal",tabindex:"-1",role:"dialog","aria-labelledby":"editBucket","aria-hidden":"true"},"\n            ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n                ",HTML.DIV({"class":"modal-content"},"\n                    ",HTML.Raw('<div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n                        <h4 class="modal-title" id="myModalLabel">Edit Bucket</h4>\n                    </div>'),"\n                    ",HTML.DIV({"class":"modal-body",id:"editBody"},"\n                        ",HTML.Raw('<!--<div id="updateBucket-generic-error">\n                        </div>-->'),"\n                        ",HTML.Raw("<!-- Errors Ends -->"),"\n                        ",Blaze._TemplateWith(function(){return{templateType:Spacebars.call("update")}},function(){return Spacebars.include(e.lookupTemplate("AddUpdateBucket"))}),"\n\n                    "),"\n                    ",HTML.Raw('<div class="clearfix"></div>'),"\n                    ",HTML.Raw('<div class="modal-footer">\n                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>\n                        <button type="button" class="btn btn-primary" id="saveAction">Save</button>\n                    </div>'),"\n                "),"\n            "),"\n        "),"\n    ")})}(),function(){Template.__checkName("UserBucket"),Template.UserBucket=new Template("Template.UserBucket",function(){var e=this;return HTML.DIV({id:"userBucketTemplate"},"\n        ",Spacebars.include(e.lookupTemplate("AddUpdateBucket")),"\n        ",Blaze._TemplateWith(function(){return{style:Spacebars.call("book")}},function(){return Spacebars.include(e.lookupTemplate("UserBucketList"))}),"\n    ")})}(),function(){Template.__checkName("UserBucketList"),Template.UserBucketList=new Template("Template.UserBucketList",function(){var e=this;return HTML.DIV({"class":"updateBucketListContainer"},HTML.Raw('\n        <div>\n            <ul class="nav nav-tabs">\n                <li class="active"><a href="#created" data-toggle="tab">Created</a></li>\n                <li><a href="#following" data-toggle="tab">Following</a></li>\n            </ul>\n            <button type="button" class="btn btn-default" id="refreshButton">\n                <span class="entypo cycle"></span>\n            </button>\n        </div>\n\n        '),HTML.DIV({"class":"container",id:"userBucketListTemplate"},"\n            ",HTML.Raw("<!-- Errors Starts -->"),"\n            ",HTML.Raw('<div id="userBucketList-generic-error">\n            </div>'),"\n\n            ",HTML.Raw('<div class="error-text hidden">\n                <span class="UBL_101 BUF_101">Some technical error occurred.</span>\n\n                <!-- Unfollow -->\n                <!--<span class="BUF_101">Technical error occurred, while attempting to unfollow the bucket.</span>-->\n\n            </div>'),"\n            ",HTML.Raw("<!-- Errors Ends -->"),"\n\n            ",HTML.DIV({"class":"hide",id:"userBucketList"},"\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"style"),"book",!0)},function(){return["\n                ",HTML.Comment(" Tab panes "),"\n                ",HTML.DIV({"class":"tab-content"},"\n                    ",HTML.DIV({"class":"tab-pane fade in active",id:"created"},"\n                        ",HTML.DIV("\n                            ",HTML.H3("\n                                ",HTML.SMALL("Buckets created by you."),"\n                            "),"\n                        "),"\n                        ",Blaze._TemplateWith(function(){return{bucketList:Spacebars.call(e.lookup("getCreateBucketList")),bucketType:Spacebars.call("created")}},function(){return Spacebars.include(e.lookupTemplate("_PrintBucket"))}),"\n                    "),"\n\n                    ",HTML.DIV({"class":"tab-pane fade",id:"following"},"\n                        ",HTML.DIV("\n                            ",HTML.H3("\n                                ",HTML.SMALL("Buckets you are following."),"\n                            "),"\n                        "),"\n                        ",Blaze._TemplateWith(function(){return{bucketList:Spacebars.call(e.lookup("getFollowedBucketList")),bucketType:Spacebars.call("followed")}},function(){return Spacebars.include(e.lookupTemplate("_PrintBucket"))}),"\n                    "),"\n                "),"\n\n                ",Spacebars.include(e.lookupTemplate("UpdateBucketMeta")),"\n                ",Spacebars.include(e.lookupTemplate("DeleteBucket")),"\n                "]}),"\n            "),"\n            ",HTML.DIV({"class":"",id:"userBucketListWaiting"},"\n                ",Spacebars.include(e.lookupTemplate("Loading")),"\n            "),"\n        "),"\n\n        ",HTML.DIV({"class":"modal fade",id:"postListModal",tabindex:"-1",role:"dialog","aria-labelledby":"postListLabel","aria-hidden":"true"},"\n            ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n                ",HTML.DIV({"class":"modal-content"},"\n                    ",Spacebars.With(function(){return Spacebars.call(e.lookup("templateData"))},function(){return["\n                        ",Blaze._TemplateWith(function(){return{template:Spacebars.call(Spacebars.dot(e.lookup("."),"template")),data:Spacebars.call(Spacebars.dot(e.lookup("."),"dataContext"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n                    "]}),"\n                "),"\n            "),"\n        "),"\n    ")}),Template.__checkName("_PrintBucket"),Template._PrintBucket=new Template("Template._PrintBucket",function(){var e=this;return Blaze.Each(function(){return Spacebars.call(e.lookup("bucketList"))},function(){return["\n    ",HTML.DIV({"class":"alterColor",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n\n        ",HTML.DIV({"class":"hide options"},"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup(".."),"bucketType"),"created",!0)},function(){return["\n        ",HTML.UL("\n            ",HTML.LI({"class":"postList"},"\n                ",HTML.BUTTON({type:"button","class":"entypo list",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},id:"postListBucketButton"}),"\n            "),"\n            ",HTML.LI({"class":""},"\n                ",HTML.BUTTON({type:"button","class":"entypo cog",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},id:"editBucketButton"}),"\n            "),"\n            ",HTML.LI({"class":""},"\n                ",HTML.BUTTON({type:"button","class":"entypo trash",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},id:"deleteBucketButton"}),"\n            "),"\n            ",HTML.LI({"class":""},"\n                ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket.insight")},target:"_blank",style:"color: #fff;"},HTML.BUTTON({type:"button","class":"entypo level-down"})),"\n            "),"\n        "),"\n        "]}),"\n        "),"\n\n        ",HTML.DIV({"class":"col-md-4 user_bucket_list"},"\n            ",HTML.DIV({"class":"book"},"\n                ",HTML.DIV({"class":"book_name"},"\n                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup(".."),"bucketType"),"followed",!0)},function(){return["\n                        ",HTML.DIV({"class":"control pull-right"},"\n                            ",HTML.Comment('<button type="submit" class="btn btn-secondary ">Follow</button>'),"\n                            ",HTML.Comment('<li class="">'),"\n                                ",HTML.BUTTON({type:"submit","class":"btn btn-secondary ",id:"unFollowButton",bucket:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n                                    UnFollow\n                                "),"\n                            ",HTML.Comment("</li>"),"\n                        "),"\n                    "]}),"\n                    ",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("toCapitalize"),Spacebars.dot(e.lookup("."),"f_bucket","f_name"))})),"\n                "),"\n\n                ",HTML.DIV({"class":"book_details"},"\n                    ",HTML.SPAN({"class":"details"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_bucket","f_desc"))})),"\n\n                "),"\n            "),"\n        "),"\n\n        ",HTML.DIV({"class":"footer"},"\n            ",HTML.UL("\n                ",HTML.LI({"class":"followCount"},"\n                    ",HTML.I({"class":"entypo users"}),"\n                    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"f_followCount"))},function(){return["\n                        ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_followCount"))}),"\n                    "]},function(){return"\n                    0\n                    "}),"\n                "),"\n                ",HTML.LI({"class":"postcount"},"\n                    ",HTML.I({"class":"entypo paper-plane"})," ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_postListCount"))}),"\n                "),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_bucket","f_access"),"PRIVATE",!0)},function(){return["\n                ",HTML.LI(HTML.SPAN({"class":"entypo lock",id:"isPrivate"})),"\n                "]}),"\n\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_bucket","f_access"),"PUBLIC",!0)},function(){return["\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_bucket","f_isEditable"),!1)},function(){return["\n                ",HTML.LI(HTML.I({"class":"entypo cross",style:"font-size: 3em;"})),"\n                "]}),"\n                "]}),"\n\n                ",HTML.LI({"class":"timestamp pull-right"},Blaze._TemplateWith(function(){return{timestamp:Spacebars.call(Spacebars.dot(e.lookup("."),"f_timestamp"))}},function(){return Spacebars.include(e.lookupTemplate("Timestamp"))})),"\n\n            "),"\n        "),"\n\n\n\n        ",HTML.Comment('{{#if eq ../bucketType \'followed\' true}}\n            <li class="">\n                <button type="submit" class="btn btn-default " id="unFollowButton" bucket="{{this._id}}">\n                    UnFollow\n                </button>\n            </li>\n        {{/if}}'),"\n\n    "),"\n    "]},function(){return["\n    ",HTML.DIV({"class":"bs-callout bs-callout-danger"},"\n        ",HTML.H4("No buckets present"),"\n        ",HTML.P("\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("bucketType"),"created",!0)},function(){return"\n            Please create a bucket.\n            "},function(){return["\n            Follow a bucket ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket")}},"click here"),".\n            "]}),"\n        "),"\n    "),"\n    "]})})}(),function(){Template.__checkName("_FalseReportAbuseTemplate"),Template._FalseReportAbuseTemplate=new Template("Template._FalseReportAbuseTemplate",function(){var e=this;return[HTML.Raw('<div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">\n            <span aria-hidden="true">×</span><span class="sr-only">Close</span>\n        </button>\n        <h4 class="modal-title" id="subject">Attention, you falsely reported abuse</h4>\n    </div>\n    '),HTML.DIV({"class":"modal-body"},"\n        ",HTML.Raw('<div class="bs-callout bs-callout-info">\n            <!--<h4>Why you recieved this inbox</h4>-->\n            <p>It seems that a particular post by you was falsely reported as abuse according to our manual review committee\'s decision.</p>\n            <p>Please ensure that when you Report Abuse the issue is taken very seriously and you should not misuse this facility.</p>\n        </div>'),"\n\n        ",HTML.Raw("<hr>"),"\n\n        ",HTML.Raw("<h4>The manual review committee has ruled that the following post is moderately in consideration of the LetsLeak standards.</h4>"),"\n        ",HTML.P(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","postMessage"))})),"\n\n        ",HTML.Raw("<hr>"),"\n        ",HTML.P("\n        ",HTML.H5("\n            ",HTML.SMALL("\n                This is an auto-generated message. If you have any concerns please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n            "),"\n        "),"\n        "),"\n    "),HTML.Raw('\n    <div class="clearfix"></div>')]})}(),function(){Template.__checkName("_FilterBucketReviewed"),Template._FilterBucketReviewed=new Template("Template._FilterBucketReviewed",function(){var e=this;return HTML.DIV({"class":"inbox-message-cotainer"},"\n        ",HTML.DIV({"class":"modal-body"},"\n            ",HTML.Raw('<div class="bs-callout bs-callout-info">\n                <h4 class="modal-title" id="inbox-subject">Your bucket review</h4>\n            </div>'),"\n            ",HTML.DIV({"class":"inbox-content width100"},"\n                ",HTML.P("It came to our attention that one of your boucke did not follow LetsLeak ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and was not upto the LetsLeak community standards.\n                "),"\n\n                ",HTML.P("\n                    This is to update and inform you that the\n                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_paramObj","f_action"),"VALID")},function(){return["\n                    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket.insight",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"f_paramObj","f_bucketId")}))},target:"_blank"},"bucket"),"\n                    has\n                    been marked as ",HTML.B("APPROPRIATE"),".\n                    "]},function(){return["\n                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_paramObj","f_bucketAction"),"UPDATE")},function(){return["\n                        ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket.insight",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"f_paramObj","f_bucketId")}))},target:"_blank"},"bucket")," update\n                        "]},function(){return"\n                        bucket\n                        "}),"\n                         has been marked as ",HTML.B("NOT APPROPRIATE")," beacuse ",Blaze.View(function(){return Spacebars.mustache(e.lookup("toLowerCase"),Spacebars.dot(e.lookup("."),"f_paramObj","f_filter_reason"))}),"\n                    "]}),"\n\n                "),"\n\n                ",HTML.P("\n                    ",HTML.Raw('<span class="entypo bucket">\n                    </span>'),"\n                    ",HTML.B("\n                        ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","f_bucket","f_name"))}),"\n                    "),HTML.Raw("<br>"),"\n                    ",HTML.SPAN({style:"margin-left: 36px"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","f_bucket","f_desc"))})),"\n                "),"\n            "),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n        '),HTML.DIV({"class":"modal-footer"},"\n            ",HTML.SPAN({"class":"pull-left"},HTML.H5("\n                ",HTML.SMALL("This is an auto-generated message. If you have any concerns please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," or ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n                "),"\n            ")),"\n\n            ",HTML.Raw('<button type="button" class="btn btn-primary pull-right" data-dismiss="modal">Close</button>'),"\n        "),"\n    ")})}(),function(){Template.__checkName("_FilterCommentReviewed"),Template._FilterCommentReviewed=new Template("Template._FilterCommentReviewed",function(){var e=this;return HTML.DIV({"class":"inbox-message-cotainer"},"\n        ",HTML.DIV({"class":"modal-body"},"\n            ",HTML.Raw('<div class="bs-callout bs-callout-info">\n                <h4 class="modal-title" id="inbox-subject">Your comment review</h4>\n            </div>'),"\n            ",HTML.DIV({"class":"inbox-content width100"},"\n                ",HTML.P("It came to our attention that one of your comment did not follow LetsLeak ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and was not upto the LetsLeak community standards.\n                "),"\n\n                ",HTML.P("\n                    This is to update and inform you that the comment has been marked as\n\n                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_paramObj","f_action"),"VALID")},function(){return["\n                        ",HTML.B("APPROPRIATE."),"\n                    "]},function(){return["\n                        ",HTML.B("NOT APPROPRIATE")," beacuse ",Blaze.View(function(){return Spacebars.mustache(e.lookup("toLowerCase"),Spacebars.dot(e.lookup("."),"f_paramObj","f_filter_reason"))}),"\n                    "]}),"\n                "),"\n\n                ",HTML.P("\n                    ",HTML.Raw('<span class="fa fa-quote-left">\n                    </span>'),"\n\n                    ",HTML.DIV({style:"margin-left: 3%"},"\n                        ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","f_comment"))}),", ",Blaze._TemplateWith(function(){return{timestamp:Spacebars.call(Spacebars.dot(e.lookup("."),"f_paramObj","f_timestamp"))}},function(){return Spacebars.include(e.lookupTemplate("Timestamp"))}),"\n                        ",HTML.P("\n                            ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"f_postId")}))},target:"_blank"},"Post")," on which the\n                            comment was recorded.\n                        "),"\n                    "),"\n                "),"\n            "),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n        '),HTML.DIV({"class":"modal-footer"},"\n            ",HTML.SPAN({"class":"pull-left"},HTML.H5("\n                ",HTML.SMALL("This is an auto-generated message. If you have any concerns please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," or ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n                "),"\n            ")),"\n            ",HTML.Raw('<button type="button" class="btn btn-primary pull-right" data-dismiss="modal">Close</button>'),"\n        "),"\n    ")})}(),function(){Template.__checkName("_FilterStatusReviewed"),Template._FilterStatusReviewed=new Template("Template._FilterStatusReviewed",function(){var e=this;return HTML.DIV({"class":"inbox-message-cotainer"},"\n        ",HTML.DIV({"class":"modal-body"},"\n            ",HTML.Raw('<div class="bs-callout bs-callout-info">\n                <h4 class="modal-title" id="inbox-subject">Your post review</h4>\n            </div>'),"\n            ",HTML.DIV({"class":"inbox-content"},"\n                ",HTML.P("It came to our attention that one of your posts did not follow LetsLeak ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and was not upto the LetsLeak community standards.\n                "),"\n                ",HTML.P("\n                    This is to update and inform you that the post has been marked as\n                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_paramObj","f_action"),"VALID")},function(){return["\n                        ",HTML.B("APPROPRIATE"),"\n                    "]},function(){return["\n                        ",HTML.B("NOT APPROPRIATE")," beacuse ",Blaze.View(function(){return Spacebars.mustache(e.lookup("toLowerCase"),Spacebars.dot(e.lookup("."),"f_paramObj","f_filter_reason"))}),"\n                    "]}),"\n                "),"\n            "),"\n            ",HTML.DIV({"class":"inbox-post-message"},"\n                ",HTML.DIV({"class":"message"},"\n                    ",HTML.UL("\n                        ",HTML.LI({"class":"list-group-item"},"\n                            ",HTML.DIV({"class":function(){return["thumbnail ",Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","f_color"))]}},"\n                                ",HTML.DIV({"class":"thumbnailContainer"},"\n                                    ",HTML.H4(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","f_message"))})),"\n\n                                    ",HTML.DIV({"class":"homeFeedFooter"},"\n                                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_paramObj","f_action"),"VALID")},function(){return["\n                                        ",HTML.A({"class":"btn pull-right",role:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"f_postId")}))},id:"showMessageButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},target:"_blank"},"\n                                            ",HTML.SPAN({"class":"entypo level-down"}),"\n                                        "),"\n                                        "]}),"\n\n                                        ",HTML.Raw('<div id="timestamp" class="pull-right">\n                                            <!--{{> Timestamp timestamp=this.f_paramObj.f_timestamp}}-->\n                                        </div>'),"\n                                        ",HTML.Raw('<div class="clearfix"></div>'),"\n                                    "),"\n                                    ",HTML.Raw('<div class="homeFeedFooter-bg"></div>'),"\n                                "),"\n                            "),"\n                        "),"\n                    "),"\n                "),"\n            "),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n        '),HTML.DIV({"class":"modal-footer"},"\n            ",HTML.SPAN({"class":"pull-left"},HTML.H5("\n                ",HTML.SMALL("This is an auto-generated message. If you have any concerns please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," or ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n                "),"\n            ")),"\n            ",HTML.Raw('<button type="button" class="btn btn-primary pull-right" data-dismiss="modal">Close</button>'),"\n        "),"\n    ")
})}(),function(){Template.__checkName("_PostUnderReviewTemplate"),Template._PostUnderReviewTemplate=new Template("Template._PostUnderReviewTemplate",function(){var e=this;return HTML.DIV({"class":"inbox-message-cotainer"},"\n        ",HTML.DIV({"class":"modal-body"},"\n            ",HTML.Raw('<div class="bs-callout bs-callout-info">\n                <h4 class="modal-title" id="inbox-subject">Your post is currently under review</h4>\n            </div>'),"\n            ",HTML.DIV({"class":"inbox-content"},"\n                ",HTML.P("It seems that a particular post by you does not follow LetsLeak ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and is not upto the LetsLeak community standards. Please\n                    ensure that what you post does not harm anyone in any way."),"\n\n                ",HTML.P("Your post was reported by more than ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","raCount"))})," users and hence, now it is under our manual review process. We will get back to you with the final decisions of our committee."),"\n            "),"\n            ",HTML.DIV({"class":"inbox-post-message"},"\n                ",HTML.DIV({"class":"message"},"\n                    ",HTML.UL("\n                        ",HTML.LI({"class":"list-group-item"},"\n                            ",HTML.DIV({"class":function(){return["thumbnail ",Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","color"))]}},"\n                                ",HTML.DIV({"class":"thumbnailContainer"},"\n                                    ",HTML.H4(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","postMessage"))})),"\n\n                                    ",HTML.Raw('<div class="homeFeedFooter">\n                                        <!--<a class="btn pull-right" role="button" href="{{pathFor \'status.message\' _id=this.f_postId}}" id="showMessageButton" value="{{this._id}}" target="_blank" >\n                                            <span class="entypo level-down"></span>\n                                        </a>-->\n                                        <div id="timestamp" class="pull-right">\n                                            <!--{{> Timestamp timestamp=this.f_timestamp}}-->\n                                        </div>\n                                        <div class="clearfix"></div>\n                                    </div>'),"\n                                    ",HTML.Raw('<div class="homeFeedFooter-bg"></div>'),"\n                                "),"\n                            "),"\n                        "),"\n                    "),"\n                "),"\n            "),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n        '),HTML.DIV({"class":"modal-footer"},"\n            ",HTML.SPAN({"class":"pull-left"},HTML.H5("\n                ",HTML.SMALL("This is an auto-generated message. Until our committee reaches a final decision, you post will not be visible on LetsLeak. If you have any concerns please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n                "),"\n            ")),"\n            ",HTML.Raw('<button type="button" class="btn btn-primary pull-right" data-dismiss="modal">Close</button>'),"\n        "),"\n    ")})}(),function(){Template.__checkName("_ReviewYourPostTemplate"),Template._ReviewYourPostTemplate=new Template("Template._ReviewYourPostTemplate",function(){var e=this;return HTML.DIV({"class":"inbox-message-cotainer"},HTML.Raw('\n        <!--<div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal">\n                <span aria-hidden="true">×</span><span class="sr-only">Close</span>\n            </button>\n            <h4 class="modal-title" id="subject">Attention, please review your post</h4>\n        </div>-->\n        '),HTML.DIV({"class":"modal-body"},"\n            ",HTML.Raw('<div class="bs-callout bs-callout-info">\n                <h4 class="modal-title" id="inbox-subject">Attention, please review your post</h4>\n            </div>'),"\n            ",HTML.DIV({"class":"inbox-content"},"\n                ",HTML.P("It seems that a particular post by you does not follow LetsLeak ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and is not upto the LetsLeak community standards. Please\n                    ensure that what you post does not harm anyone in any way."),"\n\n                ",HTML.P("We request you to revisit and review the following post as ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","raCount"))})," users have\n                    reported abuse."),"\n            "),"\n            ",HTML.DIV({"class":"inbox-post-message"},"\n                ",HTML.DIV({"class":"message"},"\n                    ",HTML.UL("\n                        ",HTML.LI({"class":"list-group-item"},"\n                            ",HTML.DIV({"class":function(){return["thumbnail ",Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","color"))]}},"\n                                ",HTML.DIV({"class":"thumbnailContainer"},"\n                                    ",HTML.H4(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_paramObj","postMessage"))})),"\n\n                                    ",HTML.DIV({"class":"homeFeedFooter"},"\n                                        ",HTML.A({"class":"btn pull-right",role:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("."),"f_postId")}))},id:"showMessageButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},target:"_blank"},"\n                                            ",HTML.Raw('<span class="entypo level-down"></span>'),"\n                                        "),"\n                                        ",HTML.Raw('<div id="timestamp" class="pull-right">\n                                            <!--{{> Timestamp timestamp=this.f_timestamp}}-->\n                                        </div>'),"\n                                        ",HTML.Raw('<div class="clearfix"></div>'),"\n                                    "),"\n                                    ",HTML.Raw('<div class="homeFeedFooter-bg"></div>'),"\n                                "),"\n                            "),"\n                        "),"\n                    "),"\n                "),"\n            "),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n        '),HTML.DIV({"class":"modal-footer"},"\n            ",HTML.SPAN({"class":"pull-left"},HTML.H5("\n                ",HTML.SMALL("This is an auto-generated message. In case you feel your post is upto the standards please ignore\n                    this, as once it enters into our review center we will manually check the reports and will update\n                    you about our decision. If you have any concerns please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n                "),"\n            ")),"\n\n            ",HTML.Raw('<button type="button" class="btn btn-primary pull-right" data-dismiss="modal">Close</button>'),"\n        "),"\n    ")})}(),function(){Template.__checkName("_Welcome"),Template._Welcome=new Template("Template._Welcome",function(){var e=this;return HTML.DIV({"class":"inbox-message-cotainer"},"\n        ",HTML.DIV({"class":"modal-body"},"\n            ",HTML.Raw('<div class="bs-callout bs-callout-info">\n                <h4 class="modal-title" id="inbox-subject">Welcome</h4>\n            </div>'),"\n            ",HTML.DIV({"class":"inbox-content width100"},"\n                ",HTML.Raw('<p>how-<span style="color:#198ad1;">d\'ye-do!</span></p>'),"\n                ",HTML.Raw("<p>\n                    We welcome you to LetsLeak and hope that you will have a great time here!\n                </p>"),"\n                ",HTML.P("\n                   We strongly recommend you to visit our  ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and ",Blaze._TemplateWith(function(){return{key:Spacebars.call("FAQ"),message:Spacebars.call("FAQs"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," to be a responsible member of our community.\n                   Also please go through our ",HTML.Raw('<a href="#" id="productTour">product tour</a>'),".\n                "),"\n                ",HTML.Raw("<p>\n                    Cheers!<br>\n                    Team LetsLeak\n                </p>"),"\n            "),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n        '),HTML.DIV({"class":"modal-footer"},"\n            ",HTML.SPAN({"class":"pull-left"},HTML.H5("\n                ",HTML.SMALL("This is an auto-generated message. If you have any concerns please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n                "),"\n            ")),"\n\n            ",HTML.Raw('<button type="button" class="btn btn-primary pull-right" data-dismiss="modal">Close</button>'),"\n        "),"\n    ")})}(),function(){Template.__checkName("DeleteStatus"),Template.DeleteStatus=new Template("Template.DeleteStatus",function(){var e=this;return HTML.DIV({id:"deleteStatusTemplate"},HTML.Raw("\n        <!-- Modal -->\n        "),HTML.DIV({"class":"modal fade",id:"deleteStatusModal",tabindex:"-1",role:"dialog","aria-labelledby":"Delete Status","aria-hidden":"true"},"\n            ",HTML.DIV({"class":"modal-dialog modal-sm"},"\n                ",HTML.DIV({"class":"modal-content"},"\n                    ",HTML.Raw('<div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n                        <h4 class="modal-title">Status Delete Confirmation!</h4>\n                    </div>'),"\n                    ",HTML.Raw('<div class="modal-body">\n                        <!-- Errors Starts -->\n                        <div id="deleteStatus-generic-error">\n                        </div>\n\n                        <div class="error-text hidden">\n                            <span class=""></span>\n                        </div>\n                        <!-- Errors Ends -->\n\n                        <h5>Are you sure you want to delete the status message?</h5>\n                        <input class="hidden" id="bucketId">\n                    </div>'),"\n                    ",HTML.DIV({"class":"modal-footer"},"\n                        ",HTML.Raw('<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>'),"\n                        ",HTML.BUTTON({type:"button","class":"btn btn-primary",id:"deleteButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postId"))}},"Delete"),"\n                    "),"\n                "),"\n            "),"\n        "),"\n    ")})}(),function(){Template.__checkName("InboxCount"),Template.InboxCount=new Template("Template.InboxCount",function(){var e=this;return HTML.DIV({id:"inboxCountTemplate"},"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("mailExist"))},function(){return["\n        ",HTML.DIV({id:"unreadCount"},Blaze.View(function(){return Spacebars.mustache(e.lookup("unreadInboxCount"))})),"\n        "]}),"\n    ")})}(),function(){Template.__checkName("Notification"),Template.Notification=new Template("Template.Notification",function(){var e=this;return HTML.DIV({id:"notificationTemplate"},"\n        ",HTML.DIV({"class":"dropdown",id:"instantNotificationDropDown"},"\n            ",HTML.A({"class":"dropdown-toggle","data-toggle":"dropdown",href:"#"},"\n                ",HTML.Raw('<!--<i data-hover="fa-home" class="fa fa-bell"></i>-->'),"\n                ",HTML.Raw('<!--<i data-hover="fa-home" class="entypo bell"></i>-->'),"\n                ",HTML.Raw('<span class="header-icons icon-bell"></span>'),"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("notificationExist"))},function(){return["\n                    ",HTML.DIV({id:"unreadCount"},Blaze.View(function(){return Spacebars.mustache(e.lookup("unreadCount"))})),"\n                "]}),"\n            "),"\n\n            ",HTML.DIV({"class":"dropdown-menu",role:"menu","aria-labelledby":"dLabel"},"\n                ",HTML.DIV({role:"presentation","class":"dropdown-header pull-left"},"\n                    ",HTML.Raw('<span class="pull-left">Notification Center</span>'),"\n                    ",Blaze.If(function(){return Spacebars.call(e.lookup("notificationExist"))},function(){return["\n                        ",HTML.BUTTON({type:"button","class":"btn btn-secondary pull-right",id:"markAllAsRead"},"Mark All as Read"),"\n                    "]}),"\n                "),"\n\n\n                ",HTML.Raw("<!-- Errors Starts -->"),"\n                ",HTML.Raw('<div id="notification-generic-error">\n                </div>'),"\n\n                ",HTML.Raw('<div class="error-text hidden">\n                </div>'),"\n                ",HTML.Raw("<!-- Errors Ends -->"),"\n\n                ",HTML.DIV("\n                    ",Blaze.If(function(){return Spacebars.call(e.lookup("notificationExist"))},function(){return["\n                    ",HTML.UL("\n                        ",Blaze.Each(function(){return Spacebars.call(e.lookup("unreadNotification"))},function(){return["\n                        ",HTML.LI({"class":"notification",role:"presentation",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"POST_LIKE",!0)},function(){return["\n                            ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_PostLikeNotification"))}),"\n                            "]}),"\n\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"POST_COMMENT",!0)},function(){return["\n                            ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_PostCommentNotification"))}),"\n                            "]}),"\n\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"REPORT_ABUSE",!0)},function(){return["\n                            ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_ReportAbuseNotification"))}),"\n                            "]}),"\n\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"POST_ADDED_TO_BUCKET",!0)},function(){return["\n                            ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_BucketPostAddedNotification"))}),"\n                            "]}),"\n\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"BUCKET_FOLLOWED",!0)},function(){return["\n                                ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_BucketFollowedNotification"))}),"\n                            "]}),"\n                        "),"\n                        "]}),"\n                    "),"\n                    "]},function(){return["\n                    ",HTML.DIV({"class":"noNotification"},"\n                        ",HTML.Comment('<button class="btn btn-link" id="seeAllButton">See Archived</button>'),"\n                        ",HTML.DIV({"class":"bs-callout bs-callout-warning"},"\n                            No notification(s) to show.\n                        "),"\n                    "),"\n                    "]}),"\n                "),"\n\n\n                ",HTML.Raw('<div class="footer">\n                    <button class="btn btn-link" id="seeAllButton">See Archived</button>\n                </div>'),"\n            "),"\n\n        "),"\n    ")}),Template.__checkName("_PostLikeNotification"),Template._PostLikeNotification=new Template("Template._PostLikeNotification",function(){var e=this;return HTML.DIV({"class":"list-group-item"},"\n        ",HTML.DIV({"class":"notificationMessage"},"\n            ",HTML.Raw("<!--, total {{this.f_message.f_post_like_count}} likes.-->"),"\n            ",HTML.DIV({"class":"notiMessage"},"\n                ",HTML.SPAN({id:"message",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_postId"))},action:"STATUS",notificaitonid:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"_id"))}},"\n                    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("notification"),"f_message","f_postId")}))},"class":"fa fa-quote-left"}),"\n                    ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_post_message"))})),"\n                "),"\n            "),"\n            ",HTML.DIV({"class":"notiActionDesc"},"\n                ",HTML.Raw('<span id="action" class="entypo heart"></span>'),"\n                ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("notification"))},function(){return Spacebars.include(e.lookupTemplate("_NotificationDescUtil"))}),"\n                ",HTML.Raw('<div class="clearfix"></div>'),"\n            "),"\n        "),"\n    ")}),Template.__checkName("_PostCommentNotification"),Template._PostCommentNotification=new Template("Template._PostCommentNotification",function(){var e=this;return HTML.DIV({"class":"list-group-item"},"\n        ",HTML.DIV({"class":"notificationMessage"},"\n            ",HTML.DIV({"class":"notiMessage"},"\n                ",HTML.SPAN({id:"message",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_postId"))},action:"STATUS",notificaitonid:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"_id"))}},"\n                     ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("notification"),"f_message","f_postId")}))},"class":"fa fa-quote-left"}),"\n                    ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_post_message"))})),"\n                "),"\n            "),"\n            ",HTML.DIV({"class":"notiActionDesc"},"\n                ",HTML.Raw('<span id="action"><i class="fa fa-comment"></i></span>'),"\n                ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("notification"))},function(){return Spacebars.include(e.lookupTemplate("_NotificationDescUtil"))}),"\n                ",HTML.Raw('<div class="clearfix"></div>'),"\n            "),"\n        "),"\n    ")}),Template.__checkName("_ReportAbuseNotification"),Template._ReportAbuseNotification=new Template("Template._ReportAbuseNotification",function(){var e=this;return HTML.DIV({"class":"list-group-item"},"\n        ",HTML.DIV({"class":"notificationMessage"},"\n            ",HTML.DIV({"class":"notiMessage"},"\n                ",HTML.SPAN({id:"message",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_postId"))},action:"STATUS",notificaitonid:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"_id"))}},"\n                    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("notification"),"f_message","f_postId")}))},"class":"fa fa-quote-left"}),"\n                    ",HTML.SPAN(HTML.B(Blaze.View(function(){return Spacebars.mustache(e.lookup("reportAbuseReason"),Spacebars.dot(e.lookup("notification"),"f_message","f_reason_code"))}))," # ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_post_message"))})),"\n                "),"\n            "),"\n            ",HTML.DIV({"class":"notiActionDesc"},"\n                ",HTML.Raw('<span id="action" class="entypo bucket"></span>'),"\n                ",HTML.Raw('<!--<span id="action-desc">\n                    <b>{{reportAbuseReason notification.f_message.f_reason_code}}</b>\n                </span>-->'),"\n                ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("notification"))},function(){return Spacebars.include(e.lookupTemplate("_NotificationDescUtil"))}),"\n            "),"\n            ",HTML.Raw('<!--<div class="clearfix"></div>\n            {{> _NotificationDescUtil notification}}-->'),"\n            ",HTML.Raw('<div class="clearfix"></div>'),"\n        "),"\n    ")}),Template.__checkName("_BucketPostAddedNotification"),Template._BucketPostAddedNotification=new Template("Template._BucketPostAddedNotification",function(){var e=this;return HTML.DIV({"class":"list-group-item"},"\n        ",HTML.DIV({"class":"notificationMessage"},"\n            ",HTML.DIV({"class":"notiMessage"},"\n                ",HTML.SPAN({id:"message"},"\n                ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("notification"),"f_message","f_postId")}))},"class":"entypo bucket",style:"margin-top: 6px; margin-right:5px"}),"\n                    ",HTML.SPAN({value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_bucket_id"))},action:"BUCKET",notificaitonid:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"_id"))}},"\n                        A post was added to the bucket  ",HTML.B(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_bucket_name"))})),"\n                    "),"\n                    ",HTML.SPAN({value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_postId"))},action:"STATUS",notificaitonid:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"_id"))}},"\n                        ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_post_message"))})),"\n                "),"\n            "),"\n            ",HTML.DIV({"class":"notiActionDesc"},"\n                ",HTML.SPAN({id:"action"},"\n                    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket.insight",Spacebars.kw({_id:Spacebars.dot(e.lookup("notification"),"f_message","f_bucket_id")}))},"class":"fa fa-quote-left",style:"margin-right: 1px"}),"\n                "),"\n                ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("notification"))},function(){return Spacebars.include(e.lookupTemplate("_NotificationDescUtil"))}),"\n                ",HTML.Raw('<!--<span id="action-desc">\n                    {{notification.f_message.f_bucket_name}}\n                </span>-->'),"\n            "),"\n            ",HTML.Raw('<!--<div class="clearfix"></div>\n            {{> _NotificationDescUtil notification}}-->'),"\n            ",HTML.Raw('<div class="clearfix"></div>'),"\n        "),"\n    ")}),Template.__checkName("_BucketFollowedNotification"),Template._BucketFollowedNotification=new Template("Template._BucketFollowedNotification",function(){var e=this;return HTML.DIV({"class":"list-group-item"},"\n        ",HTML.DIV({"class":"notificationMessage"},"\n            ",HTML.DIV({"class":"notiMessage"},"\n                ",HTML.SPAN({id:"message",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_bucket_id"))},action:"BUCKET",notificaitonid:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"_id"))}},"\n                    ",HTML.SPAN("\n                        Someone started following the bucket ",HTML.B(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("notification"),"f_message","f_bucket_name"))}))),"\n                "),"\n            "),"\n            ",HTML.DIV({"class":"notiActionDesc"},"\n                ",HTML.SPAN({id:"action"},"\n                    ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket.insight",Spacebars.kw({_id:Spacebars.dot(e.lookup("notification"),"f_message","f_bucket_id")}))},"class":"entypo bucket"}),"\n                "),"\n                ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("notification"))},function(){return Spacebars.include(e.lookupTemplate("_NotificationDescUtil"))}),"\n                ",HTML.Raw('<!--<span id="action-desc">\n                    {{notification.f_message.f_bucket_name}}\n                </span>-->'),"\n            "),"\n            ",HTML.Raw('<!--<div class="clearfix"></div>\n            {{> _NotificationDescUtil notification}}-->'),"\n            ",HTML.Raw('<div class="clearfix"></div>'),"\n        "),"\n    ")}),Template.__checkName("_NotificationDescUtil"),Template._NotificationDescUtil=new Template("Template._NotificationDescUtil",function(){var e=this;return[HTML.SPAN({"class":"pull-right",id:"timestamp"},"\n        ",Blaze._TemplateWith(function(){return{timestamp:Spacebars.call(Spacebars.dot(e.lookup("."),"f_timestamp"))}},function(){return Spacebars.include(e.lookupTemplate("Timestamp"))}),"\n    "),"\n\n    ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"f_archived"))},function(){return["\n    ",HTML.Comment('<a href="#" id="markAsRead" value="{{this._id}}" class="fa fa-check"></a>'),"\n    ",HTML.DIV({"class":"btn-group btn-group-sm"},"\n        ",HTML.BUTTON({type:"button","class":"btn btn-link-sm",id:"markAsRead",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"Read"),"\n    "),"\n    "]})]})}(),function(){Template.__checkName("AddToBucket"),Template.AddToBucket=new Template("Template.AddToBucket",function(){var e=this;return HTML.DIV({id:"addToBucketTemplate"},"\n        ",HTML.DIV({"class":"modal fade",id:"addToBucketModal",tabindex:"-1",role:"dialog","aria-hidden":"false"},"\n            ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n                ",HTML.DIV({"class":"modal-content"},"\n\n                    ",HTML.Raw('<div class="modal-header">\n                        <h3>Add to Bucket</h3>\n\n                        <div>\n                            <!--<span id="refreshing" style="display: none">Refreshing</span>-->\n\n                            <button type="button" class="btn btn-default" id="refreshButton">\n                                <span class="entypo cycle"></span>\n                            </button>\n                        </div>\n                    </div>'),"\n\n                    ",HTML.DIV({"class":"modal-body"},"\n                        ",HTML.Raw("<!-- Errors Starts -->"),"\n                        ",HTML.Raw('<div id="addToBucket-generic-error">\n                        </div>'),"\n\n                        ",HTML.Raw('<div class="error-text hidden">\n                            <span class="AB_101">Select at least 1 bucket.</span>\n                            <span class="AB_1">Some technical error occurred.</span>\n                            <span class="AB_1002">It seems that the owner of the bucket has modified bucket settings. Please refresh the list of buckets and try again.</span>\n                        </div>'),"\n                        ",HTML.Raw("<!-- Errors Ends -->"),"\n\n                        ",HTML.INPUT({id:"postId","class":"hidden",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postId"))}}),"\n\n                        ",HTML.Raw('<ul class="nav nav-tabs">\n                            <li class="active"><a href="#userBucketList" data-toggle="tab">Created</a></li>\n                            <li><a href="#followingBucketList" data-toggle="tab">Following</a></li>\n                        </ul>'),"\n\n                        ",HTML.DIV({id:"bucketList","class":"hide"},"\n                            ",Blaze.If(function(){return Spacebars.call(e.lookup("aBucketExist"))},function(){return["\n                            ",HTML.Comment(" User created bucket list starts "),"\n\n                            ",HTML.DIV({"class":"tab-content"},"\n                                ",HTML.DIV({"class":"tab-pane fade in active",id:"userBucketList"},"\n                                    ",HTML.H4({id:"userBucketListMessage"},"Buckets created by you"),"\n                                    ",Blaze._TemplateWith(function(){return{bucketList:Spacebars.call(e.lookup("getUserCreateBucketList")),bucketType:Spacebars.call("created")}},function(){return Spacebars.include(e.lookupTemplate("_ListBucket"))}),"\n                                "),"\n                                ",HTML.Comment(" User created bucket list ends "),"\n\n\n                                ",HTML.Comment(" User followed bucket list starts "),"\n\n\n                                ",HTML.DIV({"class":"tab-pane fade",id:"followingBucketList"},"\n                                    ",HTML.H4({id:"userFollowBucketListMessage"},"Buckets followed by you"),"\n                                    ",HTML.H5("(These are buckets that you are following and the owner has allowed others to add content to them.)"),"\n                                    ",Blaze._TemplateWith(function(){return{bucketList:Spacebars.call(e.lookup("getUserFollowedBucketList")),bucketType:Spacebars.call("followed")}},function(){return Spacebars.include(e.lookupTemplate("_ListBucket"))}),"\n                                "),"\n                                ",HTML.Comment(" User followed bucket list ends "),"\n                            "),"\n                            "]},function(){return["\n                            ",HTML.DIV({"class":"bs-callout bs-callout-danger"},"\n                                ",HTML.H4("There are no buckets to show!"),"\n                                ",HTML.P("\n                                    You have not created any bucket and you are not following any bucket to which the owner has allowed to add content.",HTML.BR(),"\n                                    Create a bucket ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"user.bucket")}},"click here"),HTML.BR(),"\n                                    Follow a bucket ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket")}},"click here"),".\n                                "),"\n                            "),"\n\n                            "]
}),"\n\n                            ",HTML.Raw('<div class="clearfix"></div>'),"\n                        "),"\n\n                        ",HTML.Raw('<div class="hide" id="noBucketMessage">\n                            <small>Please create or follow a bucket.</small>\n                        </div>'),"\n\n                        ",HTML.DIV({id:"userBucketListWaiting"},"\n                            ",Spacebars.include(e.lookupTemplate("Loading")),"\n                        "),"\n                    "),"\n                    ",HTML.Raw('<div class="clearfix"></div>'),"\n\n                    ",HTML.Raw('<div class="modal-footer">\n                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n                        <button type="button" class="btn btn-primary" id="addButton">Add</button>\n                    </div>'),"\n                "),"\n            "),"\n        "),"\n    ")}),Template.__checkName("_ListBucket"),Template._ListBucket=new Template("Template._ListBucket",function(){var e=this;return Blaze.Each(function(){return Spacebars.call(e.lookup("bucketList"))},function(){return["\n    ",HTML.DIV({"class":"bucketsCreatedList",id:""},"\n        ",HTML.INPUT({type:"checkbox",name:"bucketName",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}}),"\n        ",HTML.LABEL({"for":function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},"class":"control-label"},Blaze.View(function(){return Spacebars.mustache(e.lookup("toCapitalize"),Spacebars.dot(e.lookup("."),"f_bucket","f_name"))})),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_bucket","f_access"),"PRIVATE",!0)},function(){return["\n        ",HTML.SPAN({"class":"entypo lock",id:"isPrivate"}),"\n        "]}),"\n\n        ",HTML.DIV({"class":""},"\n            ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_bucket","f_desc"))}),"\n        "),"\n\n    "),"\n    "]},function(){return["\n    ",HTML.DIV({"class":"bs-callout bs-callout-danger"},"\n        ",HTML.H4("There are no buckets to show!"),"\n\n        ",HTML.P("\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("bucketType"),"created",!0)},function(){return["\n                You have not created any bucket.",HTML.BR(),"\n                Create a bucket ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"user.bucket")}},"click here"),HTML.BR(),"\n            "]},function(){return["\n                You are not following any bucket to which the owner has allowed to add content.",HTML.BR(),"\n                Follow a bucket ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket")}},"click here"),".\n            "]}),"\n        "),"\n    "),"\n    "]})})}(),function(){Template.__checkName("Bucket"),Template.Bucket=new Template("Template.Bucket",function(){var e=this;return[HTML.DIV({id:"bucketTemplate"},"\n        ",HTML.Raw('<!--{{#if isLoggedIn}}\n        <a href="{{pathFor \'user.bucket\'}}" class="btn btn-default btn-xs userBucketIcon">\n            <i data-hover="fa-bitbucket" class="fa fa-bitbucket"></i>\n            <span class="glyphicon glyphicon-user"></span>\n            <i class="fa fa-long-arrow-right"></i>\n        </a>\n        {{/if}}\n      -->'),"\n        ",Spacebars.include(e.lookupTemplate("BucketEditorSelection")),"\n    "),HTML.Raw('\n    <div class="clearfix marginT30"></div>')]})}(),function(){Template.__checkName("BucketEditorSelection"),Template.BucketEditorSelection=new Template("Template.BucketEditorSelection",function(){var e=this;return HTML.DIV({id:"bucketEditorSelectionTemplate"},HTML.Raw('\n        <!-- Errors Starts -->\n        <div id="bucketEditorSelection-generic-error" class="floating-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <!-- Generic -->\n            <span class="BES_101"></span>\n            <!-- Follow -->\n            <span class="BF_101 BUF_101">Some technical error occurred.</span>\n        </div>\n        <!-- Errors Ends -->\n\n        '),Blaze.Each(function(){return Spacebars.call(e.lookup("bucketList"))},function(){return["\n        ",HTML.DIV({"class":"col-sm-6 col-md-4",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n            ",HTML.DIV({"class":"thumbnail"},"\n                ",HTML.DIV({"class":"caption"},"\n                    ",HTML.DIV({id:"control"},"\n                        ",HTML.Comment("follow/unfollow"),"\n                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("isUserBucket"),Spacebars.dot(e.lookup("."),"f_userId"),!1)},function(){return["\n                        ",HTML.BUTTON({type:"submit","class":function(){return["btn btn-primary ",Spacebars.mustache(e.lookup("isFollowed"),Spacebars.dot(e.lookup("."),"_id"),"followButton")]},id:"followButton",bucket:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"Follow\n                        "),"\n                        ",HTML.BUTTON({type:"submit","class":function(){return["btn btn-primary ",Spacebars.mustache(e.lookup("isFollowed"),Spacebars.dot(e.lookup("."),"_id"),"unFollowButton")]},id:"unFollowButton",bucket:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"UnFollow\n                        "),"\n                        "]}),"\n                    "),"\n                    ",HTML.H3(Blaze.View(function(){return Spacebars.mustache(e.lookup("toCapitalize"),Spacebars.dot(e.lookup("."),"f_bucket","f_name"))})),"\n\n                    ",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("toLowerCase"),Spacebars.dot(e.lookup("."),"f_bucket","f_desc"))})),"\n                "),"\n                ",HTML.DIV({"class":"clearfix"}),"\n                ",HTML.DIV({"class":"bucketEditorFooter"},"\n                    ",HTML.SPAN(HTML.I({"class":"entypo users","data-toggle":"tooltip","data-placement":"top",title:"Followers of this bucket."})," ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_followCount"))})),"\n                    ",HTML.SPAN(HTML.I({"class":"entypo paper-plane","data-toggle":"tooltip","data-placement":"top",title:"Number of post in this bucket."})," ",Blaze.View(function(){return Spacebars.mustache(e.lookup("postCount"),Spacebars.dot(e.lookup("."),"_id"))})),"\n                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isUserBucket"),Spacebars.dot(e.lookup("."),"f_userId"))},function(){return["\n                    ",HTML.SPAN(HTML.I({"class":"entypo user","data-toggle":"tooltip","data-placement":"top",title:"You are the owner of this bucket."})),"\n                    "]}),"\n                    ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"f_bucket","f_isEditable"))},function(){return["\n                    ",HTML.SPAN(HTML.I({"class":"entypo lock","data-toggle":"tooltip","data-placement":"top",title:"Only owner can add content to this bucket."})),"\n                    "]}),"\n\n                    ",HTML.SPAN({"class":"bucket-insightLink pull-right"},HTML.A({target:"_blank",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"bucket.insight")}},"\n                        ",HTML.SPAN({"class":"entypo level-down"}),"\n                    ")),"\n                    ",HTML.SPAN({id:"timestamp","class":"pull-right"},"\n                        ",HTML.Comment("{{> Timestamp timestamp=this.f_timestamp}}"),"\n                    "),"\n                "),"\n                ",HTML.DIV({"class":"bucketFooter-bg"}),"\n            "),"\n        "),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isUserBucket"),Spacebars.dot(e.lookup("."),"f_userId"))},function(){return["\n            ",Blaze.View(function(){return Spacebars.mustache(e.lookup("attachToolTip"))}),"\n        "]}),"\n        "]}),HTML.Raw('\n        <div class="clearfix"></div>\n    '))})}(),function(){Template.__checkName("BucketInsight"),Template.BucketInsight=new Template("Template.BucketInsight",function(){var e=this;return[HTML.DIV({"class":"container",id:"bucketInsightTemplate"},"\n        ",HTML.Raw('<div class="clearfix"></div>'),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("bucketExist"),!0)},function(){return["\n            ",HTML.DIV({"class":"bb-custom-wrapper"},"\n                ",HTML.DIV({id:"bb-bookblock","class":"bb-bookblock"},"\n                    ",HTML.DIV({"class":"bb-item"},"\n                        ",Spacebars.With(function(){return Spacebars.call(e.lookup("bucketDetails"))},function(){return["\n                        ",HTML.DIV({"class":"bb-custom-firstpage"},"\n                            ",HTML.P(Blaze.View(function(){return Spacebars.mustache(e.lookup("toCapitalize"),Spacebars.dot(e.lookup("."),"f_bucket","f_name"))})),"\n                            ",HTML.DIV({"class":"bs-callout bs-callout-info"},"\n                                ",HTML.H4(Blaze.View(function(){return Spacebars.mustache(e.lookup("toCapitalize"),Spacebars.dot(e.lookup("."),"f_bucket","f_desc"))})),"\n                            "),"\n\n                            ",HTML.DIV({"class":"bucketEditorFooter"},"\n                                        ",HTML.SPAN({"class":"pull-left"},"\n                                            ",HTML.I({"class":"entypo users","data-toggle":"tooltip","data-placement":"bottom",title:"Followers of this bucket."}),Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_followCount"))}),"\n                                        "),"\n                                        ",HTML.SPAN({"class":"pull-left"},"\n                                            ",HTML.I({"class":"entypo paper-plane","data-toggle":"tooltip","data-placement":"bottom",title:"Number of post in this bucket."}),Blaze.View(function(){return Spacebars.mustache(e.lookup("postCount"))}),"\n                                        "),"\n                                ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"f_bucket","f_isEditable"))},function(){return["\n                                            ",HTML.SPAN({"class":"pull-left","data-toggle":"tooltip",title:"Only owner can add content to this bucket.",id:"isNotEditable"},"\n                                                ",HTML.SPAN({"class":"entypo lock"}),"\n                                            "),"\n                                "]}),"\n                                ",HTML.SPAN({"class":"pull-right marginR20"},"\n                                    ",HTML.Comment("{{> Timestamp timestamp=this.f_timestamp}}"),"\n                                "),"\n                            "),"\n                        "),"\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("neq"),e.lookup("postCount"),0)},function(){return["\n                                ",Spacebars.With(function(){return Spacebars.call(e.lookup("firstPost"))},function(){return["\n                                      ",HTML.DIV({"class":function(){return["bb-custom-side ",Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_color"))]}},"\n                                        ",Blaze._TemplateWith(function(){return{post:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_BucketStatusMessageTemplate"))}),"\n                                      "),"\n                                "]}),"\n                                "]},function(){return["\n                                  ",HTML.DIV({"class":"bb-custom-side"},"\n                                    ",HTML.DIV({"class":"b-insight-l-page-txt"}," ",HTML.P({style:"font-size: 1em;top: 25%;"},"There is nothing to view in this bucket.")),"\n                                  "),"\n                            "]}),"\n                        "]}),"\n                    "),"\n                    ",Blaze.Each(function(){return Spacebars.call(e.lookup("post"))},function(){return["\n                        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"isLast"))},function(){return["\n                            ",Blaze.View(function(){return Spacebars.mustache(e.lookup("initOnce"))}),"\n                        "]},function(){return["\n                            ",HTML.DIV({"class":"bb-item"},"\n                                ",HTML.DIV({"class":function(){return["bb-custom-side ",Spacebars.mustache(Spacebars.dot(e.lookup("."),"left","f_color"))]},id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"left","_id"))}},"\n                                    ",Blaze._TemplateWith(function(){return{post:Spacebars.call(Spacebars.dot(e.lookup("."),"left"))}},function(){return Spacebars.include(e.lookupTemplate("_BucketStatusMessageTemplate"))}),"\n                                "),"\n                                ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"right","_id"))},function(){return["\n                                ",HTML.DIV({"class":function(){return["bb-custom-side ",Spacebars.mustache(Spacebars.dot(e.lookup("."),"right","f_color"))]},id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"right","_id"))}},"\n                                    ",Blaze._TemplateWith(function(){return{post:Spacebars.call(Spacebars.dot(e.lookup("."),"right"))}},function(){return Spacebars.include(e.lookupTemplate("_BucketStatusMessageTemplate"))}),"\n                                "),"\n                                "]},function(){return["\n                                ",HTML.DIV({"class":"b-insight-l-page-txt"}," ",HTML.P("To be continued ... ")),"\n                                "]}),"\n                            "),"\n                        "]}),"\n                    "]}),"\n                "),"\n                ",HTML.NAV("\n                    ",HTML.A({href:"/","class":"leak-logo-sm bucket-insight-logo"},HTML.SPAN()),"\n\n                    ",HTML.A({id:"bb-nav-first",href:"#","class":"bb-nav btn btn-default"},HTML.I({"class":"fa fa-step-backward"})),"\n                    ",HTML.A({id:"bb-nav-prev",href:"#","class":"bb-nav btn btn-default"},HTML.I({"class":"fa fa-chevron-left"})),"\n                    ",HTML.A({id:"bb-nav-next",href:"#","class":"bb-nav btn btn-default"},HTML.I({"class":"fa fa-chevron-right"})),"\n                    ",HTML.Comment('<a id="bb-nav-last" href="#" class="bb-nav bb-custom-icon bb-custom-icon-last">Last page</a>'),"\n                "),"\n            ")," ",HTML.Comment(" custom-wrapper "),"\n        "]},function(){return["\n            ",Spacebars.include(e.lookupTemplate("NotFound")),"\n        "]}),"\n    "),HTML.Raw(" <!-- container -->\n    "),Spacebars.include(e.lookupTemplate("AddToBucket"))]}),Template.__checkName("_BucketStatusMessageTemplate"),Template._BucketStatusMessageTemplate=new Template("Template._BucketStatusMessageTemplate",function(){var e=this;return[HTML.DIV({"class":"bucket-insight-footer"},"\n        ",HTML.BUTTON({type:"button","class":"btn btn-default icon pull-left",id:"addToBucketButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"_id"))}},"\n            ",HTML.Raw('<span class="entypo bucket"></span>'),"\n            ",HTML.Raw('<span class="entypo plus"></span>'),"\n        "),"\n        ",HTML.A({"class":"btn btn-default icon pull-right",target:"_blank",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"status.message",Spacebars.kw({_id:Spacebars.dot(e.lookup("post"),"_id")}))}},"\n            ",HTML.Raw('<span class="entypo level-down"></span>'),"\n        "),"\n        ",HTML.Raw('<span class="pull-right marginR20 fontClass-white">\n            <!--{{> Timestamp timestamp=post.f_timestamp}}-->\n        </span>'),"\n    "),"\n    ",HTML.DIV({"class":function(){return[Spacebars.mustache(e.lookup("setFontClass"),Spacebars.dot(e.lookup("post"),"f_color"))," ",Spacebars.mustache(Spacebars.dot(e.lookup("post"),"f_color"))]}},"\n        ",HTML.P(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("post"),"f_message"))})),"\n    ")]})}(),function(){Template.__checkName("HomeFeed"),Template.HomeFeed=new Template("Template.HomeFeed",function(){var e=this;return HTML.DIV({id:"homeFeedTemplate"},HTML.Raw('\n        <!-- Errors Starts here-->\n        <div id="homeFeed-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <span class=""></span>\n        </div>\n        <!-- Errors Ends -->\n\n        '),Spacebars.include(e.lookupTemplate("StatusFeed")),"\n        ",Spacebars.include(e.lookupTemplate("AddToBucket")),"\n    ")}),Template.__checkName("StatusFeed"),Template.StatusFeed=new Template("Template.StatusFeed",function(){var e=this;return[Spacebars.include(e.lookupTemplate("pagesNav")),"\n    ",Spacebars.include(e.lookupTemplate("pages"))]}),Template.__checkName("home_pagesItemDefault"),Template.home_pagesItemDefault=new Template("Template.home_pagesItemDefault",function(){var e=this;return HTML.LI({"class":"list-group-item",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n        ",HTML.DIV({"class":function(){return["thumbnail ",Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_color"))]}},"\n            ",HTML.DIV({"class":"thumbnailContainer"},"\n                ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"f_expires"))},function(){return["\n                        ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"_id")),expiryTime:Spacebars.call(Spacebars.dot(e.lookup("."),"f_expiryTime"))}},function(){return Spacebars.include(e.lookupTemplate("ExpiryCounter"))}),"\n                        ",Blaze.View(function(){return Spacebars.mustache(e.lookup("addExpiryTimer"))}),"\n                "]}),"\n\n                ",HTML.H4(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_message"))})),"\n                ",HTML.DIV({"class":"homeFeedFooter"},"\n\n                    ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"_id")),errorPrefix:Spacebars.call("homeFeed"),parentTemplate:Spacebars.call("homeFeedTemplate")}},function(){return Spacebars.include(e.lookupTemplate("StatusLikeUnlike"))}),"\n\n                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_expires"),!1)},function(){return["\n                        ",HTML.BUTTON({type:"button","class":"btn addtoBucketIcon pull-left",id:"addToBucketButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n                            ",HTML.SPAN({"class":"entypo bucket"}),"\n                            ",HTML.SPAN({"class":"entypo plus"}),"\n                        "),"\n                    "]}),"\n\n                    ",HTML.BUTTON({"class":"btn pull-right",role:"button",id:"showMessageButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n                        ",HTML.Raw('<span class="entypo level-down"></span>'),"\n                    "),"\n                    ",HTML.Raw('<div id="timestamp" class="pull-right">\n                        <!--{{> Timestamp timestamp=this.f_timestamp}}-->\n                    </div>'),"\n\n                    ",HTML.Raw('<div class="clearfix"></div>'),"\n                "),"\n                ",HTML.Raw('<div class="homeFeedFooter-bg"></div>'),"\n            "),"\n        "),"\n    ")}),Template.__checkName("home_pagesPageCont"),Template.home_pagesPageCont=new Template("Template.home_pagesPageCont",function(){var e=this;return HTML.DIV({"class":function(){return Spacebars.mustache(e.lookup("divWrapper"),e.lookup("pagesData"))},id:"pageCont"},"\n        ",HTML.UL("\n            ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesPage"))}),"\n        "),"\n    ")}),Template.__checkName("home_pagesNavCont"),Template.home_pagesNavCont=new Template("Template.home_pagesNavCont",function(){var e=this;return HTML.DIV({id:"navCont"},"\n        ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("pagesData"))},function(){return Spacebars.include(e.lookupTemplate("_pagesNav"))}),"\n    ")}),Template.__checkName("home_pagesLoading"),Template.home_pagesLoading=new Template("Template.home_pagesLoading",function(){var e=this;return[HTML.Raw("<!-- dont remove .pagesLoadingDefaultCont as it is pagesClass for making loading page absolute-->\n    "),HTML.DIV({"class":"pagesLoadingDefaultCont"},"\n        ",Spacebars.include(e.lookupTemplate("Loading")),"\n        ",HTML.Raw('<!--<h1 class="shimmer"> Loading ... </h1>-->'),"\n    ")]})}(),function(){Template.__checkName("SeeAllNotification"),Template.SeeAllNotification=new Template("Template.SeeAllNotification",function(){var e=this;return HTML.DIV({id:"seeAllNotificationTemplate"},HTML.Raw('\n\n      <!-- Errors Starts -->\n      <div id="seeAllNotification-generic-error">\n      </div>\n\n      <div class="error-text hidden">\n      </div>\n      <!-- Errors Ends -->\n\n      <div class="">\n          <button type="btn btn-link" class="btn btn-primary" id="markAllAsRead">Mark All as Read</button>\n      </div>\n      '),Blaze.Each(function(){return Spacebars.call(e.lookup("allNotification"))},function(){return["\n      ",HTML.LI({"class":"notification",role:"presentation",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"POST_LIKE",!0)},function(){return["\n          ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_PostLikeNotification"))}),"\n          "]}),"\n\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"POST_COMMENT",!0)},function(){return["\n          ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_PostCommentNotification"))}),"\n          "]}),"\n\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"REPORT_ABUSE",!0)},function(){return["\n          ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_ReportAbuseNotification"))}),"\n          "]}),"\n\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"POST_ADDED_TO_BUCKET",!0)},function(){return["\n          ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_BucketPostAddedNotification"))}),"\n          "]}),"\n\n          ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"f_type","f_name"),"BUCKET_FOLLOWED",!0)},function(){return["\n            ",Blaze._TemplateWith(function(){return{notification:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("_BucketFollowedNotification"))}),"\n          "]}),"\n      "),"\n      "]},function(){return["\n      ",HTML.DIV({"class":"bs-callout bs-callout-warning"},"\n          No notification(s) to show.\n      "),"\n      "]}),HTML.Raw("\n\n      <span>\n          <h6>\n              <small>A maximum of 20 read notification will be visible to you.</small>\n          </h6>\n      </span>\n      "),Blaze.View(function(){return Spacebars.mustache(e.lookup("isAnyUnreadNotification"))}),"\n  ")})}(),function(){Template.__checkName("ReportAbuse"),Template.ReportAbuse=new Template("Template.ReportAbuse",function(){var e=this;return HTML.SPAN({id:"reportAbuseTemplate"},"\n        ",HTML.DIV({"class":function(){return Spacebars.mustache(e.lookup("reportedAbuse"),Spacebars.dot(e.lookup("."),"postId"),"undo")},id:"reportedAlready"},"\n            ",HTML.Raw("<span>Reported Abused By You</span>"),"\n            ",HTML.BUTTON({type:"button","class":"btn btn-link",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postId"))},posttype:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postType"))},id:"undoReportButton"},"Undo\n            "),"\n        "),"\n\n        ",HTML.SPAN({"class":function(){return Spacebars.mustache(e.lookup("reportedAbuse"),Spacebars.dot(e.lookup("."),"postId"),"report")},id:"report"},"\n            ",HTML.Raw('<button type="button" class="btn btn-link" data-toggle="modal" data-target="#reportAbuseBox" id="reportAbuse" name="reportAbuse">Report Abuse\n            </button>'),"\n\n            ",HTML.Raw("<!-- Modal Start-->"),"\n            ",HTML.DIV({"class":"modal fade",id:"reportAbuseBox",tabindex:"-1",role:"dialog","aria-labelledby":"reportAbuseBoxLable","aria-hidden":"true"},"\n                ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n                    ",HTML.DIV({"class":"modal-content"},"\n                        ",HTML.Raw('<div class="modal-header">\n                            <h4 class="modal-title" id="myModalLabel">Report Abuse</h4>\n                        </div>'),"\n\n                        ",HTML.DIV({"class":"modal-body"},"\n                            ",HTML.Raw("<!-- Errors Starts -->"),"\n                            ",HTML.Raw('<div id="reportAbuse-generic-error">\n                            </div>'),"\n\n                            ",HTML.Raw('<div class="error-text hidden">\n                                <span class="RA_102">Please select the reason for Report Abuse.</span>\n                            </div>'),"\n                            ",HTML.Raw("<!-- Errors Ends -->"),"\n                                ",HTML.DIV("\n                                    ",HTML.DIV("\n                                        ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("reportOptions"),Spacebars.dot(e.lookup("."),"postType"))},function(){return["\n                                        ",HTML.DIV({"class":"radio"},"\n                                            ",HTML.LABEL("\n                                                ",HTML.INPUT({type:"radio",name:"abuseOption",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"code"))},value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"code"))}}),"\n                                                ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))}),"\n                                            "),"\n                                        "),"\n                                        "]}),"\n                                    "),"\n                                "),"\n                            "),"\n\n                        ",HTML.DIV({"class":"modal-footer"},"\n                            ",HTML.BUTTON({"class":"btn btn-primary pull-right",id:"reportButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postId"))},posttype:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postType"))}},"Report\n                            "),"\n                            ",HTML.Raw('<button class="btn btn-secondary pull-right marginR20" data-dismiss="modal" id="cancelButton">Cancel</button>'),"\n                        "),"\n                        ",HTML.Raw('<div class="clearfix"></div>'),"\n                    "),"\n                "),"\n            "),"\n        "),"\n    ")})}(),function(){Template.__checkName("PostStatus"),Template.PostStatus=new Template("Template.PostStatus",function(){var e=this;return HTML.DIV({id:"postStatusTemplate"},HTML.Raw('\n        <button class="btn btn-default postStatusBtn" data-toggle="modal" data-target="#statusBox" id="statusButton" name="statusButton">\n            Got something to say? <i class="fa fa-pencil"></i>\n        </button>\n\n        <!-- Modal Start-->\n\n        '),HTML.DIV({"class":"modal fade",id:"statusBox",tabindex:"-1",role:"dialog","aria-labelledby":"statusModalLabel","aria-hidden":"true"},"\n            ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n                ",HTML.DIV({"class":"modal-content",color:"",id:"postContent"},"\n                    ",HTML.DIV({"class":"modal-body",id:"postLeak"},"\n                        ",HTML.Raw("<!-- Errors Starts -->"),"\n                        ",HTML.Raw('<div id="postStatus-generic-error" class="postStatus-generic-error">\n                        </div>'),"\n\n                        ",HTML.Raw('<div class="error-text hidden">\n                            <span class="PS_101">You can\'t leave this empty.</span>\n                            <span class="PS_102">Post should be at least 10 characters and maximum of 300 character.</span>\n                            <!--<span class="PS_103">Atleast one <b>category</b> should be selected.</span>-->\n                            <span class="PS_104">Expiry time for a message cannot be \'0\'.</span>\n                            <span class="PS_1006">Your post has been successfully recieved. However it is under review. We will update you once this is done</span>\n                        </div>'),"\n                        ",HTML.Raw("<!-- Errors Ends -->"),"\n\n                        ",HTML.DIV({id:"content"},"\n                            ",HTML.Raw("<!-- Status Input Starts -->"),"\n                            ",HTML.DIV({id:"post"},"\n\n                                ",HTML.Raw('<div class="options-bar pull-left">\n\n                                    <button class="btn-secondary pull-right" data-dismiss="modal" id="cancelPostButton"><i class="fa fa-trash-o"></i></button>\n                                    <button class="btn-primary pull-right" id="savePostButton"><i class="fa fa-floppy-o"></i></button>\n\n                                    <!-- Comments Option Start-->\n                                    <div id="commentAllowed">\n                                        <!--<i class="fa fa-comments"></i>-->\n                                        <div class="clearfix"></div>\n                                        <button type="button" class="btn fa fa-check" id="yes"></button>\n                                        <button type="button" class="btn fa fa-times inactive" id="no"></button>\n                                        <label for="commentAllowed">Comments Allowed?</label>\n                                    </div>\n                                    <!-- Comments Option End-->\n\n                                    <!-- Expiry Time Start -->\n                                    <div id="expiryTime">\n                                        <!--<i class="fa fa-clock-o"></i>-->\n                                        <div class="clearfix"></div>\n                                        <button type="button" class="btn fa fa-check inactive" id="expiryTimeYes" value="yes"></button>\n                                        <button type="button" class="btn fa fa-times" id="expiryTimeNo" value="no"></button>\n\n                                        <!--<div id="neverExpire" class="pull-right">\n                                            <span id="expiryValue">Never expire</span>\n                                        </div>-->\n                                <span id="eventuallyExpire" class="hide">\n                                    <!--<label for="expireHour">hour\'s</label>-->\n                                    <input id="expireHour" type="text" maxlength="2" placeholder="HH">\n                                    <span>:</span>\n                                    <!--<label for="expireMin">min\'s</label>-->\n                                    <input id="expireMin" type="text" maxlength="2" placeholder="MM">\n                                </span>\n                                        <label for="expiryTime">Expiry Time</label>\n                                    </div>\n                                    <!-- Expiry Time End -->\n                                </div>'),"\n\n                                ",HTML.Raw('<div class="clearfix"></div>'),"\n\n                                ",HTML.Raw("<!-- Bg Colors Selection Start -->"),"\n                                ",HTML.DIV({"class":"color-tools-cont pull-left"},"\n                                    ",HTML.DIV({"class":"color-tools",id:"bgColor"},"\n                                        ",Blaze.Each(function(){return Spacebars.call(e.lookup("color"))
},function(){return["\n                                        ",HTML.BUTTON({"class":function(){return["bgColorButton color-tool-btn ",Spacebars.mustache(e.lookup("."))]},id:function(){return Spacebars.mustache(e.lookup("."))}}),"\n                                        "]}),"\n                                    "),"\n                                "),"\n                                ",HTML.Raw("<!-- Bg Colors Selection Ends -->"),"\n                                ",HTML.TEXTAREA({id:"textarea",placeholder:"Get typing, the world is waiting ...","class":"pull-right"}),"\n                            "),"\n                            ",HTML.Raw("<!-- Status Input Ends -->"),"\n                        "),"\n                    "),"\n                "),"\n                ",HTML.Raw('<div class="clearfix"></div>'),"\n            "),"\n        "),HTML.Raw("\n        <!-- Modal Ends-->\n    "))})}(),function(){Template.__checkName("StatusComment"),Template.StatusComment=new Template("Template.StatusComment",function(){var e=this;return HTML.DIV({id:"statusCommentTemplate"},HTML.Raw('\n        <!-- Errors Starts -->\n        <div id="statusComment-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <span class="C_101">You can\'t leave this empty.</span>\n            <span class="C_102">Comments are not allowed by the author.</span>\n            <span class="C_103">Comments can\'t be more than 150 characters.</span>\n            <span class="PS_1006">Your comment has been successfully recorded. However it is under review. We will update you once this is done</span>\n        </div>\n        <!-- Errors Ends -->\n\n        '),HTML.DIV({"class":"panel",id:"postCommentBox"},"\n            ",HTML.DIV({"class":"panel-body"},"\n                ",HTML.DIV({"class":"form-group",id:"commentTextGroup"},"\n                    ",HTML.DIV("\n                        ",HTML.TEXTAREA({"class":"form-control",type:"text",id:"commentText",name:"commentText",placeholder:"Something to say?"}),"\n                        ",HTML.Raw('<span class="help-text hide"> </span>'),"\n                        ",HTML.Raw('<span class="error-text"></span>'),"\n                    "),"\n                "),"\n\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("isNotPostAuthor"))},function(){return["\n                ",HTML.DIV({"class":"btn-group statusType pull-left"},"\n                    ",HTML.SELECT({name:"commentType",id:"commentType"},"\n                        ",HTML.OPTION({value:"public",selected:""},"Public"),"\n                        ",HTML.OPTION({value:"private"},"Private"),"\n                    "),"\n                "),"\n                "]}),"\n\n                ",HTML.Raw('<button class="btn btn-default btn-primary pull-right" id="postComment">Post</button>'),"\n            "),"\n        "),"\n\n        ",HTML.DIV({"class":"panel",id:"comments"},"\n\n            ",HTML.Raw('<ul class="nav nav-tabs" id="commentsPanel">\n                <li class="active">\n                    <a href="#public" data-toggle="tab" id="publicTab">Public</a>\n                    <i class="entypo chevron-thin-down"></i>\n                </li>\n                <li>\n                    <a href="#private" data-toggle="tab" id="privateTab">Private</a>\n                    <i class="entypo chevron-thin-down hide"></i>\n                </li>\n            </ul>'),"\n\n            ",HTML.Raw("<!-- Tab panes -->"),"\n            ",HTML.DIV({"class":"tab-content"},"\n                ",HTML.DIV({"class":"tab-pane fade in  active",id:"public"},"\n                    ",HTML.DIV({"class":"panel-body"},"\n                        ",HTML.DIV({"class":"list-group"},"\n                            ",Blaze.Each(function(){return Spacebars.call(e.lookup("getPublicComments"))},function(){return["\n                            ",HTML.DIV({"class":"comment"},"\n                                ",HTML.DIV({"class":"list-group-item"},"\n                                    ",HTML.H5(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_comment"))})),"\n\n                                    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"f_byAuthor"))},function(){return["\n                                          ",HTML.SPAN({id:"byAuthor"},"\n                                              ",HTML.I({"class":"entypo user"}),"\n                                          "),"\n                                    "]}),"\n\n                                    ",Blaze.If(function(){return Spacebars.call(e.lookup("showDeleteOption"))},function(){return["\n                                          ",HTML.SPAN({id:"delete","class":"pull-left"},"\n                                              ",HTML.BUTTON({value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},type:"button","class":"btn btn-default icon",id:"deleteComment",name:"deleteComment"},"\n                                                  ",HTML.SPAN({"class":"entypo trash"}),"\n                                                      "),"\n                                          "),"\n                                    "]}),"\n\n                                      ",HTML.SPAN({"class":"badge marginT10"},"\n                                          ",Blaze._TemplateWith(function(){return{timestamp:Spacebars.call(Spacebars.dot(e.lookup("."),"f_timestamp"))}},function(){return Spacebars.include(e.lookupTemplate("Timestamp"))}),"\n                                      "),"\n                                    ",HTML.DIV({"class":"clearfix"}),"\n                                "),"\n                            "),"\n                            "]},function(){return["\n                                ",HTML.DIV({"class":"bs-callout bs-callout-warning"},"\n                                    No Public Comment(s) to show.\n                                "),"\n                            "]}),"\n                        "),"\n                    "),"\n                "),"\n\n                ",HTML.DIV({"class":"tab-pane fade",id:"private"},"\n                    ",HTML.DIV({"class":"panel-body"},"\n                        ",HTML.DIV({"class":"list-group"},"\n                            ",Blaze.Each(function(){return Spacebars.call(e.lookup("getPrivateComments"))},function(){return["\n                            ",HTML.DIV({"class":"comment"},"\n                                ",HTML.DIV({"class":"list-group-item"},"\n                                    ",HTML.H5(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"f_comment"))})),"\n\n                                    ",HTML.DIV({"class":"clearfix"}),"\n\n                                    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"f_byAuthor"))},function(){return["\n                                  ",HTML.SPAN({id:"byAuthor"},"\n                                      ",HTML.I({"class":"entypo user"}),"\n                                  "),"\n                                    "]}),"\n\n                                    ",Blaze.If(function(){return Spacebars.call(e.lookup("showDeleteOption"))},function(){return["\n                                  ",HTML.SPAN({id:"delete"},"\n                                      ",HTML.BUTTON({value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))},type:"button","class":"btn btn-default icon",id:"deleteComment",name:"deleteComment"},"\n                                          ",HTML.SPAN({"class":"entypo trash"}),"\n                                              "),"\n                                  "),"\n                                    "]}),"\n\n                                  ",HTML.SPAN({"class":"badge"},"\n                                      ",Blaze._TemplateWith(function(){return{timestamp:Spacebars.call(Spacebars.dot(e.lookup("."),"f_timestamp"))}},function(){return Spacebars.include(e.lookupTemplate("Timestamp"))}),"\n                                  "),"\n                                "),"\n                            "),"\n                            "]},function(){return["\n                            ",HTML.DIV({"class":"bs-callout bs-callout-warning"},"\n                                No Private Comment(s) to show.\n                            "),"\n                            "]}),"\n                        "),"\n                    "),"\n                "),"\n            "),"\n\n        "),"\n    ")})}(),function(){Template.__checkName("StatusLikeUnlike"),Template.StatusLikeUnlike=new Template("Template.StatusLikeUnlike",function(){var e=this;return[HTML.SPAN({id:"statusLikeUnlikeTemplate"},"\n      ",HTML.SPAN({id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postId"))}},"\n          ",HTML.SPAN({"class":"statusMessageLikeCount"},Blaze.View(function(){return Spacebars.mustache(e.lookup("getLikeCount"),Spacebars.dot(e.lookup("."),"postId"))})),"\n          ",HTML.SPAN("\n              ",HTML.BUTTON({"class":function(){return["btn btn  ",Spacebars.mustache(e.lookup("isLiked"),Spacebars.dot(e.lookup("."),"postId"),"like")]},id:"like",name:"like"},"\n                  ",HTML.Raw('<i class="entypo heart-empty"></i>'),"\n              "),"\n              ",HTML.BUTTON({"class":function(){return["btn btn  ",Spacebars.mustache(e.lookup("isLiked"),Spacebars.dot(e.lookup("."),"postId"),"unlike")]},id:"unlike",name:"unlike"},"\n                  ",HTML.Raw('<i class="entypo heart"></i>'),"\n              "),"\n          "),"\n          ",HTML.Raw('<div class="clearfix"></div>'),"\n      "),"\n  "),"\n\n    ",Blaze.View(function(){return Spacebars.mustache(e.lookup("init"),Spacebars.dot(e.lookup("."),"parentTemplate"),Spacebars.dot(e.lookup("."),"errorPrefix"))}),HTML.Raw("\n    <!--{{lastUpdated}}-->")]})}(),function(){Template.__checkName("StatusMessage"),Template.StatusMessage=new Template("Template.StatusMessage",function(){var e=this;return HTML.DIV({"class":"statusMessageCont",id:"statusMessageTemplate"},"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("postFetchStatus"),"VALID",!0)},function(){return["\n        ",HTML.DIV({"class":function(){return["statusMessageLeftCont ",Spacebars.mustache(e.lookup("getColor"))]}},"\n            ",HTML.DIV({id:"leftPanel","class":"leftPanel"},"\n                ",HTML.Comment(" Errors Starts "),"\n                ",HTML.DIV({"class":"statusError"},"\n                    ",HTML.DIV({id:"statusMessage-generic-error"}),"\n                    ",HTML.DIV({"class":"error-text hidden"},"\n                        ",HTML.SPAN({"class":"PS_1003"},"Post does not exist."),"\n                        ",HTML.SPAN({"class":"PS_1004"},"Post is under review."),"\n                    "),"\n                "),"\n                ",HTML.Comment(" Errors Ends "),"\n                ",HTML.DIV({"class":"statusMessageContent",id:"statusMessageContent"},"\n                    ",HTML.Comment('<div class="{{setFontClass getColor}}">'),"\n                    ",HTML.DIV("\n                        ",HTML.DIV({"class":"jumbotron pull-left statusMessage",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postId"))}},"\n                            ",HTML.SPAN({"class":"pull-left"},"\n                            ",Blaze.If(function(){return Spacebars.call(e.lookup("isPostAuthor"))},function(){return["\n                            ",HTML.I({"class":"entypo user"}),"\n                            "]}),"\n                            "),"\n                            ",HTML.DIV({id:"message"},"\n                                ",HTML.H2(Blaze.View(function(){return Spacebars.mustache(e.lookup("getMessage"))})),"\n                            "),"\n                        "),"\n                        ",HTML.DIV({id:"options"},"\n                            ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"postId")),errorPrefix:Spacebars.call("statusMessage"),parentTemplate:Spacebars.call("statusMessageTemplate")}},function(){return Spacebars.include(e.lookupTemplate("StatusLikeUnlike"))}),"\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("isExpires"),!1)},function(){return["\n                            ",HTML.SPAN({id:"bucketIt"},"\n                            ",HTML.BUTTON({type:"button","class":"btn addtoBucketIcon",id:"addToBucketButton",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"postId"))}},"\n                                ",HTML.I({"class":"entypo bucket"}),"\n                                ",HTML.I({"class":"entypo plus"}),"\n                            "),"\n                            "),"\n                            "]}),"\n                            ",Blaze.If(function(){return Spacebars.call(e.lookup("isPostAuthor"))},function(){return["\n                            ",HTML.SPAN({"class":""},"\n                                ",HTML.BUTTON({type:"button","class":"btn",id:"deletePostButton"},HTML.I({"class":"entypo trash"})),"\n                            "),"\n                            "]}),"\n                            ",Blaze.If(function(){return Spacebars.call(e.lookup("isExpires"))},function(){return["\n                            ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"postId")),expiryTime:Spacebars.call(e.lookup("expiryTime"))}},function(){return Spacebars.include(e.lookupTemplate("ExpiryCounter"))}),"\n                            ",Blaze.View(function(){return Spacebars.mustache(e.lookup("addExpiryTimer"))}),"\n                            "]}),"\n                            ",HTML.Comment("{{> Timestamp timestamp = getTimestamp}}"),"\n                        "),"\n                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isNotPostAuthor"),Spacebars.dot(e.lookup("."),"postId"))},function(){return["\n                        ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"postId")),postType:Spacebars.call("STATUS")}},function(){return Spacebars.include(e.lookupTemplate("ReportAbuse"))}),"\n                        "]}),"\n                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("isExpires"),!1)},function(){return["\n                        ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"postId"))}},function(){return Spacebars.include(e.lookupTemplate("AddToBucket"))}),"\n                        "]}),"\n                    "),"\n                "),"\n                ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"postId"))}},function(){return Spacebars.include(e.lookupTemplate("DeleteStatus"))}),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"statusMessageRightCont"},"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("isCommentAllowed"))},function(){return["\n            ",HTML.DIV({id:"rightPanel","class":"statusMessageComment"},"\n                ",Blaze._TemplateWith(function(){return{postId:Spacebars.call(Spacebars.dot(e.lookup("."),"postId"))}},function(){return Spacebars.include(e.lookupTemplate("StatusComment"))}),"\n            "),"\n            "]},function(){return["\n            ",HTML.DIV({id:"rightPanel","class":"bs-callout bs-callout-warning"},"\n                Comments are not allowed for this post.\n            "),"\n            "]}),"\n        "),"\n        ",HTML.DIV({"class":"modal fade",id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},"\n            ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n                ",HTML.DIV({"class":"modal-content"},"\n                "),"\n            "),"\n        "),"\n        "]},function(){return["\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("postFetchStatus"),"UNDER_REVIEW",!0)},function(){return["\n            ",HTML.DIV({"class":"alert-info"},"\n                ",HTML.SPAN("Post is under review."),"\n            "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("postFetchStatus"),"POST_NO_LONGER_EXIST",!0)},function(){return["\n            ",HTML.DIV({"class":"alert-info"},"\n                ",HTML.SPAN("Timesup! Post no longer exist."),"\n            "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),e.lookup("postFetchStatus"),"NOT_VALID",!0)},function(){return["\n            ",HTML.DIV({"class":"alert-info"},"\n                ",HTML.SPAN("Oops! Invalid link."),"\n            "),"\n            "]}),"\n        "]}),"\n    ")})}(),function(){Template.__checkName("Header"),Template.Header=new Template("Template.Header",function(){var e=this;return HTML.DIV({id:"headerTemplate"},"\n        ",HTML.NAV({"class":"navbar navbar-static-top navbar-default navbar-fixed-top",role:"navigation"},"\n            ",HTML.DIV({"class":"container-fluid"},"\n                ",HTML.Raw('<div class="letsleak-header-logo pull-left"><a href="/home" title="LetsLeak" alt="LetsLeak"></a> </div>'),"\n                ",HTML.DIV({"class":"navbar-header nav-header-icons pull-right"},"\n\n                    ",HTML.TABLE("\n                        ",HTML.TR("\n                            ",HTML.TD({id:"notification"},Spacebars.include(e.lookupTemplate("Notification"))),"\n                            ",HTML.TD("\n                                ",HTML.A({href:"/home/inbox"},"\n                                    ",HTML.Comment('<i data-hover="fa-inbox" class="fa fa-inbox"></i>'),"\n                                    ",HTML.DIV({"class":"header-icons icon-inbox"}),"\n                                    ",Spacebars.include(e.lookupTemplate("InboxCount")),"\n                                "),"\n                            "),"\n                            ",HTML.TD({"class":"bucketNav"},"\n                                ",HTML.Comment('<i class="entypo bucket" id="bucketOption"></i>'),"\n                                ",HTML.DIV({"class":"header-icons icon-bucket",id:"bucketOption"}),"\n                                ",HTML.DIV({"class":"hide",id:"bucketPopover"},"\n                                ",HTML.SPAN({id:"content"},"\n                                    ",HTML.UL("\n                                        ",HTML.LI("\n                                            ",HTML.Comment('<a href="/home/bucket" class="entypo bucket"></a>'),"\n                                            ",HTML.A({href:"/home/bucket"},"\n                                            ",HTML.SPAN({"class":"header-icons icon-bucket"}),"\n                                                "),"\n                                        "),"\n                                        ",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"user.bucket")}},"\n                                            ",HTML.Comment('<i class="entypo user"></i>\n                                            <i class="entypo bucket"></i>'),"\n                                            ",HTML.SPAN({"class":"header-icons icon-user-bucket"}),"\n                                        ")),"\n                                    "),"\n                                "),"\n                                "),"\n                            "),"\n                        "),"\n                    "),"\n                "),"\n                ",HTML.Raw("<!-- Collect the nav links, forms, and other content for toggling -->"),"\n                ",HTML.DIV({"class":"collapse navbar-collapse",id:"bs-example-navbar-collapse-1"},"\n\n                    ",HTML.UL({"class":"nav navbar-nav navbar-right"},"\n                        ",HTML.LI({"class":"dropdown"},"\n                            ",HTML.A({href:"#","class":"dropdown-toggle mobileMenu","data-toggle":"dropdown"},"\n                                ",HTML.SPAN({"class":"userName"}," Welcome ",Blaze.View(function(){return Spacebars.mustache(e.lookup("toCapitalize"),e.lookup("username"))}),HTML.Raw('<b class="caret"></b>')),"\n                                ",HTML.Raw('<span class="fa fa-bars"></span>'),"\n                            "),"\n                            ",HTML.UL({"class":"dropdown-menu"},"\n                                ",HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"settings")}},"Settings")),"\n                                ",HTML.Raw('<li class="divider"></li>'),"\n                                ",HTML.Raw('<li><a href="#" id="productTour">Product Tour</a></li>'),"\n                                ",HTML.LI(Blaze._TemplateWith(function(){return{key:Spacebars.call("FAQ"),message:Spacebars.call("Help"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})),"\n                                ",HTML.LI(Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),target:Spacebars.call("_blank"),message:Spacebars.call("Ground Rules")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})),"\n                                ",HTML.LI(Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),target:Spacebars.call("_blank"),message:Spacebars.call("Report Issue")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})),"\n                                ",HTML.Raw('<li class="divider"></li>'),"\n                                ",HTML.Raw('<li><a href="#" id="logout">Logout</a></li>'),"\n                            "),"\n                        "),"\n\n                    "),"\n                "),"\n                ",HTML.Raw("<!-- /.navbar-collapse -->"),"\n            "),"\n            ",HTML.Raw("<!-- /.container-fluid -->"),"\n        "),"\n    ")})}(),function(){Template.__checkName("ExpiryCounter"),Template.ExpiryCounter=new Template("Template.ExpiryCounter",function(){var e=this;return HTML.SPAN({id:"expiryCounterTemplate"},"\n        ",HTML.SPAN({"class":"expiryCounter"},"\n            ",HTML.Raw('<span class="fa fa-clock-o pull-right"></span>'),"\n            ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(e.lookup("formatExpiryTime"))})),"\n        "),"\n    ")})}(),function(){Template.__checkName("Timestamp"),Template.Timestamp=new Template("Template.Timestamp",function(){var e=this;return HTML.SPAN({id:"timestampTemplate"},"\n        ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("formatTime"),Spacebars.dot(e.lookup("."),"timestamp"))},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"isYearOld"))},function(){return["\n        ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"month"))})," ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"date"))})," ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"year"))})),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"isMonthly"))},function(){return["\n        ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"month"))})," ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"date"))})),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"isWeekly"))},function(){return["\n        ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"day"))})),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"isRecent"))},function(){return["\n        ",HTML.SPAN(Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"time"))})," ",Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"meridiem"))})),"\n        "]}),"\n        "]}),"\n    ")})}(),function(){Template.__checkName("Welcome"),Template.Welcome=new Template("Template.Welcome",function(){return HTML.Raw('<div id="welcomeTempalate">\n        <div class="modal fade" id="welcomeTour" tabindex="-1" role="dialog" aria-labelledby="mailBoxLable" aria-hidden="true">\n            <div class="modal-dialog modal-lg letsleak-tour">\n                <div class="modal-content">\n                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n                    <div class="bs-example">\n                        <div id="carousel-welcome-tour" class="carousel slide" data-ride="carousel">\n                            <ol class="carousel-indicators">\n                                <li data-target="#carousel-welcome-tour" data-slide-to="0" class="active"></li>\n                                <li data-target="#carousel-welcome-tour" data-slide-to="1" class="carousel-postMessageIcon"></li>\n                                <li data-target="#carousel-welcome-tour" data-slide-to="2" class="carousel-messageIcon"></li>\n                                <li data-target="#carousel-welcome-tour" data-slide-to="3" class="carousel-addUpdateBucketIcon"></li>\n                                <li data-target="#carousel-welcome-tour" data-slide-to="4" class="carousel-bucketIcon"></li>\n                                <li data-target="#carousel-welcome-tour" data-slide-to="5" class=""></li>\n                            </ol>\n                            <div class="carousel-inner">\n                                <div class="item active">\n                                    <img alt="Welcome" src="/images/tour/welcome.png">\n                                    <div class="carousel-caption">\n                                        <h3>how-d\'ye-do!, welcome to LetsLeak</h3>\n                                    </div>\n                                </div>\n                                <div class="item">\n                                    <img alt="Post Message" src="/images/tour/postMessage.png">\n                                    <!--<div class="carousel-caption">\n                                        <h3>Post a message</h3>\n                                    </div>-->\n                                </div>\n                                <div class="item">\n                                    <img alt="Messages" src="/images/tour/messages.png">\n                                    <!--<div class="carousel-caption">\n                                        <h3>Messages</h3>\n                                    </div>-->\n                                </div>\n                                <div class="item">\n                                    <img alt="Bukcets" src="/images/tour/addUpdateBucket.png">\n                                    <!--<div class="carousel-caption">\n                                        <h3>Add a bucket</h3>\n                                    </div>-->\n                                </div>\n                                <div class="item">\n                                    <img alt="Buckets" src="/images/tour/bucket.png">\n                                    <!--<div class="carousel-caption">\n                                        <h3>Here’s your bucket</h3>\n                                    </div>-->\n                                </div>\n                                <div class="item">\n                                    <img alt="Get Started!" src="/images/tour/getStarted.png">\n                                    <div class="carousel-caption">\n                                        <h3>Go ahead, LetsLeak!</h3>\n                                    </div>\n                                </div>\n                            </div>\n                            <a class="hide left carousel-control" href="#carousel-welcome-tour" role="button" data-slide="prev">\n                                <span class="glyphicon glyphicon-chevron-left"></span>\n                            </a>\n                            <a class="right carousel-control" href="#carousel-welcome-tour" role="button" data-slide="next">\n                                <span class="glyphicon glyphicon-chevron-right"></span>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>')})}(),function(){Template.__checkName("Inbox"),Template.Inbox=new Template("Template.Inbox",function(){var e=this;return HTML.DIV({id:"inboxTemplate"},HTML.Raw('\n\n        <!-- Errors Starts -->\n        <div id="inbox-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n        </div>\n        <!-- Errors Ends -->\n\n        <button type="button" class="btn btn-default pull-right" id="refreshButton">\n            <span class="entypo cycle"></span>\n        </button>\n        <div class="clearfix"></div>\n\n        '),Blaze.If(function(){return Spacebars.call(e.lookup("mailsExist"))},function(){return["\n        ",HTML.DIV({"class":"list-group"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("mails"))},function(){return["\n            ",HTML.A({href:"#","class":"list-group-item mail",id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"_id"))}},"\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("neq"),Spacebars.dot(e.lookup("."),"isArchived"),!0)},function(){return["\n                ",HTML.BUTTON({type:"button","class":"btn btn-secondary pull-left marginR20",id:"markAsRead"},"Read"),"\n                "]}),"\n                ",HTML.SPAN({"class":"pull-left"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"subject"))})),"\n                ",HTML.SPAN({"class":"pull-right"},Blaze._TemplateWith(function(){return{timestamp:Spacebars.call(Spacebars.dot(e.lookup("."),"timestamp"))}},function(){return Spacebars.include(e.lookupTemplate("Timestamp"))})),"\n                ",HTML.DIV({"class":"clearfix"}),"\n                ",HTML.Comment("{{this.shortDesc}}"),"\n            "),"\n            "]}),"\n        "),"\n        ",HTML.DIV({"class":"clearfix"}),"\n        "]},function(){return["\n        ",HTML.DIV({"class":"bs-callout bs-callout-warning"},"\n            Nothing to see here, move along baby!\n        "),"\n        "]}),"\n\n        ",HTML.DIV({"class":"modal fade",id:"mailBox",tabindex:"-1",role:"dialog","aria-labelledby":"mailBoxLable","aria-hidden":"true"},"\n            ",HTML.DIV({"class":"modal-dialog modal-lg"},"\n                ",HTML.DIV({"class":"modal-content"},"\n                    ",HTML.Raw('<!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->'),"\n                    ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("mailTemplate")),data:Spacebars.call(e.lookup("dataContext"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n                "),"\n            "),"\n        "),"\n    ")})}(),function(){Template.__checkName("AccountInvite"),Template.AccountInvite=new Template("Template.AccountInvite",function(){return HTML.Raw('<div id="accountInviteTemplate">\n        <h4>Invitation Request</h4>\n\n        <!-- Errors Starts -->\n        <div class="alert alert-success" role="alert" id="accountInvite-generic-success" style="display: none">\n            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n            <span>\n                Thanks for showing interest in LetsLeak. We have successfully registered your request.\n                Once it is approved, you will recieve an invitation via an email at <b><span id="requestEmailId"></span></b>.\n            </span>\n        </div>\n\n        <div id="accountInvite-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <span class="CA_101">Please enter a valid email address.</span>\n            <span class="105">It seems an account already exists with this email address or you have already requested for an invitation.</span>\n        </div>\n        <!-- Errors Ends -->\n\n        <form class="form-horizontal" role="form" id="accountInviteForm">\n            <div class="form-group" id="emailIdGroup">\n                <!--<label class="col-sm-2 control-label" for="emailId">Email address</label>-->\n                <div class="control-group">\n                    <input type="email" class="form-control" id="emailId" placeholder="Email address">\n                    <span class="error-text"></span>\n                    <span class="help-text hide"> </span>\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="pull-right">\n                    <button type="submit" class="btn btn-default btn-brand" id="getInvitationButton">Request Invite</button>\n                </div>\n            </div>\n        </form>\n\n        <div class="clearfix"></div>\n    </div>')
})}(),function(){Template.__checkName("CreateAccount"),Template.CreateAccount=new Template("Template.CreateAccount",function(){var e=this;return[HTML.Raw('<div class="landing-logo-hold fpassword">\n        <a href="/"> <div class="leak-logo-md"></div></a>\n    </div>\n    <div class="clearfix"></div>\n\n    '),HTML.DIV({id:"createAccountTemplate"},"\n        ",HTML.Raw('<a href="/"> <div class="leak-logo-sm">\n            <span></span>\n            <span></span>\n        </div></a>'),"\n\n        ",HTML.Raw("<h3>Create Account</h3>"),"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isValid"))},function(){return["\n        ",HTML.Comment(" Errors Starts "),"\n        ",HTML.DIV({id:"createAccount-generic-error"},"\n        "),"\n\n        ",HTML.DIV({"class":"error-text hidden"},"\n            ",HTML.SPAN({"class":"CA_101 CA_1001 CA_1002 CA_1003"},"You can't leave this empty."),"\n            ",HTML.SPAN({"class":"CA_102"},"Use at least 3 and maximum 15 characters.."),"\n            ",HTML.SPAN({"class":"CA_103"},"You can only use letters, numbers and underscore symbol."),"\n            ",HTML.SPAN({"class":"CA_104"},"Your password should contain at least one letter and one number."),"\n            ",HTML.SPAN({"class":"CA_105"},"Use at least 8 characters."),"\n            ",HTML.SPAN({"class":"CA_106"},"Passwords don't match. Try again!"),"\n            ",HTML.SPAN({"class":"CA_107"},"Use at least 5 characters."),"\n            ",HTML.SPAN({"class":"CA_108 105"},"Username already taken."),"\n            ",HTML.SPAN({"class":"CA_1004"},"Sorry, but it seems the invitation code is invalid or already used."),"\n        "),"\n        ",HTML.Comment(" Errors Ends "),"\n\n        ",HTML.FORM({"class":"form-horizontal",role:"form",id:"createAccountForm"},"\n\n            ",HTML.Comment(" Account name starts "),"\n            ",HTML.DIV({"class":"form-group",id:"accountNameGroup"},"\n                ",HTML.Comment('<label class="control-label" for="accountName">Choose Your user name</label>'),"\n                    ",HTML.INPUT({type:"text",title:"Username","class":"form-control",id:"accountName",placeholder:"Username",maxlength:"15",autofocus:""}),"\n                    ",HTML.SPAN({"class":"error-text"}),"\n                    ",HTML.SPAN({"class":"help-text hide"},"\n                          Use at least 3 and maximum 15 characters. You can only use letters, numbers and underscore symbol.\n                    "),"\n            "),"\n            ",HTML.Comment(" Account name end "),"\n\n            ",HTML.Comment(" Password starts "),"\n            ",HTML.DIV({"class":"form-group",id:"passwordGroup"},"\n                ",HTML.Comment('<label class="control-label" for="password">Create a password</label>'),"\n\n                ",HTML.DIV("\n                    ",HTML.INPUT({type:"password",title:"Password","class":"form-control",id:"password",placeholder:"Password"}),"\n                    ",HTML.SPAN({"class":"error-text"}),"\n                    ",HTML.SPAN({"class":"help-text hide"},"\n                          Use at least 8 characters. Your password should contain at least one letter and one number.\n                      "),"\n                "),"\n            "),"\n            ",HTML.Comment(" Password ends "),"\n\n            ",HTML.Comment(" Confirm Password starts "),"\n            ",HTML.DIV({"class":"form-group",id:"confirmPasswordGroup"},"\n                ",HTML.Comment('<label class=" control-label" for="confirmPassword">Confirm your password</label>'),"\n\n                ",HTML.DIV("\n                    ",HTML.INPUT({type:"password","class":"form-control",id:"confirmPassword",placeholder:"Confirm password"}),"\n                    ",HTML.SPAN({"class":"error-text"}),"\n                "),"\n            "),"\n            ",HTML.Comment(" Confirm Password ends "),"\n\n            ",HTML.Comment(" Security Pin starts "),"\n            ",HTML.DIV({"class":"form-group",id:"securityPinGroup"},"\n                ",HTML.Comment('<label class="control-label" for="securityPin">Create your Security Pin</label>'),"\n\n                ",HTML.DIV({"class":"modal fade",id:"securityPinModal",tabindex:"-1",role:"dialog","aria-labelledby":"mySmallModalLabel","aria-hidden":"true"},"\n                    ",HTML.DIV({"class":"modal-dialog modal-sm"},"\n                        ",HTML.DIV({"class":"modal-content"},"\n                            ",HTML.DIV({"class":"modal-header"},"\n                                ",HTML.BUTTON({type:"button","class":"close pull-right","data-dismiss":"modal","aria-hidden":"true"},HTML.CharRef({html:"&times;",str:"×"})),"\n                                ",HTML.H4({"class":"modal-title",id:"myModalLabel"},"Usage of security pin"),"\n                            "),"\n                            ",HTML.DIV({"class":"modal-body"},"\n                                The security pin is used in case you forget your password.\n                                You can always change the security pin after creating the account.",HTML.BR(),"\n                                LetsLeak requests to make sure you keep it safe and do not share with anyone.\n                            "),"\n                            ",HTML.DIV({"class":"modal-footer"},"\n                                ",HTML.BUTTON({type:"button","class":"btn btn-primary","data-dismiss":"modal"},"Ok"),"\n                            "),"\n                        "),"\n                    "),"\n                "),"\n                ",HTML.DIV("\n                    ",HTML.INPUT({type:"password",title:"Security pin","class":"form-control pull-left",id:"securityPin",placeholder:"Security pin"}),"\n                    ",HTML.I({"class":"fa fa-info pull-right",id:"securityInfo","data-toggle":"modal","data-target":"#securityPinModal"}),"\n                    ",HTML.SPAN({"class":"error-text"}),"\n                    ",HTML.SPAN({"class":"help-text hide"},"\n                          Use at least 5 characters.\n                      "),"\n                "),"\n            "),"\n            ",HTML.Comment(" Security Pin ends "),"\n\n            ",HTML.DIV({"class":"form-group"},"\n                ",HTML.BUTTON({type:"submit","class":"btn btn-default btn-brand pull-right",id:"createAccountButton"},"Create account\n                "),"\n            "),"\n        "),"\n        "]},function(){return["\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("isValidCode"))},function(){return["\n            ",HTML.DIV({"class":"alert-info"},"\n                ",HTML.SPAN("Oops! Account already registered with this email-id."),"\n            "),"\n        "]},function(){return["\n            ",HTML.DIV({"class":"alert-info"},"\n                ",HTML.SPAN("Oops! Invalid invitation code."),"\n            "),"\n        "]}),"\n        "]}),"\n    ")]})}(),function(){Template.__checkName("ForgotPassword"),Template.ForgotPassword=new Template("Template.ForgotPassword",function(){var e=this;return[HTML.Raw('<div class="landing-logo-hold fpassword">\n        <a href="/"> <div class="leak-logo-md"></div></a>\n    </div>\n    <div class="clearfix"></div>\n\n    '),HTML.DIV({id:"forgotPasswordTemplate"},"\n        ",HTML.Raw('<a href="/"> <div class="leak-logo-sm">\n            <span></span>\n            <span></span>\n        </div></a>'),"\n\n            ",HTML.Raw("<h3>Forgot Password</h3>"),"\n\n            ",HTML.Raw("<h6>In case you forgot your password, please provide LetsLeak with the following details to reset your password.</h6>"),"\n\n        ",HTML.Raw("<!-- Errors Starts -->"),"\n        ",HTML.DIV({"class":"alert alert-success",role:"alert",id:"forgotPassword-generic-success",style:"display: none"},"\n            Your password has been reset successfully. Please ",Blaze._TemplateWith(function(){return{key:Spacebars.call("SignIn"),message:Spacebars.call("Sign in")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," to access your account.\n        "),"\n\n        ",HTML.Raw('<div id="forgotPassword-generic-error">\n        </div>'),"\n\n        ",HTML.DIV({"class":"error-text hidden"},"\n            ",HTML.Raw('<span class="FP_101 A_1004">You can\'t leave this empty.</span>'),"\n            ",HTML.Raw('<span class="FP_102 A_1005">Your password should contain at least one letter and one number.</span>'),"\n            ",HTML.Raw('<span class="FP_103 A_1006">Use at least 8 characters.</span>'),"\n            ",HTML.Raw('<span class="FP_104">Passwords don\'t match. Try again!</span>'),"\n            ",HTML.Raw('<span class="FP_105">Use at least 5 characters.</span>'),"\n            ",HTML.Raw('<span class="A_1001">Username provided is incorrect or invalid.</span>'),"\n            ",HTML.SPAN({"class":"A_1003"},"It seems that the Security Pin you entered is incorrect. In case you forgot your Security Pin, visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"."),"\n            ",HTML.Raw('<!--<span class="A_1004">You can\'t leave password empty.</span>-->'),"\n        "),"\n        ",HTML.Raw("<!-- Errors Ends -->"),"\n\n        ",HTML.Raw('<form class="form-horizontal" role="form" id="forgotPasswordForm">\n            <!-- user name starts -->\n            <div class="form-group" id="userNameGroup">\n                <!--<label class="col-sm-2 control-label" for="userName">User Name</label>-->\n                    <input type="text" class="form-control" title="Username" id="userName" placeholder="Username" maxlength="15" autofocus="">\n                    <span class="error-text"></span>\n                    <span class="help-text hide">\n                     Enter your LetsLeak username.\n                    </span>\n            </div>\n            <!-- user name ends -->\n\n            <!-- securityPin starts -->\n            <div class="form-group" id="securityPinGroup">\n                <!--<label class="col-sm-2 control-label" for="securityPin">Security Pin</label>-->\n                    <input type="password" class="form-control" title="Security pin" id="securityPin" placeholder="Security Pin">\n                    <span class="error-text"></span>\n                    <span class="help-text hide">\n                        Enter your Security Pin.\n                    </span>\n            </div>\n            <!-- securityPin ends -->\n\n            <!-- newPassword starts -->\n            <div class="form-group" id="newPasswordGroup">\n                <!--<label class="col-sm-2 control-label" for="newPassword">New Password</label>-->\n                    <input type="password" class="form-control" title="New password" id="newPassword" placeholder="New password">\n                    <span class="error-text"></span>\n                    <span class="help-text hide">\n                        Use at least 8 characters. Your password should contain at least one letter and one number.\n                    </span>\n            </div>\n            <!-- newPassword ends -->\n\n            <!-- confirmNewPassword starts -->\n            <div class="form-group" id="confirmNewPasswordGroup">\n                <!--<label class="col-sm-2 control-label" for="confirmNewPassword">Confirm New Password</label>-->\n                    <input type="password" class="form-control" id="confirmNewPassword" placeholder="Confirm new password">\n                    <span class="error-text"></span>\n\n            </div>\n            <!-- confirmNewPassword ends -->\n\n            <div class="form-group">\n                    <button type="submit" class="btn btn-default btn-brand pull-right" id="requestResetButton">Request Reset</button>\n            </div>\n        </form>'),"\n        ",HTML.Raw("<!--{{> Footer }}-->"),"\n        ")]})}(),function(){Template.__checkName("Login"),Template.Login=new Template("Template.Login",function(){return HTML.Raw('<div id="loginTemplate">\n        <h4>Login</h4>\n        <!-- Errors Starts -->\n        <div id="login-generic-error">\n        </div>\n\n        <div class="error-text hidden">\n            <span class="L_101">You can\'t leave this empty.</span>\n            <span class="L_102 A_1001">Username provided is incorrect or invalid.</span>\n            <span class="L_103 400 A_1003">Username or password you entered is incorrect.</span>\n        </div>\n        <!-- Errors Ends -->\n\n        <form class="form-horizontal" role="form" id="loginForm">\n            <!-- user name starts -->\n            <div class="form-group" id="usernameGroup">\n                <!--<label class="col-sm-2 control-label" for="username">User Name</label>-->\n                <div class="control-group">\n                    <input type="text" class="form-control" id="username" placeholder="Username">\n                    <span class="error-text"></span>\n                    <span class="help-text hide"> </span>\n                </div>\n            </div>\n            <!-- user name ends -->\n\n            <!-- password starts -->\n            <div class="form-group" id="passwordGroup">\n                <!--<label class="col-sm-2 control-label" for="password">Password</label>-->\n                <div class="control-group">\n                    <input type="password" class="form-control" id="password" placeholder="Password">\n                    <span class="error-text"></span>\n                    <span class="help-text hide"> </span>\n                </div>\n            </div>\n            <!-- password ends -->\n\n            <div class="form-group">\n                <div class="login-btn pull-right">\n                    <button type="submit" class="btn btn-default btn-brand" id="loginButton">Login</button>\n                </div>\n\n                <div id="forgotPassword" class="pull-left">\n                    <a href="/forgotPassword">Forgot Password</a>\n                </div>\n\n            </div>\n        </form>\n\n\n    </div>')})}(),function(){Template.__checkName("Links"),Template.Links=new Template("Template.Links",function(){var e=this;return[Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"/")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"SignIn")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"AboutUs")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/whyLetsLeak"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"GroundRules")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/GroundRules"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"FAQ")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/FAQs"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"TnC")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/TnC"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"Report")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/Report"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"Privacy")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/Privacy"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"ContactUs")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/ContactUs"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]}),"\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("eq"),Spacebars.dot(e.lookup("."),"key"),"More")},function(){return["\n    ",HTML.A({target:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"target"))},href:"/whyLetsLeak"},Blaze.View(function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"message"))})),"\n    "]})]})}(),function(){Template.__checkName("_AboutUs"),Template._AboutUs=new Template("Template._AboutUs",function(){var e=this;return HTML.DIV({id:"aboutUsTemplate"},HTML.Raw("\n        <header> Why LetsLeak</header>\n        "),HTML.DIV({"class":"description"},"\n            ",HTML.Raw("<p>\n                All of us have been in the situation where we have had to hear or say, “Dude, please don’t tell this to anyone, and if you do, don’t say you heard this from me”. Many a times, we resort to not speaking in fear of judgement and reactions of others’. Despite a myriad of social networking websites there are instances when we keep things to ourselves. In fact, in our humble opinion, this could also be a result of pitching ourselves as a glitch-free untainted awesome public figure.\n            </p>"),"\n            ",HTML.Raw("<p>\n                On these lines, we decided, it is time that there was a platform where there are no friends, no foes. A place where you can confess, gossip and find the outlet for the Mr. Hyde in us, when the people around us only know of the Dr. Jekyll.\n            </p>"),"\n            ",HTML.P("\n                However, neither is our intention to harm anyone or spread malicious rumours, as can be very easy to do in an anonymous platform. Anonymity is a very powerful tool. But, as they say with great power comes great responsibility. Hence, we have certain ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," which we expect our users to follow at times. Go ahead, LetsLeak ",HTML.Raw("<i>Naughty nothings, Silly somethings</i>"),".\n            "),"\n        "),"\n    ")}),Template.__checkName("AboutUs"),Template.AboutUs=new Template("Template.AboutUs",function(){var e=this;return Blaze._TemplateWith(function(){return{templateName:Spacebars.call("_AboutUs")}},function(){return Spacebars.include(e.lookupTemplate("Read"))})})}(),function(){Template.__checkName("_ContactUs"),Template._ContactUs=new Template("Template._ContactUs",function(){return HTML.Raw('<div id="contactUsTemplate">\n  	<header>Contact Us</header>\n  	<!--We will be more than happy to hear from you.-->\n      <div class="contact-icons">\n  	<div id="email">\n        <i class="fa fa-envelope"></i>\n  		<span>Reach us @ </span> <a target="_blank" href="mailto:contactus@letsleak.com">contactus@letsleak.com</a>\n  	</div>\n  	<!--<div id="fb">\n        <i class="fa fa-facebook"></i>\n  		<span>Like us on Facebook </span> <a target="_blank" href="mailto:contactus@letsleak.com">contactus@letsleak.com</a>\n  	</div>\n  	<div id="twitter">\n        <i class="fa fa-twitter"></i>\n  		<span>Follow us on Twitter </span> <a target="_blank" href="mailto:contactus@letsleak.com">contactus@letsleak.com</a>\n  	</div>-->\n      </div>\n  </div>')}),Template.__checkName("ContactUs"),Template.ContactUs=new Template("Template.ContactUs",function(){var e=this;return Blaze._TemplateWith(function(){return{templateName:Spacebars.call("_ContactUs")}},function(){return Spacebars.include(e.lookupTemplate("Read"))})})}(),function(){Template.__checkName("_FAQ"),Template._FAQ=new Template("Template._FAQ",function(){var e=this;return HTML.DIV({id:"faqTemplate"},HTML.Raw("\n        <header>FAQs</header>\n        "),HTML.DIV({"class":"description"},"\n            ",HTML.UL("\n                ",HTML.LI("\n                    ",HTML.Raw('<span class="question">What can I do at LetsLeak?</span>'),"\n                    ",HTML.SPAN({"class":"answer"},"\n                        ",HTML.P("\n                            If there is something itching to get out of you, you can post it ",Blaze._TemplateWith(function(){return{key:Spacebars.call("/"),message:Spacebars.call("here")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),". Please ensure that you follow the ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," (basically don’t post any threats, false or malicious information and you are good to go). You have the choice to open or close comments for your post and opt-for whether you want the post to vanish (using our expiry time feature).\n                        "),"\n                        ",HTML.Raw('<p>\n                            You can surf through the stream of leaks that flows in and like others’ post by clicking on <i class="entypo heart-empty"></i>beneath every post.\n                        </p>'),"\n                        ",HTML.Raw('<p>\n                            If there are some posts by other fellow users which you particularly like, you can bucket <span class="btn addtoBucketIcon"><span class="entypo bucket"></span><span class="entypo plus"></span></span> them so as to visit them later. You can create a private bucket that is visible only to you, a bucket that others can follow and a bucket to which others can add to.\n                            You can read through your bucket-ed collection at leisure. Follow other public buckets and suggest additions to others’ buckets.\n                        </p>'),"\n                        Go ahead, LetsLeak ",HTML.Raw("<i>Naughty nothings, Silly somethings</i>"),".\n                    "),"\n                "),"\n                ",HTML.Raw('<li>\n                    <span class="question">How can I create an account on LetsLeak?</span>\n                    <span class="answer">\n                        <p>LetsLeak is invitation based. You can drop your email-id in the request for invitation section. You will receive an invitation on the email-id provided by you with an invitation code. Only one account can be created for every email-id.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">Help, it shows Invitation code already used?</span>\n                    <span class="answer">\n                        <p>\n                            Either you or someone else has already used the invitation code to create an account with the concerned email-id.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">What is security pin?</span>\n                    <span class="answer">\n                        <p>LetsLeak stores your username linked to the email-id which was used to request an invitation in an encrypted manner to avoid LetsLeak team or any third-party individual to know your identity. Hence, incase you forget your password the security pin, provided at the time of account creation, helps you to reset your password. You can also update the security pin after creating an account.</p>\n                    </span>\n                </li>'),"\n                ",HTML.LI("\n                    ",HTML.Raw('<span class="question">I forgot my password and my secrity pin, Help?</span>'),"\n                    ",HTML.SPAN({"class":"answer"},"\n                        ",HTML.P("Please visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"."),"\n                    "),"\n                "),"\n                ",HTML.LI("\n                    ",HTML.Raw('<span class="question">Why did I get an email from LetsLeak, ‘Forgot LetsLeak Account Info Assistant!’?</span>'),"\n                    ",HTML.SPAN({"class":"answer"},"\n                        You or somebody on your behalf used ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," stating that you forgot your Security Pin and Password. Using the Security Pin provided in the email, you can update your Password.\n                    "),"\n                "),"\n                ",HTML.Raw('<li>\n                    <span class="question">Who can see what I post?</span>\n                    <span class="answer">\n                        <p>\n                            Your posts are public and anyone can view your post. But, in keeping with the ideology of LetsLeak, no one knows who posted it.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">What is Expiry Time?</span>\n                    <span class="answer">\n                        <p>You can enable the Expiry Time feature to allow your posts to exist only for some time (between 23h 59min to 0h 1min). As soon as the timer hits zero, the post will not be visible again.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">Who can comment on my post?</span>\n                    <span class="answer">\n                        <p>If you want others to comment on your posts, you can choose the appropriate option at the top while posting. Comments can be private or public.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">What is a public and private comment?</span>\n                    <span class="answer">\n                        <p>If the author (person who has written the post) has allowed comments on a post, anyone can comment on the it. A public comment will be visible to everyone. A private comment will only be visible to the author of the concerned post and the user who has written the comment. As of now, the author of the post can reply back only as a public comment.</p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">Who can delete comments on a post?</span>\n                    <span class="answer">\n                        <p>\n                            The author (person who has written the post) has the right to delete all/any comments. The user who has written a comment can only delete their own comment.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">How can I report inappropriate content?</span>\n                    <span class="answer">\n                        <p>On top of every post there is a Report Abuse link. On clicking it, a window will appear where you can choose why you think this post is inappropriate. Choose and submit.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">What happens once I Report Abuse on a post?</span>\n                    <span class="answer">\n                        <p>\n                            LetsLeak waits for some threshold number of abusive reports regarding the post. Once a considerable number of users Report Abuse on a post, it is brought under the manual review panel which then examine the post and decide if it was an abusive post or falsely marked.\n                        </p>\n                        <p>\n                            In case that inappropriate content is found, a warning mail is sent to the author of the post. If repeated reports are obtained against a particular user, the account is blocked permanently.\n                        </p>\n                        <p>\n                            However if a post is falsely reported, a warning mail is sent to the reporter(s) requesting them to be more cautious in future. If the account user still continues to raise false Report Abuses then an action as harsh as permanently blocking the account may be taken.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">What is a bucket?</span>\n                    <span class="answer">\n                        <p>A bucket is where you can store a collection of posts that you like. You can bucket your own posts or by others. You can create a public or private bucket. You can also follow buckets created by other users.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">What is a public or private bucket?</span>\n                    <span class="answer">\n                        <p>A public bucket is visible to everyone. Further, while creating the bucket it has an option to allow others to add posts. On the contrary, if others cannot add posts to the bucket, followers will only get notification whenever a post is added to the bucket. A private bucket is a bucket that is visible only to you when you are logged into your LetsLeak account.</p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">How can I add a post to a bucket?</span>\n                    <span class="answer">\n                        <p>To add a post to a bucket you should either have created one or must be following a bucket with allow others to add a post option. You can then click on <span class="btn addtoBucketIcon"><span class="entypo bucket"></span><span class="entypo plus"></span></span> present below every post, which opens a window where you select the bucket to which you want to add the post.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">I don\'t see add to a bucet <span class="btn addtoBucketIcon"><span class="entypo bucket"></span><span class="entypo plus"></span></span> option on a post. Why?</span>\n                    <span class="answer">\n                        <p>\n                            A post with an expiry time set by the author cannot be added to bucket. That\'s why you dont see the <span class="btn addtoBucketIcon"><span class="entypo bucket"></span><span class="entypo plus"></span></span> option.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.LI("\n                    ",HTML.Raw('<span class="question">What can I not do at LetsLeak?</span>'),"\n                    ",HTML.SPAN({"class":"answer"},"\n                        ",HTML.P("See ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules")}
},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"."),"\n                    "),"\n                "),"\n                ",HTML.LI("\n                    ",HTML.Raw('<span class="question">I have a suggestion, how can I contact LetsLeak?</span>'),"\n                    ",HTML.SPAN({"class":"answer"},"\n                        ",HTML.P("We will be more than happy to hear any comments or suggestions. Visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and choose the appropriate option from the dropdown menu. Also you can visit ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n                        "),"\n                    "),"\n                "),"\n                ",HTML.LI("\n                    ",HTML.Raw('<span class="question">Anything else I should know?</span>'),"\n                    ",HTML.SPAN({"class":"answer"},"\n                        ",HTML.P("You can visit the pages ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),", ",Blaze._TemplateWith(function(){return{key:Spacebars.call("TnC"),message:Spacebars.call("Terms and Conditions")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Privacy"),message:Spacebars.call("Privacy")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"."),"\n                    "),"\n                "),"\n            "),"\n        "),"\n    ")}),Template.__checkName("FAQ"),Template.FAQ=new Template("Template.FAQ",function(){var e=this;return Blaze._TemplateWith(function(){return{templateName:Spacebars.call("_FAQ")}},function(){return Spacebars.include(e.lookupTemplate("Read"))})})}(),function(){Template.__checkName("_GroundRules"),Template._GroundRules=new Template("Template._GroundRules",function(){var e=this;return HTML.DIV({id:"groundRulesTemplate"},HTML.Raw("\n        <header>Ground Rules</header>\n        "),HTML.DIV({"class":"description"},"\n            ",HTML.Raw("<p>\n                The intention of LetsLeak is not to harm anyone or spread malicious rumours, as can be very easy to do in an anonymous platform. Anonymity is a very powerful tool. But, as they say with great power comes great responsibility.\n\n            </p>"),"\n            ",HTML.Raw("<p><b>We request our users to follow some guidelines for the benefit of the entire LetsLeak community including you.</b></p>"),"\n\n            ",HTML.Raw('<span class="question">Do’s</span>'),"\n            ",HTML.OL("\n                ",HTML.Raw("<li><b>Be anonymous for good!</b> Be responsible and respect others.</li>"),"\n                ",HTML.LI(HTML.Raw("<b>Report abuse.</b>")," If you came across any post which you feel is inappropriate, offensive, hurts your or others’ sentiments, in short if it is not in the spirit of the LetsLeak community, please Report Abuse or ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),". Such behaviour is not expected and we take serious action against it."),"\n                ",HTML.Raw("<li><b>Be yourself.</b> LetsLeak keeps your identity way apart from what you want to share, so be yourself, share what you feel and respect others.</li>"),"\n                ",HTML.LI(Blaze._TemplateWith(function(){return{key:Spacebars.call("SignIn"),message:Spacebars.call("Sign in")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," and start writing."),"\n            "),"\n\n            ",HTML.Raw('<span class="question">Dont\'s</span>'),"\n            ",HTML.Raw("<ol>\n                <li><b>Dont bully or harass people.</b> Although you are anonymous, it does not give you the right to make fun of others, abuse, threaten, defame, bully or harass anyone.\n                </li>\n                <li><b>Don't post hate speech.</b> While we expect and believe that it is positive, that people will use LetsLeak to challenge institutions, events, beliefs, ideas and practices, you agree not to post any hate speech, including secrets that attack people based on their race, ethnicity, national origin, religion, sex, gender, sexual orientation, disability and/or medical condition.\n                </li>\n                <li><b>Don't post spam or harmful or illegal content.</b> Any content that is illegal or may cause any harm to, or violate the rights of, other people.</li>\n            </ol>"),"\n\n            ",HTML.Raw('<span class="question">In addition to the limitations set above, by using LetsLeak, you agree not to:</span>'),"\n            ",HTML.OL("\n                ",HTML.Raw("<li>use any data mining, robots or similar data gathering and extraction methods in connection with LetsLeak.</li>"),"\n                ",HTML.Raw("<li>interfere with the operation of LetsLeak or with any other person’s use of it.</li>"),"\n                ",HTML.Raw("<li>impose an unreasonable burden on LetsLeak or the network.</li>"),"\n                ",HTML.Raw("<li>breach or attempt to breach, the security of LetsLeak.</li>"),"\n                ",HTML.Raw("<li>gain unauthorized access to LetsLeak or any part thereof.</li>"),"\n                ",HTML.LI("use LetsLeak for any purpose that is beyond the scope of LetsLeak’s expected use, illegal or prohibited by these ",Blaze._TemplateWith(function(){return{key:Spacebars.call("TnC"),message:Spacebars.call("Terms and Conditions")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"."),"\n                ",HTML.Raw("<li>to solicit any activity, unlawful or otherwise, that infringes LetsLeak’s rights or the rights of any other party.</li>"),"\n                ",HTML.Raw("<li>use LetsLeak to transmit spam, junk email, bulk email, promotions or other solicitations, content that includes any advertising or marketing materials.</li>"),"\n                ",HTML.Raw("<li>use LetsLeak for content that may be deemed unlawful, threatening, harassing, racist, abusive, libelous, pornographic, vulgar, defamatory, obscene, indecent or otherwise inappropriate, including any messages constituting or encouraging criminal conduct content that violates or infringes on our legal rights or copyrights, or the legal rights or copyrights of others or viruses, bugs, worms, or any other computer code that may harm a network, computer, server, hardware, software, or telephone equipment.</li>"),"\n            "),"\n\n\n                ",HTML.Raw('<span class="question">LetsLeak reserves the right to:</span>'),"\n                ",HTML.Raw("<ol>\n                    <li>delete any post or account which does not obey the ground rules.</li>\n                    <li>update policies over time, such updates will be informed to all users via an appropriate medium. </li>\n                    <li>not be responsible for what its users post and not guarantee that LetsLeak will be free from content that violates the the above ground rules. </li>\n                    <li>not be obligated to monitor or remove content posted by users. </li>\n                </ol>"),"\n\n            ",HTML.Raw("<p>\n                Enforcement of these guidelines is solely at LetsLeak’s discretion. Failure to enforce these guidelines does not constitute a waiver of the right to enforce them, nor do these guidelines create any obligations to users or any third party beneficiary rights or private rights of action.\n            </p>"),"\n        "),"\n\n    ")}),Template.__checkName("GroundRules"),Template.GroundRules=new Template("Template.GroundRules",function(){var e=this;return Blaze._TemplateWith(function(){return{templateName:Spacebars.call("_GroundRules")}},function(){return Spacebars.include(e.lookupTemplate("Read"))})})}(),function(){Template.__checkName("_Privacy"),Template._Privacy=new Template("Template._Privacy",function(){var e=this;return HTML.DIV({id:"privacyTemplate"},HTML.Raw("\n        <header>Privacy</header>\n        "),HTML.DIV({"class":"description"},"\n            ",HTML.P("\n                LetsLeak is committed to protecting your privacy and the security of personally identifying information, including yours. By using the LetsLeak you consent to these ",Blaze._TemplateWith(function(){return{key:Spacebars.call("TnC"),message:Spacebars.call("Terms and Conditions")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),". LetsLeak is not responsible for the content on, or privacy practices, of any non-LetsLeak entity, website, or service to which the it links or that links to LetsLeak.\n            "),"\n            ",HTML.Raw("<p>\n                LetsLeak generally collects very little information that personally identifies you, which is your email-id. LetsLeak then requires you to create a username and password. This email address is only used to notify you about our developments or news and is never exposed to any other user using LetsLeak and neither sold to any third party.\n            </p>"),"\n            ",HTML.Raw("<p>However, if due to legal issues, the law asks LetsLeak to provide the account details of users posting inappropriate content, LetsLeak will provide the details.\n            </p>"),"\n        "),"\n    ")}),Template.__checkName("Privacy"),Template.Privacy=new Template("Template.Privacy",function(){var e=this;return Blaze._TemplateWith(function(){return{templateName:Spacebars.call("_Privacy")}},function(){return Spacebars.include(e.lookupTemplate("Read"))})})}(),function(){Template.__checkName("Read"),Template.Read=new Template("Template.Read",function(){var e=this;return HTML.DIV({id:"readTemplate"},"\n        ",HTML.DIV({"class":"staticHeader"},"\n        ",HTML.DIV({id:"options-panel"},"\n            ",HTML.UL({"class":"nav nav-pills nav-stacked"},"\n                ",HTML.Raw('<div class="letsleak-header-logo pull-left marginR20"><a href="/home" title="LetsLeak" alt="LetsLeak"></a> </div>'),"\n                ",HTML.LI({id:"aboutus-li",panel:"AboutUs"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("AboutUs"),message:Spacebars.call("Why LetsLeak")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                "),"\n                ",HTML.LI({id:"groundrules-li",panel:"GroundRules"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                "),"\n                ",HTML.LI({id:"faq-li",panel:"FAQ"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("FAQ"),message:Spacebars.call("FAQ")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                "),"\n                ",HTML.LI({id:"tnc-li",panel:"TnC"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("TnC"),message:Spacebars.call("TnC")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                "),"\n                ",HTML.LI({id:"privacy-li",panel:"Privacy"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Privacy"),message:Spacebars.call("Privacy")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                "),"\n                ",HTML.LI({id:"report-li",panel:"Report"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                "),"\n                ",HTML.LI({id:"contactus-li",panel:"ContactUs"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                "),"\n            "),"\n        "),"\n            ",HTML.Raw('<div class="staticMobileMenu">\n                <div class="letsleak-header-logo pull-left"><a href="/home" title="LetsLeak" alt="LetsLeak"></a> </div>\n            </div>'),"\n            ",HTML.DIV({"class":"staticMobileMenu pull-right",id:"bs-example-navbar-collapse-1"},"\n                ",HTML.UL({"class":"nav navbar-nav navbar-right"},"\n                    ",HTML.LI({"class":"dropdown"},"\n                        ",HTML.Raw('<a href="#" class="dropdown-toggle mobileMenu" data-toggle="dropdown">\n                            <span class="entypo list"></span>\n                        </a>'),"\n                        ",HTML.UL({"class":"dropdown-menu"},"\n                            ",HTML.LI({id:"aboutus-li",panel:"AboutUs"},"\n                                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("AboutUs"),message:Spacebars.call("Why LetsLeak")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                            "),"\n                            ",HTML.LI({id:"groundrules-li",panel:"GroundRules"},"\n                                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                            "),"\n                            ",HTML.LI({id:"faq-li",panel:"FAQ"},"\n                                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("FAQ"),message:Spacebars.call("FAQ")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                            "),"\n                            ",HTML.LI({id:"tnc-li",panel:"TnC"},"\n                                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("TnC"),message:Spacebars.call("TnC")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                            "),"\n                            ",HTML.LI({id:"privacy-li",panel:"Privacy"},"\n                                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Privacy"),message:Spacebars.call("Privacy")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                            "),"\n                            ",HTML.LI({id:"report-li",panel:"Report"},"\n                                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                            "),"\n                            ",HTML.LI({id:"contactus-li",panel:"ContactUs"},"\n                                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                            "),"\n                        "),"\n                    "),"\n\n                "),"\n            "),"\n        "),"\n\n        ",HTML.DIV({id:"read-container-panel","class":"pull-left"},"\n            ",Blaze._TemplateWith(function(){return{template:Spacebars.call(Spacebars.dot(e.lookup("."),"templateName"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n    '))})}(),function(){Template.__checkName("_Report"),Template._Report=new Template("Template._Report",function(){return HTML.DIV({id:"reportTemplate"},HTML.Raw("\n        <header>Report a Problem</header>\n\n        "),HTML.DIV({"class":"description"},"\n\n            ",HTML.Raw("<!-- Errors Starts -->"),"\n            ",HTML.Raw('<div class="alert alert-success" role="alert" id="report-generic-success" style="display: none">\n                Your request has been successfully submitted.\n            </div>'),"\n\n            ",HTML.Raw('<div id="report-generic-error">\n            </div>'),"\n\n            ",HTML.Raw('<div class="error-text hidden">\n                <span class="R_101 R_1004 R_1005">You can\'t leave this empty.</span>\n                <span class="R_102">Email address is invalid.</span>\n                <span class="R_1003">Username is invalid.</span>\n                <span class="R_1006 R_103">Inappropriate content size (maximum 150 characters are allowed).</span>\n            </div>'),"\n            ",HTML.Raw("<!-- Errors Ends -->"),"\n\n            ",HTML.FORM({"class":"form-horizontal",role:"form",id:"reportForm"},"\n                ",HTML.Raw('<div class="form-group">\n                    <label class="col-sm-3 control-label" for="reportOptions">Category</label>\n\n                    <div class="col-sm-9">\n                        <select id="reportOptions" class="form-control">\n                            <option value="type">Please select the type of your problem</option>\n                            <option value="forgotSecurityPin">I forgot my password and security pin</option>\n                            <option value="questions">I have some suggestions/questions</option>\n                        </select>\n                    </div>\n                </div>'),"\n                ",HTML.DIV({id:"queryFields","class":"hide"},"\n                    ",HTML.Raw('<div class="form-group" id="usernameOremailGroup">\n                        <label class="col-sm-3 control-label" for="usernameOremail"></label>\n                        <div class="col-sm-9">\n                            <input type="text" class="form-control" id="usernameOremail" placeholder="">\n                            <span class="error-text"></span>\n                        </div>\n                    </div>'),"\n\n                    ",HTML.DIV({"class":"form-group hide",id:"questionsContentGroup"},"\n                        ",HTML.Raw('<label class="col-sm-3 control-label" for="questionsContent">Suggestion or Questions</label>'),"\n\n                        ",HTML.DIV({"class":"col-sm-9"},"\n                            ",HTML.TEXTAREA({type:"text",rows:"10","class":"form-control",id:"questionsContent",placeholder:"Please type-in your Suggestion or Questions regarding LetsLeak, we request you to be clear in your thoughts."}),"\n                            ",HTML.Raw('<span class="error-text"></span>'),"\n                        "),"\n                    "),"\n\n                    ",HTML.Raw('<div class="form-group">\n                        <div class="col-sm-offset-3 col-sm-9">\n                            <button type="submit" class="btn btn-primary" id="sendReportButton">Send</button>\n                        </div>\n                    </div>'),"\n\n\n                "),"\n\n            "),"\n        "),HTML.Raw('\n        <div class="clearfix"></div>\n    '))}),Template.__checkName("Report"),Template.Report=new Template("Template.Report",function(){var e=this;return Blaze._TemplateWith(function(){return{templateName:Spacebars.call("_Report")}},function(){return Spacebars.include(e.lookupTemplate("Read"))})})}(),function(){Template.__checkName("_TnC"),Template._TnC=new Template("Template._TnC",function(){var e=this;return HTML.DIV({id:"tncTemplate"},HTML.Raw("\n        <header>Terms &amp; Condition</header>\n        "),HTML.DIV({"class":"description"},"\n        ",HTML.P("\n            If you access or use LetsLeak, it means you agree to be bound by all of the terms below. So, before you use LetsLeak, please read all of the terms. If you don’t agree to all of the terms below, please do not use LetsLeak. Also, if a term does not make sense to you, ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),".\n        "),"\n            ",HTML.UL("\n                ",HTML.Raw('<li>\n                    <span class="question">Changes to these Terms</span>\n                    <span class="answer">\n                        <p>\n                            LetsLeak reserves the right to update terms over time, such updates will be informed to all users via an appropriate medium.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">Creating accounts</span>\n                    <span class="answer">\n                        <p>\n                            When you create an account you also agree to maintain the security of your password and accept all risks of unauthorized access to your account.\n\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.LI("\n                    ",HTML.Raw('<span class="question">Your content &amp; conduct</span>'),"\n                    ",HTML.SPAN({"class":"answer"},"\n                        ",HTML.P("\n                            You agree to follow our ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),". You are solely responsible for what you post. ",HTML.Raw("<b>LetsLeak does not take any responsiblity of what the users post.</b>")," If due to legal issues, the law asks LetsLeak to provide the account details of users posting inappropriate content, LetsLeak will provide the details.\n                        "),"\n                        ",HTML.Raw("<p>\n\n                        </p>"),"\n                    "),"\n                "),"\n                ",HTML.Raw('<li>\n                    <span class="question">Modifications to the Service</span>\n                    <span class="answer">\n                        <p>\n                            LetsLeak reserves the right in its sole discretion to review, improve, modify or discontinue, temporarily or permanently, the service and/or any features, information, materials or content on the service with or without notice to you. You agree that LetsLeak will not be liable to you or any third party for any modification or discontinuation of the service or any portion thereof.\n                        </p>\n                    </span>\n                </li>'),"\n                ",HTML.Raw('<li>\n                    <span class="question">Suspension/Termination</span>\n                    <span class="answer">\n                        <p>\n                            LetsLeak may suspend and/or terminate your rights with respect to LetsLeak for any reason or for no reason at all and with or without notice at LetsLeak’s sole discretion.\n                            If LetsLeak believes a post you have made violates these Terms and Conditions, LetsLeak may make that post invisible to other users without notifying you.\n                        </p>\n                    </span>\n                </li>'),"\n\n            "),"\n        "),"\n    ")}),Template.__checkName("TnC"),Template.TnC=new Template("Template.TnC",function(){var e=this;return Blaze._TemplateWith(function(){return{templateName:Spacebars.call("_TnC")}},function(){return Spacebars.include(e.lookupTemplate("Read"))})})}(),function(){Template.__checkName("Home"),Template.Home=new Template("Template.Home",function(){var e=this;return HTML.DIV({id:"homeTemplate"},"\n        ",Spacebars.include(e.lookupTemplate("PostStatus")),"\n        ",Spacebars.include(e.lookupTemplate("HomeFeed")),"\n    ")})}(),function(){Template.__checkName("Index"),Template.Index=new Template("Template.Index",function(){var e=this;return[HTML.DIV({id:"indexTemplate","class":"home-login-bg"},"\n        ",HTML.Raw('<div class="landing-logo-hold">\n            <!--<div class="leak-logo-lg pull-left"></div>-->\n            <a href="/index">\n                <div class="leak-logo-md pull-left"></div>\n            </a>\n\n            <p class="pull-left"></p>\n\n            <div class="pull-left text">\n                <h1>Naughty nothings, Silly somethings</h1>\n                <span>\n                    If there is something itching to get out of you, LetsLeak is right here.\n                    LetsLeak is a platform where you can confess, gossip and share any high-profile info with no-names-attached.\n                </span>\n            </div>\n        </div>'),"\n        ",HTML.Raw('<div class="clearfix"></div>'),"\n        ",HTML.DIV({"class":"login-window"},"\n            ",HTML.Raw('<a href="/index">\n                <div class="leak-logo-sm">\n                    <span></span>\n                    <span></span>\n                </div>\n            </a>'),"\n            ",Spacebars.include(e.lookupTemplate("Login")),"\n            ",HTML.Raw('<div class="groupSeparator"><p></p></div>'),"\n            ",Spacebars.include(e.lookupTemplate("AccountInvite")),"\n            ",HTML.Raw('<div class="clearfix"></div>'),"\n        "),"\n        ",HTML.Raw('<div class="index-knowmore">\n            <div class="home-top-arw"><a href="#" id="knowMoreButton"></a></div>\n        </div>'),"\n    "),"\n\n    ",HTML.DIV({"class":"homeContainer",style:"display: none;"},"\n\n        ",HTML.DIV({"class":"home-desk-content-view"},"\n            ",HTML.Raw('<ul>\n                <li class="index-post-message">\n                    <p class="pull-left">Post</p>\n                    <span></span>\n                    <div class="post-img"></div>\n                </li>\n                <li>\n                    <div>\n                        <p>If there is something you wanna share with no-names attached, LetsLeak right here. May the\n                            world know some gossip, insider high-profile info, guilt or what-so-ever might be on your mind\n                            or rather in your tummy (with the paunch ;))</p>\n                    </div>\n                </li>\n                <li class="index-home-feed">\n                    <div class="home-feed-img"></div>\n                    <span></span>\n                    <p class="pull-right margin-less-top">Look</p>\n                </li>\n                <li>\n                    <div class="pull-right">\n                        <p>You see you are not the only one.</p>\n                        <p>You see,</p>\n                        <p>there are others in the same boat, stories to reveal without the unnecessary hassles.</p>\n                        <p>And you see,</p>\n                        <p>LetsLeak, some are nasty, some fake and some pure divine.</p>\n                    </div>\n                </li>\n                <li class="index-bucket">\n                    <p class="pull-left">Save</p>\n                    <span></span>\n                    <div class="bucket-img"></div>\n                </li>\n                <li>\n                    <div>\n                        <p>Once bucket-ed, unfold your collectibles one fine day.</p>\n                        <p>Once saved, read your bucket and browse through others’.</p>\n                        <p>Once archived, leave the rest to LetsLeak.</p>\n                    </div>\n                </li>\n                <li class="index-bucket-insight">\n                    <div class="bucket-insight-img"></div>\n                    <span></span>\n                    <p class="pull-right margin-less-top">Read</p>\n                </li>\n                <li>\n                    <div class="pull-right">\n                        <p>Collect your broodings and safe-keep the flowing inspiration, funk and pun. Do not let them\n                            pass, Bucket them before they vanish! LetsLeak is here.</p>\n                    </div>\n                </li>\n            </ul>'),"\n\n            ",HTML.DIV({"class":"homeFooter"},"\n                ",HTML.P("\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("AboutUs"),message:Spacebars.call("Why LetsLeak"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("FAQ"),message:Spacebars.call("FAQ"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("TnC"),message:Spacebars.call("TnC"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Privacy"),message:Spacebars.call("Privacy"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                    ",HTML.Raw('<span class="pull-right">- &copy; 2014 LETSLEAK</span>'),"\n                "),"\n            "),"\n\n        "),"\n\n\n\n\n\n        ",HTML.Raw('<!--<div class="scrollTop">\n            <a class="entypo chevron-up"></a>\n        </div>-->'),"\n\n    "),"\n\n    ",HTML.DIV({"class":"home-mobile-content-view"},"\n\n        ",HTML.Raw('<ul>\n            <li class="index-post-message">\n                <p>Post</p>\n                <span></span>\n                <div class="post-img"></div>\n            </li>\n            <li>\n                <div>\n                    <p>If there is something you wanna share with no-names attached, LetsLeak right here. May the\n                        world know some gossip, insider high-profile info, guilt or what-so-ever might be on your mind\n                        or rather in your tummy (with the paunch ;))</p>\n                </div>\n            </li>\n            <li class="index-home-feed">\n                <p>Look</p>\n                <span></span>\n                <div class="home-feed-img"></div>\n            </li>\n            <li>\n                <div>\n                    <p>You see you are not the only one.</p>\n                    <p>You see,</p>\n                    <p>there are others in the same boat, stories to reveal without the unnecessary hassles.</p>\n                    <p>And you see,</p>\n                    <p>LetsLeak, some are nasty, some fake and some pure divine.</p>\n                </div>\n            </li>\n            <li class="index-bucket">\n                <p>Save</p>\n                <span></span>\n                <div class="bucket-img"></div>\n            </li>\n            <li>\n                <div>\n                    <p>Once bucket-ed, unfold your collectibles one fine day.</p>\n                    <p>Once saved, read your bucket and browse through others’.</p>\n                    <p>Once archived, leave the rest to LetsLeak.</p>\n                </div>\n            </li>\n            <li class="index-bucket-insight">\n                <p>Read</p>\n                <span></span>\n                <div class="bucket-insight-img"></div>\n            </li>\n            <li>\n                <div>\n                    <p>Collect your broodings and safe-keep the flowing inspiration, funk and pun. Do not let them\n                        pass, Bucket them before they vanish! LetsLeak is here.</p>\n                </div>\n            </li>\n        </ul>'),"\n\n\n        ",HTML.DIV({"class":"homeFooter"},"\n            ",HTML.P("\n                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("AboutUs"),message:Spacebars.call("Why LetsLeak"),target:Spacebars.call("_blank")}
},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("More"),message:Spacebars.call("More")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                ",HTML.Raw('<span class="pull-right">- &copy; 2014 LETSLEAK</span>'),"\n            "),"\n        "),"\n    ")]})}(),function(){Template.__checkName("BucketLayout"),Template.BucketLayout=new Template("Template.BucketLayout",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}(),function(){Template.__checkName("FullScreenLayout"),Template.FullScreenLayout=new Template("Template.FullScreenLayout",function(){var e=this;return[HTML.Raw('<!--<a href="/home"><i class="fa fa-home"></i></a>-->\n    '),Spacebars.include(e.lookupTemplate("yield"))]})}(),function(){Template.__checkName("HomeLayout"),Template.HomeLayout=new Template("Template.HomeLayout",function(){var e=this;return[Spacebars.include(e.lookupTemplate("Header")),"\n    ",Spacebars.include(e.lookupTemplate("yield")),"\n    ",Spacebars.include(e.lookupTemplate("Footer")),"\n\n    ",Spacebars.include(e.lookupTemplate("Welcome"))]})}(),function(){Template.__checkName("MasterLayout"),Template.MasterLayout=new Template("Template.MasterLayout",function(){var e=this;return[Spacebars.include(e.lookupTemplate("yield")),HTML.Raw("\n    <!--{{> Footer}}-->")]})}(),function(){Template.__checkName("Footer"),Template.Footer=new Template("Template.Footer",function(){var e=this;return HTML.DIV({id:"footerTemplate"},"\n        ",HTML.DIV({"class":""},"\n            ",HTML.DIV({"class":"footer"},"\n                ",HTML.Raw('<!--<div class="icon-social">\n                    <a href="#" target="_blank" class="fa fa-facebook"></a>\n                    <a href="#" target="_blank" class="fa fa-twitter"></a>\n                </div>-->'),"\n                ",HTML.P({"class":"copyright"},"\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("AboutUs"),message:Spacebars.call("Why LetsLeak"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("GroundRules"),message:Spacebars.call("Ground Rules"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("FAQ"),message:Spacebars.call("FAQ"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("TnC"),message:Spacebars.call("TnC"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Privacy"),message:Spacebars.call("Privacy"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("Report"),message:Spacebars.call("Report a Problem")}},function(){return Spacebars.include(e.lookupTemplate("Links"))})," |\n                    ",Blaze._TemplateWith(function(){return{key:Spacebars.call("ContactUs"),message:Spacebars.call("Contact Us"),target:Spacebars.call("_blank")}},function(){return Spacebars.include(e.lookupTemplate("Links"))}),"\n                    - ",HTML.Raw("&copy;")," 2014 LETSLEAK\n                "),"\n            "),"\n        "),"\n    ")})}(),function(){Template.__checkName("Loading"),Template.Loading=new Template("Template.Loading",function(){return HTML.Raw('<div id="loadingTemplate">\n        <div class="preloader"></div>\n    </div>')})}(),function(){Template.__checkName("NotFound"),Template.NotFound=new Template("Template.NotFound",function(){return HTML.Raw('<div class="notFound">\n        <div class="landing-logo-hold fpassword">\n            <a href="/"> <div class="leak-logo-md"></div></a>\n        </div>\n        <div class="clearfix"></div>\n\n    </div>')})}(),function(){Template.body.addContent(function(){return""}),Meteor.startup(Template.body.renderToDocument)}(),function(){_.extend(Template._pagesPageCont,{divWrapper:function(e){return e.divWrapper},table:function(e){return e.table},tableWrapper:function(e){return e.table.wrapper}}),_.extend(Template._pagesTable,{"class":function(e){return e.table["class"]||""},fields:function(e){return _.map(e.table.fields,function(e){return{value:e}})},header:function(e){return _.map(e.table.header||e.table.fields,function(e){return{value:e}})}}),_.extend(Template._pagesPage,{ready:function(){return this.fastRender?!0:this.sess("ready")},items:function(){var e,t,n,r,o,a;if(this.init&&this.checkInitPage(),n=this.sess(this.isReady()?"currentPage":"oldPage"),null==n)return[];if(r=this.getPage(n),null==r)return[];for(t=o=0,a=r.length;a>o;t=++o)e=r[t],r[t]._t=this.itemTemplate;return r},item:function(){return Template[this._t]},pagesLoadingTemplate:function(){return this.loadingTemplate}}),_.extend(Template._pagesNav,{show:function(){return this.fastRender||!this.infinite&&1<this.sess("totalPages")},link:function(){var e,t,n;return t=this._p,t.router?(e=this.n,1>e&&(e=1),null==t.sess("totalPages")&&t.sess("totalPages",t.PreloadedData.findOne({_id:"totalPages"}).v),n=t.sess("totalPages"),e>n&&(e=n),t.route+e):"#"},paginationNeighbors:function(){return this.paginationNeighbors()},events:{"click a":function(e){var t,n;return t=e.target.parentNode.parentNode.parentNode.getAttribute("data-pages"),n=Meteor.Pagination.prototype.instances[t],_.throttle(function(e,t,n){return t.router?void 0:(e.preventDefault(),t.onNavClick.call(t,n))},1e3*n.rateLimit)(e,n,this.n)}}}),_.extend(Template._pagesTableItem,{attrs:function(e){return _.map(e.table.fields,function(e){return{value:null!=this[e]?this[e]:""}}.bind(this))}}),_.extend(Template._pagesItemDefault,{properties:function(){return _.compact(_.map(this,function(e,t){return"_"!==t[0]?{name:t,value:e}:null}))}})}(),function(){BaseController=RouteController.extend({layoutTemplate:"HomeLayout",onAfterAction:function(){{var e=this;({user_id:App.extensions._getUserId()})}return[App.extensions._subscribe(e,"notification")]}})}(),function(){DefaultController=RouteController.extend({layoutTemplate:"MasterLayout"})}(),function(){FullScreenController=RouteController.extend({layoutTemplate:"FullScreenLayout",onAfterAction:function(){{var e=this;({user_id:App.extensions._getUserId()})}return[App.extensions._subscribe(e,"notification")]}})}(),function(){window.Modernizr=function(e,t,n){function r(e){y.cssText=e}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function i(e,t){for(var r in e){var o=e[r];if(!a(o,"-")&&y[o]!==n)return"pfx"==t?o:!0}return!1}function s(e,t,r){for(var a in e){var i=t[e[a]];if(i!==n)return r===!1?e[a]:o(i,"function")?i.bind(r||t):i}return!1}function c(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+w.join(r+" ")+r).split(" ");return o(t,"string")||o(t,"undefined")?i(a,t):(a=(e+" "+T.join(r+" ")+r).split(" "),s(a,t,n))}var l,u,p,d="2.6.2",f={},h=!0,m=t.documentElement,g="modernizr",v=t.createElement(g),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),_="Webkit Moz O ms",w=_.split(" "),T=_.toLowerCase().split(" "),k={},S=[],C=S.slice,L=function(e,n,r,o){var a,i,s,c,l=t.createElement("div"),u=t.body,p=u||t.createElement("body");if(parseInt(r,10))for(;r--;)s=t.createElement("div"),s.id=o?o[r]:g+(r+1),l.appendChild(s);return a=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),l.id=g,(u?l:p).innerHTML+=a,p.appendChild(l),u||(p.style.background="",p.style.overflow="hidden",c=m.style.overflow,m.style.overflow="hidden",m.appendChild(p)),i=n(l,e),u?l.parentNode.removeChild(l):(p.parentNode.removeChild(p),m.style.overflow=c),!!i},M={}.hasOwnProperty;p=o(M,"undefined")||o(M.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return M.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=C.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var a=new o,i=t.apply(a,n.concat(C.call(arguments)));return Object(i)===i?i:a}return t.apply(e,n.concat(C.call(arguments)))};return r}),k.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in m.style&&L("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},k.csstransitions=function(){return c("transition")};for(var E in k)p(k,E)&&(u=E.toLowerCase(),f[u]=k[E](),S.push((f[u]?"":"no-")+u));return f.addTest=function(e,t){if("object"==typeof e)for(var r in e)p(e,r)&&f.addTest(r,e[r]);else{if(e=e.toLowerCase(),f[e]!==n)return f;t="function"==typeof t?t():t,"undefined"!=typeof h&&h&&(m.className+=" "+(t?"":"no-")+e),f[e]=t}return f},r(""),v=l=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=g[e[h]];return t||(t={},m++,e[h]=m,g[m]=t),t}function a(e,n,r){if(n||(n=t),u)return n.createElement(e);r||(r=o(n));var a;return a=r.cache[e]?r.cache[e].cloneNode():f.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),a.canHaveChildren&&!d.test(e)?r.frag.appendChild(a):a}function i(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||o(e);for(var a=n.frag.cloneNode(),i=0,s=r(),c=s.length;c>i;i++)a.createElement(s[i]);return a}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function c(e){e||(e=t);var r=o(e);return v.shivCSS&&!l&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||s(e,r),e}var l,u,p=e.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){l=!0,u=!0}}();var v={elements:p.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:p.shivCSS!==!1,supportsUnknownElements:u,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:c,createElement:a,createDocumentFragment:i};e.html5=v,c(t)}(this,t),f._version=d,f._prefixes=b,f._domPrefixes=T,f._cssomPrefixes=w,f.testProp=function(e){return i([e])},f.testAllProps=c,f.testStyles=L,f.prefixed=function(e,t,n){return t?c(e,t,n):c(e,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+S.join(" "):""),f}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==g.call(e)}function o(e){return"string"==typeof e}function a(){}function i(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();y=1,e?e.t?h(function(){("c"==e.t?d.injectCss:d.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):y=0}function c(e,n,r,o,a,c,l){function u(t){if(!f&&i(p.readyState)&&(b.r=f=1,!y&&s(),p.onload=p.onreadystatechange=null,t)){"img"!=e&&h(function(){w.removeChild(p)},50);for(var r in L[n])L[n].hasOwnProperty(r)&&L[n][r].onload()}}var l=l||d.errorTimeout,p=t.createElement(e),f=0,g=0,b={t:r,s:n,e:a,a:c,x:l};1===L[n]&&(g=1,L[n]=[]),"object"==e?p.data=n:(p.src=n,p.type=e),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){u.call(this,g)},v.splice(o,0,b),"img"!=e&&(g||2===L[n]?(w.insertBefore(p,_?null:m),h(u,l)):L[n].push(p))}function l(e,t,n,r,a){return y=0,t=t||"j",o(e)?c("c"==t?k:T,e,t,this.i++,n,r,a):(v.splice(this.i++,0,e),1==v.length&&s()),this}function u(){var e=d;return e.loader={load:l,i:0},e}var p,d,f=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in f.style,_=b&&!!t.createRange().compareNode,w=_?f:m.parentNode,f=e.opera&&"[object Opera]"==g.call(e.opera),f=!!t.attachEvent&&!f,T=b?"object":f?"script":"img",k=f?"script":T,S=Array.isArray||function(e){return"[object Array]"==g.call(e)},C=[],L={},M={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};d=function(e){function t(e){var t,n,r,e=e.split("!"),o=C.length,a=e.pop(),i=e.length,a={url:a,origUrl:a,prefixes:e};for(n=0;i>n;n++)r=e[n].split("="),(t=M[r.shift()])&&(a=t(a,r));for(n=0;o>n;n++)a=C[n](a);return a}function i(e,o,a,i,s){var c=t(e),l=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(o&&(o=r(o)?o:o[e]||o[i]||o[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,o,a,i,s):(L[c.url]?c.noexec=!0:L[c.url]=1,a.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(r(o)||r(l))&&a.load(function(){u(),o&&o(c.origUrl,s,i),l&&l(c.origUrl,s,i),L[c.url]=2})))}function s(e,t){function n(e,n){if(e){if(o(e))n||(p=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}),i(e,p,t,0,l);else if(Object(e)===e)for(c in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(c)&&(!n&&!--s&&(r(p)?p=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}:p[c]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(d[c])),i(e[c],p,t,c,l))}else!n&&f()}var s,c,l=!!e.test,u=e.load||e.both,p=e.callback||a,d=p,f=e.complete||a;n(l?e.yep:e.nope,!!u),u&&n(u)}var c,l,p=this.yepnope.loader;if(o(e))i(e,0,p,0);else if(S(e))for(c=0;c<e.length;c++)l=e[c],o(l)?i(l,0,p,0):S(l)?d(l):Object(l)===l&&s(l,p);else Object(e)===e&&s(e,p)},d.addPrefix=function(e,t){M[e]=t},d.addFilter=function(e){C.push(e)},d.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",p=function(){t.removeEventListener("DOMContentLoaded",p,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,r,o,c,l){var u,p,f=t.createElement("script"),o=o||d.errorTimeout;f.src=e;for(p in r)f.setAttribute(p,r[p]);n=l?s:n||a,f.onreadystatechange=f.onload=function(){!u&&i(f.readyState)&&(u=1,n(),f.onload=f.onreadystatechange=null)},h(function(){u||(u=1,n(1))},o),c?f.onload():m.parentNode.insertBefore(f,m)},e.yepnope.injectCss=function(e,n,r,o,i,c){var l,o=t.createElement("link"),n=c?s:n||a;o.href=e,o.rel="stylesheet",o.type="text/css";for(l in r)o.setAttribute(l,r[l]);i||(m.parentNode.insertBefore(o,m),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))}}(),function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var i=t||window.event,s=c.call(arguments,1),l=0,p=0,d=0,f=0,h=0,m=0;if(t=e.event.fix(i),t.type="mousewheel","detail"in i&&(d=-1*i.detail),"wheelDelta"in i&&(d=i.wheelDelta),"wheelDeltaY"in i&&(d=i.wheelDeltaY),"wheelDeltaX"in i&&(p=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(p=-1*d,d=0),l=0===d?p:d,"deltaY"in i&&(d=-1*i.deltaY,l=d),"deltaX"in i&&(p=i.deltaX,0===d&&(l=-1*p)),0!==d||0!==p){if(1===i.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,d*=g,p*=g}else if(2===i.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,d*=v,p*=v}if(f=Math.max(Math.abs(d),Math.abs(p)),(!a||a>f)&&(a=f,r(i,f)&&(a/=40)),r(i,f)&&(l/=40,p/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/a),p=Math[p>=1?"floor":"ceil"](p/a),d=Math[d>=1?"floor":"ceil"](d/a),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();h=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=p,t.deltaY=d,t.deltaFactor=a,t.offsetX=h,t.offsetY=m,t.deltaMode=0,s.unshift(t,l,p,d),o&&clearTimeout(o),o=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){a=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,a,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(e.event.fixHooks)for(var l=i.length;l;)e.event.fixHooks[i[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})}(),function(){!function(){var e=jQuery.event,t=function(e,t,n,r){var o,a,i,s,c,l,u,p,d;for(o=0;o<t.length;o++)for(a=t[o],s=a.indexOf(".")<0,s||(u=a.split("."),a=u.shift(),p=new RegExp("(^|\\.)"+u.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")),i=(e[a]||[]).slice(0),c=0;c<i.length;c++)l=i[c],d=s||p.test(l.namespace),d&&(r?l.selector===r&&n(a,l.origHandler||l.handler):null===r?n(a,l.origHandler||l.handler,l.selector):l.selector||n(a,l.origHandler||l.handler))};e.find=function(e,n,r){var o=($._data(e)||{}).events,a=[];return o?(t(o,n,function(e,t){a.push(t)},r),a):a},e.findBySelector=function(e,n){var r=$._data(e).events,o={},a=function(e,t,n){var r=o[e]||(o[e]={}),a=r[t]||(r[t]=[]);a.push(n)};return r?(t(r,n,function(e,t,n){a(n||"",e,t)},null),o):o},e.supportTouch="ontouchend"in document,$.fn.respondsTo=function(t){return this.length?e.find(this[0],$.isArray(t)?t:[t]).length>0:!1},$.fn.triggerHandled=function(e,t){return e="string"==typeof e?$.Event(e):e,this.trigger(e,t),e.handled},e.setupHelper=function(t,n,r){r||(r=n,n=null);var o=function(o){var a,i=o.selector||"";i?(a=e.find(this,t,i),a.length||$(this).delegate(i,n,r)):e.find(this,t,i).length||e.add(this,n,r,{selector:i,delegate:this})},a=function(o){var a,i=o.selector||"";i?(a=e.find(this,t,i),a.length||$(this).undelegate(i,n,r)):e.find(this,t,i).length||e.remove(this,n,r,{selector:i,delegate:this})};$.each(t,function(){e.special[this]={add:o,remove:a,setup:function(){},teardown:function(){}}})}}(jQuery),function(e){var t=/Phantom/.test(navigator.userAgent),n=!t&&"ontouchend"in document,r=n?"touchstart":"mousedown",o=n?"touchend":"mouseup",a=n?"touchmove":"mousemove",i=function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},s=e.event.swipe={delay:500,max:75,min:30};e.event.setupHelper(["swipe","swipeleft","swiperight","swipeup","swipedown"],r,function(t){function n(e){c&&(r=i(e),Math.abs(c.coords[0]-r.coords[0])>10&&e.preventDefault())}var r,c=i(t),l=t.delegateTarget||t.currentTarget,u=t.handleObj.selector,p=this;e(document.documentElement).bind(a,n).one(o,function(){if(e(this).unbind(a,n),c&&r){var o=Math.abs(c.coords[0]-r.coords[0]),i=Math.abs(c.coords[1]-r.coords[1]),d=Math.sqrt(o*o+i*i);if(r.time-c.time<s.delay&&d>=s.min){var f=["swipe"];o>=s.min&&i<s.min?f.push(c.coords[0]>r.coords[0]?"swipeleft":"swiperight"):i>=s.min&&o<s.min&&f.push(c.coords[1]<r.coords[1]?"swipedown":"swipeup"),e.each(e.event.find(l,f,u),function(){this.call(p,t,{start:c,end:r})})}}c=r=void 0})})}(jQuery)}(),function(){(function(e){function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){return function(n){return u(e.call(this,n),t)}}function r(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function o(){}function a(e){T(e),s(this,e)}function i(e){var t=g(e),n=t.year||0,r=t.month||0,o=t.week||0,a=t.day||0,i=t.hour||0,s=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*s+36e5*i,this._days=+a+7*o,this._months=+r+12*n,this._data={},this._bubble()}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function c(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&gt.hasOwnProperty(t)&&(n[t]=e[t]);return n}function l(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t,n){for(var r=""+Math.abs(e),o=e>=0;r.length<t;)r="0"+r;return(o?n?"+":"":"-")+r}function p(e,t,n,r){var o,a,i=t._milliseconds,s=t._days,c=t._months;i&&e._d.setTime(+e._d+i*n),(s||c)&&(o=e.minute(),a=e.hour()),s&&e.date(e.date()+s*n),c&&e.month(e.month()+c*n),i&&!r&&rt.updateOffset(e),(s||c)&&(e.minute(o),e.hour(a))}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function f(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function h(e,t,n){var r,o=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0;for(r=0;o>r;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&i++;return i+a}function m(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=qt[e]||Wt[t]||t}return e}function g(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=m(n),t&&(r[t]=e[n]));return r}function v(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}rt[t]=function(o,a){var i,s,c=rt.fn._lang[t],l=[];if("number"==typeof o&&(a=o,o=e),s=function(e){var t=rt().utc().set(r,e);return c.call(rt.fn._lang,t,o||"")},null!=a)return s(a);for(i=0;n>i;i++)l.push(s(i));return l}}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function b(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function _(e){return w(e)?366:365}function w(e){return e%4===0&&e%100!==0||e%400===0}function T(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[lt]<0||e._a[lt]>11?lt:e._a[ut]<1||e._a[ut]>b(e._a[ct],e._a[lt])?ut:e._a[pt]<0||e._a[pt]>23?pt:e._a[dt]<0||e._a[dt]>59?dt:e._a[ft]<0||e._a[ft]>59?ft:e._a[ht]<0||e._a[ht]>999?ht:-1,e._pf._overflowDayOfYear&&(ct>t||t>ut)&&(t=ut),e._pf.overflow=t)}function k(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function S(e){return e?e.toLowerCase().replace("_","-"):e}function C(e,t){return t._isUTC?rt(e).zone(t._offset||0):rt(e).local()}function L(e,t){return t.abbr=e,mt[e]||(mt[e]=new o),mt[e].set(t),mt[e]}function M(e){delete mt[e]}function E(e){var t,n,r,o,a=0,i=function(e){if(!mt[e]&&vt)try{require("./lang/"+e)}catch(t){}return mt[e]};if(!e)return rt.fn._lang;if(!d(e)){if(n=i(e))return n;e=[e]}for(;a<e.length;){for(o=S(e[a]).split("-"),t=o.length,r=S(e[a+1]),r=r?r.split("-"):null;t>0;){if(n=i(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&h(o,r,!0)>=t-1)break;t--}a++}return rt.fn._lang}function x(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,n,r=e.match(wt);for(t=0,n=r.length;n>t;t++)r[t]=Xt[r[t]]?Xt[r[t]]:x(r[t]);return function(o){var a="";for(t=0;n>t;t++)a+=r[t]instanceof Function?r[t].call(o,e):r[t];return a}}function P(e,t){return e.isValid()?(t=I(t,e.lang()),Yt[t]||(Yt[t]=A(t)),Yt[t](e)):e.lang().invalidDate()}function I(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Tt.lastIndex=0;r>=0&&Tt.test(e);)e=e.replace(Tt,n),Tt.lastIndex=0,r-=1;return e}function N(e,t){var n,r=t._strict;switch(e){case"DDDD":return Dt;case"YYYY":case"GGGG":case"gggg":return r?Ht:Ct;case"Y":case"G":case"g":return Rt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?Bt:Lt;case"S":if(r)return It;case"SS":if(r)return Nt;case"SSS":if(r)return Dt;case"DDD":return St;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Et;case"a":case"A":return E(t._l)._meridiemParse;case"X":return Pt;case"Z":case"ZZ":return xt;case"T":return At;case"SSSS":return Mt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?Nt:kt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return kt;default:return n=new RegExp(U($(e.replace("\\","")),"i"))}}function D(e){e=e||"";var t=e.match(xt)||[],n=t[t.length-1]||[],r=(n+"").match(Ft)||["-",0,0],o=+(60*r[1])+y(r[2]);return"+"===r[0]?-o:o}function H(e,t,n){var r,o=n._a;switch(e){case"M":case"MM":null!=t&&(o[lt]=y(t)-1);break;case"MMM":case"MMMM":r=E(n._l).monthsParse(t),null!=r?o[lt]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[ut]=y(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=y(t));break;case"YY":o[ct]=y(t)+(y(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":o[ct]=y(t);break;case"a":case"A":n._isPm=E(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":o[pt]=y(t);break;case"m":case"mm":o[dt]=y(t);break;case"s":case"ss":o[ft]=y(t);break;case"S":case"SS":case"SSS":case"SSSS":o[ht]=y(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=D(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function B(e){var t,n,r,o,a,i,s,c,l,u,p=[];if(!e._d){for(r=O(e),e._w&&null==e._a[ut]&&null==e._a[lt]&&(a=function(t){var n=parseInt(t,10);return t?t.length<3?n>68?1900+n:2e3+n:n:null==e._a[ct]?rt().weekYear():e._a[ct]},i=e._w,null!=i.GG||null!=i.W||null!=i.E?s=Q(a(i.GG),i.W||1,i.E,4,1):(c=E(e._l),l=null!=i.d?Y(i.d,c):null!=i.e?parseInt(i.e,10)+c._week.dow:0,u=parseInt(i.w,10)||1,null!=i.d&&l<c._week.dow&&u++,s=Q(a(i.gg),u,l,c._week.doy,c._week.dow)),e._a[ct]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(o=null==e._a[ct]?r[ct]:e._a[ct],e._dayOfYear>_(o)&&(e._pf._overflowDayOfYear=!0),n=W(o,0,e._dayOfYear),e._a[lt]=n.getUTCMonth(),e._a[ut]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=p[t]=r[t];for(;7>t;t++)e._a[t]=p[t]=null==e._a[t]?2===t?1:0:e._a[t];p[pt]+=y((e._tzm||0)/60),p[dt]+=y((e._tzm||0)%60),e._d=(e._useUTC?W:q).apply(null,p)}}function R(e){var t;e._d||(t=g(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],B(e))}function O(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function V(e){e._a=[],e._pf.empty=!0;var t,n,r,o,a,i=E(e._l),s=""+e._i,c=s.length,l=0;for(r=I(e._f,i).match(wt)||[],t=0;t<r.length;t++)o=r[t],n=(s.match(N(o,e))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&e._pf.unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),Xt[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),H(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=c-l,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[pt]<12&&(e._a[pt]+=12),e._isPm===!1&&12===e._a[pt]&&(e._a[pt]=0),B(e),T(e)}function $(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o})}function U(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(e){var n,r,o,a,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(a=0;a<e._f.length;a++)i=0,n=s({},e),n._pf=t(),n._f=e._f[a],V(n),k(n)&&(i+=n._pf.charsLeftOver,i+=10*n._pf.unusedTokens.length,n._pf.score=i,(null==o||o>i)&&(o=i,r=n));s(e,r||n)}function j(e){var t,n,r=e._i,o=Ot.exec(r);if(o){for(e._pf.iso=!0,t=0,n=$t.length;n>t;t++)if($t[t][1].exec(r)){e._f=$t[t][0]+(o[6]||" ");break}for(t=0,n=Ut.length;n>t;t++)if(Ut[t][1].exec(r)){e._f+=Ut[t][0];break}r.match(xt)&&(e._f+="Z"),V(e)}else e._d=new Date(r)}function z(t){var n=t._i,r=yt.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?j(t):d(n)?(t._a=n.slice(0),B(t)):f(n)?t._d=new Date(+n):"object"==typeof n?R(t):t._d=new Date(n)}function q(e,t,n,r,o,a,i){var s=new Date(e,t,n,r,o,a,i);return 1970>e&&s.setFullYear(e),s}function W(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function Y(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function G(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function J(e,t,n){var r=st(Math.abs(e)/1e3),o=st(r/60),a=st(o/60),i=st(a/24),s=st(i/365),c=45>r&&["s",r]||1===o&&["m"]||45>o&&["mm",o]||1===a&&["h"]||22>a&&["hh",a]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",st(i/30)]||1===s&&["y"]||["yy",s];return c[2]=t,c[3]=e>0,c[4]=n,G.apply({},c)}function X(e,t,n){var r,o=n-t,a=n-e.day();return a>o&&(a-=7),o-7>a&&(a+=7),r=rt(e).add("d",a),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function Q(e,t,n,r,o){var a,i,s=W(e,0,1).getUTCDay();return n=null!=n?n:o,a=o-s+(s>r?7:0)-(o>s?7:0),i=7*(t-1)+(n-o)+a+1,{year:i>0?e:e-1,dayOfYear:i>0?i:_(e-1)+i}}function K(e){var t=e._i,n=e._f;return null===t?rt.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=E().preparse(t)),rt.isMoment(t)?(e=c(t),e._d=new Date(+t._d)):n?d(n)?F(e):V(e):z(e),new a(e))}function Z(e,t){rt.fn[e]=rt.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),rt.updateOffset(this),this):this._d["get"+n+t]()}}function et(e){rt.duration.fn[e]=function(){return this._data[e]}}function tt(e,t){rt.duration.fn["as"+e]=function(){return+this/t}}function nt(e){var t=!1,n=rt;"undefined"==typeof ender&&(e?(it.moment=function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},s(it.moment,n)):it.moment=rt)}for(var rt,ot,at="2.5.1",it=this,st=Math.round,ct=0,lt=1,ut=2,pt=3,dt=4,ft=5,ht=6,mt={},gt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},vt="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,yt=/^\/?Date\((\-?\d+)/i,bt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,_t=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,wt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Tt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,kt=/\d\d?/,St=/\d{1,3}/,Ct=/\d{1,4}/,Lt=/[+\-]?\d{1,6}/,Mt=/\d+/,Et=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xt=/Z|[\+\-]\d\d:?\d\d/gi,At=/T/i,Pt=/[\+\-]?\d+(\.\d{1,3})?/,It=/\d/,Nt=/\d\d/,Dt=/\d{3}/,Ht=/\d{4}/,Bt=/[+-]?\d{6}/,Rt=/[+-]?\d+/,Ot=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vt="YYYY-MM-DDTHH:mm:ssZ",$t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ut=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ft=/([\+\-]|\d\d)/gi,jt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),zt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},qt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Wt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Yt={},Gt="DDD w W M D d".split(" "),Jt="M D H h m s w W".split(" "),Xt={M:function(){return this.month()+1
},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+u(Math.abs(e),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return y(this.milliseconds()/100)},SS:function(){return u(y(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(y(e/60),2)+":"+u(y(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(y(e/60),2)+u(y(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Qt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Gt.length;)ot=Gt.pop(),Xt[ot+"o"]=r(Xt[ot],ot);for(;Jt.length;)ot=Jt.pop(),Xt[ot+ot]=n(Xt[ot],2);for(Xt.DDDD=n(Xt.DDD,3),s(o.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=rt.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=rt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return X(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),rt=function(n,r,o,a){var i;return"boolean"==typeof o&&(a=o,o=e),i={},i._isAMomentObject=!0,i._i=n,i._f=r,i._l=o,i._strict=a,i._isUTC=!1,i._pf=t(),K(i)},rt.utc=function(n,r,o,a){var i;return"boolean"==typeof o&&(a=o,o=e),i={},i._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=o,i._i=n,i._f=r,i._strict=a,i._pf=t(),K(i).utc()},rt.unix=function(e){return rt(1e3*e)},rt.duration=function(e,t){var n,r,o,a=e,s=null;return rt.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=bt.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:y(s[ut])*n,h:y(s[pt])*n,m:y(s[dt])*n,s:y(s[ft])*n,ms:y(s[ht])*n}):(s=_t.exec(e))&&(n="-"===s[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},a={y:o(s[2]),M:o(s[3]),d:o(s[4]),h:o(s[5]),m:o(s[6]),s:o(s[7]),w:o(s[8])}),r=new i(a),rt.isDuration(e)&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},rt.version=at,rt.defaultFormat=Vt,rt.updateOffset=function(){},rt.lang=function(e,t){var n;return e?(t?L(S(e),t):null===t?(M(e),e="en"):mt[e]||E(e),n=rt.duration.fn._lang=rt.fn._lang=E(e),n._abbr):rt.fn._lang._abbr},rt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),E(e)},rt.isMoment=function(e){return e instanceof a||null!=e&&e.hasOwnProperty("_isAMomentObject")},rt.isDuration=function(e){return e instanceof i},ot=Qt.length-1;ot>=0;--ot)v(Qt[ot]);for(rt.normalizeUnits=function(e){return m(e)},rt.invalid=function(e){var t=rt.utc(0/0);return null!=e?s(t._pf,e):t._pf.userInvalidated=!0,t},rt.parseZone=function(e){return rt(e).parseZone()},s(rt.fn=a.prototype,{clone:function(){return rt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=rt(this).utc();return 0<e.year()&&e.year()<=9999?P(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return k(this)},isDSTShifted:function(){return this._a?this.isValid()&&h(this._a,(this._isUTC?rt.utc(this._a):rt(this._a)).toArray())>0:!1},parsingFlags:function(){return s({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=P(this,e||rt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?rt.duration(+t,e):rt.duration(e,t),p(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?rt.duration(+t,e):rt.duration(e,t),p(this,n,-1),this},diff:function(e,t,n){var r,o,a=C(e,this),i=6e4*(this.zone()-a.zone());return t=m(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+a.daysInMonth()),o=12*(this.year()-a.year())+(this.month()-a.month()),o+=(this-rt(this).startOf("month")-(a-rt(a).startOf("month")))/r,o-=6e4*(this.zone()-rt(this).startOf("month").zone()-(a.zone()-rt(a).startOf("month").zone()))/r,"year"===t&&(o/=12)):(r=this-a,o="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?o:l(o)},from:function(e,t){return rt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(rt(),e)},calendar:function(){var e=C(rt(),this).startOf("day"),t=this.diff(e,"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return w(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Y(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),rt.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=m(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=m(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+rt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+rt(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+C(e,this).startOf(t)},min:function(e){return e=rt.apply(null,arguments),this>e?this:e},max:function(e){return e=rt.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=D(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&p(this,rt.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?rt(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return b(this.year(),this.month())},dayOfYear:function(e){var t=st((rt(this).startOf("day")-rt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(e){var t=X(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=X(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=X(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=m(e),this[e]()},set:function(e,t){return e=m(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=E(t),this)}}),ot=0;ot<jt.length;ot++)Z(jt[ot].toLowerCase().replace(/s$/,""),jt[ot]);Z("year","FullYear"),rt.fn.days=rt.fn.day,rt.fn.months=rt.fn.month,rt.fn.weeks=rt.fn.week,rt.fn.isoWeeks=rt.fn.isoWeek,rt.fn.toJSON=rt.fn.toISOString,s(rt.duration.fn=i.prototype,{_bubble:function(){var e,t,n,r,o=this._milliseconds,a=this._days,i=this._months,s=this._data;s.milliseconds=o%1e3,e=l(o/1e3),s.seconds=e%60,t=l(e/60),s.minutes=t%60,n=l(t/60),s.hours=n%24,a+=l(n/24),s.days=a%30,i+=l(a/30),s.months=i%12,r=l(i/12),s.years=r},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)},humanize:function(e){var t=+this,n=J(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=rt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=rt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=m(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=m(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:rt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),o=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||o||a?"T":"")+(r?r+"H":"")+(o?o+"M":"")+(a?a+"S":""):"P0D"}});for(ot in zt)zt.hasOwnProperty(ot)&&(tt(ot,zt[ot]),et(ot.toLowerCase()));tt("Weeks",6048e5),rt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},rt.lang("en",{ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),vt?(module.exports=rt,nt(!0)):"function"==typeof define&&define.amd?define("moment",function(t,n,r){return r.config&&r.config()&&r.config().noGlobal!==!0&&nt(r.config().noGlobal===e),rt}):nt()}).call(this)}(),function(){RGBColorConvertor=function(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e==n&&(e=t[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=0;o<r.length;o++){var a=r[o].re,i=r[o].process,s=a.exec(e);s&&(channels=i(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,n=0;n<r.length;n++)for(var o=r[n].example,a=0;a<o.length;a++)e[e.length]=o[a];for(var i in t)e[e.length]=i;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var n=0;n<e.length;n++)try{var c=document.createElement("li"),l=new RGBColor(e[n]),u=document.createElement("div");u.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),u.appendChild(document.createTextNode("test"));var p=document.createTextNode(" "+e[n]+" -> "+l.toRGB()+" -> "+l.toHex());c.appendChild(u),c.appendChild(p),s.appendChild(c)}catch(d){}return s}}}(),function(){!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():e[t]=n()}(this,"verge",function(){function e(){return{width:u(),height:p()}}function t(e,t){var n={};return t=+t||0,n.width=(n.right=e.right+t)-(n.left=e.left-t),n.height=(n.bottom=e.bottom+t)-(n.top=e.top-t),n}function n(e,n){return e=e&&!e.nodeType?e[0]:e,e&&1===e.nodeType?t(e.getBoundingClientRect(),n):!1}function r(t){t=null==t?e():1===t.nodeType?n(t):t;var r=t.height,o=t.width;return r="function"==typeof r?r.call(t):r,o="function"==typeof o?o.call(t):o,o/r}var o={},a="undefined"!=typeof window&&window,i="undefined"!=typeof document&&document,s=i&&i.documentElement,c=a.matchMedia||a.msMatchMedia,l=c?function(e){return!!c.call(a,e).matches}:function(){return!1},u=o.viewportW=function(){var e=s.clientWidth,t=a.innerWidth;return t>e?t:e},p=o.viewportH=function(){var e=s.clientHeight,t=a.innerHeight;return t>e?t:e};return o.mq=l,o.matchMedia=c?function(){return c.apply(a,arguments)}:function(){return{}},o.viewport=e,o.scrollX=function(){return a.pageXOffset||s.scrollLeft},o.scrollY=function(){return a.pageYOffset||s.scrollTop},o.rectangle=n,o.aspect=r,o.inX=function(e,t){var r=n(e,t);return!!r&&r.right>=0&&r.left<=u()},o.inY=function(e,t){var r=n(e,t);return!!r&&r.bottom>=0&&r.top<=p()},o.inViewport=function(e,t){var r=n(e,t);return!!r&&r.bottom>=0&&r.right>=0&&r.top<=p()&&r.left<=u()},o})}(),function(){App={},AppClass={},AppCollection={},_.extend(App,{}),moment.lang("en",{monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),moment.lang("en",{weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}),App.helpers={toLowerCase:function(e){return!AppCommon._isEmpty(e)&&e.length>0?new Spacebars.SafeString(e.toLowerCase()):e},toUpperCase:function(e){return!AppCommon._isEmpty(e)&&e.length>0?new Spacebars.SafeString(e.toUpperCase()):e},toCapitalize:function(e){return!AppCommon._isEmpty(e)&&e.length>0?new Spacebars.SafeString(e[0].toUpperCase()+e.slice(1)):e},isLoggedIn:function(){return App.extensions._isLoggedIn()},eq:function(e,t,n){return!_.isBoolean(n)||AppCommon._isEmpty(e)||AppCommon._isEmpty(t)?_.isEqual(e,t):_.isEqual(e.toLowerCase(),t.toLowerCase())},neq:function(e,t,n){return!_.isBoolean(n)||AppCommon._isEmpty(e)||AppCommon._isEmpty(t)?!_.isEqual(e,t):!_.isEqual(e.toLowerCase(),t.toLowerCase())},setFontClass:function(e){return AppCommon._isEmpty(e)?void 0:App.extensions._getFontColor(e)}},_.each(App.helpers,function(e,t){UI.registerHelper(t,e)}),App.extensions={_call:function(e,t,n){return _.isUndefined(n)?Meteor.call(e,this._wrapWithXtraParam(t)):void Meteor.call(e,this._wrapWithXtraParam(t),n)},_subscribe:function(e,t,n){return e.subscribe(t,this._wrapWithXtraParam(n))},_wrapWithXtraParam:function(e){return{data:AppCommon._isEmpty(e)?void 0:e,agent:{userId:this._getUserId(),session:this._getSession()}}},_getSession:function(){return amplify.store("session")},_getUserId:function(e){return AppCommon._isEmpty(e)?amplify.store("user_id"):_.isEqual(e.toLowerCase(),"lower")?amplify.store("user_id").toLowerCase():void 0},_setSession:function(e){amplify.store("user_id",e.userId),amplify.store("session",e.session)},_isLoggedIn:function(){return!_.isUndefined(this._getSession())},_clearSession:function(){amplify.store("user_id",null),amplify.store("session",null)},_getFormData:function(e){var t=e.find("form"),n={};return _.map(t,function(e){var t=$(e),r=t.attr("id");n[r]={id:r,value:t.val().trim()}}),n},_addTitle:function(e){e=e||"LetsLeak",$("title").html(e)},_removeTitle:function(){$("title").html("LetsLeak")},_logout:function(e){if(e){location.pathname}this._clearSession(),Router.go("index")},_getFontColor:function(e){var t=new RGBColorConvertor(e),n="black";if(t.ok){var r=Math.sqrt(t.r*t.r*.299+t.g*t.g*.587+t.b*t.b*.114);n=130>r?"white":"black"}return"fontClass-"+n},_toggleHelpText:function(e,t){var n=e.type,r="#"+e.target.id,o=$(r).parent().find(".help-text").html(),a=$(r).parent().find(".help-text");t&&(a=t.$(r).parent().find(".help-text")),AppCommon._isEmpty(o)||(_.isEqual(n,"focusin")?a.removeClass("hide"):_.isEqual(n,"focusout")&&a.addClass("hide"))},_deleteSessionKeys:function(e){var t,n="";for(n in e)t=e[n],delete Session.keys[t],delete Session.keyDeps[t],delete Session.keyValueDeps[t]},_toggleDisableButton:function(e,t,n){var r=$("#"+e+" #"+t);n?r.attr("disabled","disabled"):r.removeAttr("disabled","disabled")}}}(),function(){AppLogger=function(e){this.funcName=e||""},AppLogger.prototype={constructor:AppLogger,debug:function(e){this.isDebugEnabled()&&console.debug("["+this.funcName+"] "+e)},info:function(e){this.isInfoEnabled()&&console.info("["+this.funcName+"] "+e)},error:function(e){this.isErrorEnabled()&&console.error("["+this.funcName+"] "+e)},isDebugEnabled:function(){return this.activeStatus()===this.levels.DEBUG},isInfoEnabled:function(){return this.activeStatus()===this.levels.DEBUG||this.activeStatus()===this.levels.INFO},isErrorEnabled:function(){return!(this.activeStatus()==this.levels.NONE)},activeStatus:function(){var e=this.levels.ERROR,t=location.href;return e=this.levels.NONE,-1!=t.indexOf("http://localhost")&&(e=this.levels.DEBUG),e},levels:{INFO:"INFO",DEBUG:"DEBUG",ERROR:"ERROR",NONE:"NONE"}}}(),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=function(){function e(e,t){var n=this;if(!(n instanceof Meteor.Pagination))throw"Please use the `new` constructor style "+(new Error).stack.split("\n")[2].trim();n.setCollection(e),n.setDefaults(),n.applySettings(t),n.setRouter(),n[(Meteor.isServer?"server":"client")+"Init"](),n.registerInstance()}return e.prototype.availableSettings={dataMargin:[Number,3],divWrapper:[!0,!1],filters:[Object,{}],itemTemplate:[String,"_pagesItemDefault"],navShowEdges:[Boolean,!1],navShowFirst:[Boolean,!0],navShowLast:[Boolean,!0],resetOnReload:[Boolean,!1],paginationMargin:[Number,3],perPage:[Number,10],requestTimeout:[Number,2],route:[String,"/page/"],router:[!0,!1],routerTemplate:[String,"pages"],sort:[Object,{}],fields:[Object,{}]},e.prototype.fastRender=!1,e.prototype.infinite=!1,e.prototype.infiniteItemsLimit=1/0,e.prototype.infiniteTrigger=.8,e.prototype.infiniteRateLimit=1,e.prototype.pageSizeLimit=60,e.prototype.rateLimit=1,e.prototype.homeRoute="/",e.prototype.pageTemplate="_pagesPageCont",e.prototype.navTemplate="_pagesNavCont",e.prototype.table=!1,e.prototype.tableItemTemplate="_pagesTableItem",e.prototype.tableTemplate="_pagesTable",e.prototype.templateName=!1,e.prototype._ninstances=0,e.prototype._currentPage=1,e.prototype.collections={},e.prototype.init=!0,e.prototype.instances={},e.prototype.subscriptions=[],e.prototype.currentSubscription=null,e.prototype.loadingTemplate="_pagesLoading",e.prototype.methods={CountPages:function(){var e=this;return Math.ceil(e.Collection.find(e.filters,{sort:e.sort}).count()/e.perPage)},Set:function(e,t){var n,r,o,a=this;if(null==t&&(t=void 0),null!=t)n=a.set(e,t,!1,!0);else{n=0;for(r in e)o=e[r],n+=a.set(r,o,!1,!0)}return n},Unsubscribe:function(){var e,t,n=this;for(t=[];n.subscriptions.length;)e=n.subscriptions.shift(),null!=e&&t.push(e.stop());return t}},e.prototype.preloadData=function(e,t){var n=this;return n.PreloadedData.remove({_id:e}),n.PreloadedData.insert({_id:e,v:t})},e.prototype.serverInit=function(){var e;return this.setMethods(),e=this,this.preloadData("totalPages",this.call("CountPages")),Meteor.publish(this.name,function(t){return e.publish.call(e,t,this)}),Meteor.publish(this.name+"_data",function(){return e.PreloadedData.find()})},e.prototype.clientInit=function(){var e=this;return e.requested=[],e.received=[],e.queue=[],e.setTemplates(),e.countPages(),e.infinite&&e.setInfiniteTrigger(),e.syncSettings(function(t,n){return n>0?e.reload():void 0}.bind(e))},e.prototype.reload=function(){var e=this;return e.unsubscribe(function(){return e.requested=[],e.received=[],e.queue=[],e.call("CountPages",function(t,n){var r;return e.sess("totalPages",n),r=e.currentPage(),(null==r||e.resetOnReload||r>n)&&(r=1),e.sess("currentPage",!1),e.sess("currentPage",r)}.bind(e))}.bind(e))},e.prototype.unsubscribe=function(e){var t=this;return t.call("Unsubscribe",function(){return null!=e?e():void 0}.bind(t))},e.prototype.setDefaults=function(){var e,t,n,r,o=this;n=o.availableSettings,r=[];for(e in n)t=n[e],r.push(null!=t[1]?o[e]=t[1]:void 0);return r},e.prototype.applySettings=function(e){var t,n,r,o=this;r=[];for(t in e)n=e[t],r.push(o.set(t,n,!1,!0));return r},e.prototype.syncSettings=function(e){var t,n;t={};var r=this;for(n in r.availableSettings)t[n]=r[n];return r.set(t,void 0,!0,!1,e.bind(r))},e.prototype.setMethods=function(){var e,t,n,r;n={},r=this.methods;for(t in r)e=r[t],n[this.id+t]=e.bind(this);return this.methods=n,Meteor.methods(this.methods)},e.prototype.getMethod=function(e){return this.id+e},e.prototype.call=function(e,t){var n=this;return t="function"==typeof t?t.bind(n):null,Meteor.call(n.getMethod(e),t)},e.prototype.sess=function(e,t){var n=this;return e=""+n.id+"."+e,null!=t?Session.set(e,t):Session.get(e)},e.prototype.set=function(e,t,n,r,o){var a,i,s,c=this;if(null==t&&(t=void 0),null==n&&(n=!0),null==r&&(r=!1),o=null!=o?o.bind(c):c.reload.bind(c),Meteor.isClient&&n&&c.call("Set",e,t,o),null!=t)a=c._set(e,t,r);else{a=0;for(i in e)s=e[i],a+=c._set(i,s,r)}return a},e.prototype._set=function(e,t,n){var r,o=this;return null==n&&(n=!1),r=0,n||e in o.availableSettings?(null!=o.availableSettings[e]&&o.availableSettings[e][0]!==!0&&check(t,o.availableSettings[e][0]),JSON.stringify(o[e])!==JSON.stringify(t)&&(r=1),o[e]=t):new Meteor.Error(400,"Setting not available."),r},e.prototype.setId=function(t){var n,r=this;return r.templateName&&(t=r.templateName),t in e.prototype.instances&&(n=t.match(/[0-9]+$/),null!=n?t=t.slice(0,+n[0].length+1||9e9)+parseInt(n)+1:t+="2"),r.id="pages_"+t,r.name=t},e.prototype.registerInstance=function(){var t=this;return e.prototype._ninstances++,e.prototype.instances[t.name]=t},e.prototype.setCollection=function(t){var n,r,o=this;if("object"==typeof t)e.prototype.collections[t._name]=t,o.Collection=t;else{r=!0;try{o.Collection=new Meteor.Collection(t),e.prototype.collections[o.name]=o.Collection}catch(a){n=a,r=!1,o.Collection=e.prototype.collections[o.name],o.Collection instanceof Meteor.Collection||function(){throw"The '"+t+"' collection was created outside of <Meteor.Pagination>. Pass the collection object instead of the collection's name to the <Meteor.Pagination> constructor."}()}}return o.setId(o.Collection._name),o.PaginatedCollection=new Meteor.Collection(o.id),o.PreloadedData=new Meteor.Collection(o.id+"_data")},e.prototype.setRouter=function(){var e,t,n,r,o=this;return"iron-router"===o.router&&(t=""+o.route+":n",r=o.routerTemplate,n=o,e=!0,Router.map(function(){return n.homeRoute&&o.route("home",{path:n.homeRoute,template:r,onBeforeAction:function(){return n.sess("oldPage",1),n.sess("currentPage",1)}}),n.infinite?void 0:o.route("page",{path:t,template:r,onBeforeAction:function(){return n.onNavClick(parseInt(o.params.n))}})}),Meteor.isServer&&o.fastRender)?(n=o,FastRender.route(""+o.route+":n",function(e){return o.subscribe(n.name+"_data"),o.subscribe(n.name,parseInt(e.n))}),FastRender.route(o.homeRoute,function(){return o.subscribe(n.name+"_data"),o.subscribe(n.name,1)})):void 0},e.prototype.setPerPage=function(){var e=this;return e.perPage=e.pageSizeLimit<e.perPage?e.pageSizeLimit:e.perPage},e.prototype.setTemplates=function(){var e,t,n,r,o,a=this;for(t=a.templateName||a.name,a.table&&"_pagesItemDefault"===a.itemTemplate&&(a.itemTemplate=a.tableItemTemplate),o=[a.navTemplate,a.pageTemplate,a.itemTemplate,a.tableTemplate],n=0,r=o.length;r>n;n++)e=o[n],Template[e].pagesData=a;return _.extend(Template[t],{pagesData:a,pagesNav:Template[a.navTemplate],pages:Template[a.pageTemplate]})},e.prototype.countPages=function(){var e=this;return e.call("CountPages",function(t,n){return e.sess("totalPages",n)}.bind(e))},e.prototype.publish=function(e,t){var n,r,o,a,i,s,c=this;return c.setPerPage(),s=(e-1)*c.perPage,0>s&&(s=0),o=!0,n=c.Collection.find(c.filters,{sort:c.sort,fields:c.fields,skip:s,limit:c.perPage}),i=c,r=c.Collection.find().observeChanges({changed:function(e,t,n){var r;try{return e.changed(c.id,t,n)}catch(o){r=o}}.bind(c,t),added:function(e,t,n){var r;try{if(!o)return e.added(c.id,t,n)}catch(a){r=a}}.bind(c,t),removed:function(e,t){var n;try{return e.removed(c.id,t)}catch(r){n=r}}.bind(c,t)}),a=0,n.forEach(function(n,r){return a++,n["_"+c.id+"_p"]=e,n["_"+c.id+"_i"]=r,t.added(c.id,n._id,n)}.bind(c)),o=!1,t.onStop(function(){return r.stop()}),c.ready(),c.subscriptions.push(t),n},e.prototype.loading=function(e){var t=this;return t.fastRender||e!==t.currentPage()||"undefined"==typeof Session||null===Session?void 0:t.sess("ready",!1)},e.prototype.now=function(){return(new Date).getTime()},e.prototype.log=function(e){var t=this;return console.log(""+t.name+" "+e)},e.prototype.logRequest=function(e){var n=this;return n.timeLastRequest=n.now(),n.loading(e),t.call(n.requested,e)<0?n.requested.push(e):void 0},e.prototype.logResponse=function(e){var n=this;return t.call(n.received,e)<0?n.received.push(e):void 0},e.prototype.clearQueue=function(){var e=this;return e.queue=[]},e.prototype.neighbors=function(e){var t,n,r,o,a,i=this;if(i.n=[e],0===i.dataMargin)return i.n;for(t=o=1,a=i.dataMargin;a>=1?a>=o:o>=a;t=a>=1?++o:--o)n=e+t,n<=i.sess("totalPages")&&i.n.push(n),r=e-t,r>0&&i.n.push(r);return i.n},e.prototype.paginationNavItem=function(e,t,n,r){return null==r&&(r=!1),{p:e,n:t,active:r?"active":"",disabled:n?"disabled":""}},e.prototype.paginationNeighbors=function(){var e,t,n,r,o,a,i,s,c,l,u,p=this;for(a=p.currentPage(),s=p.sess("totalPages"),e=a-p.paginationMargin,i=a+p.paginationMargin,1>e&&(i+=1-e,e=1),i>s&&(e-=i-s,i=s),1>e&&(e=1),i>s&&(i=s),r=[],(p.navShowFirst||p.navShowEdges)&&r.push(p.paginationNavItem("«",1,1===a)),r.push(p.paginationNavItem("<",a-1,1===a)),o=c=e;i>=e?i>=c:c>=i;o=i>=e?++c:--c)r.push(p.paginationNavItem(o,o,a>s,o===a));
for(r.push(p.paginationNavItem(">",a+1,a>=s)),(p.navShowLast||p.navShowEdges)&&r.push(p.paginationNavItem("»",s,a>=s)),n=l=0,u=r.length;u>l;n=++l)t=r[n],r[n]._p=p;return r},e.prototype.onNavClick=function(e){var t=this;return e<=t.sess("totalPages")&&e>0?(Deps.nonreactive(function(){return t.sess("oldPage",t.sess("currentPage"))}.bind(t)),t.sess("currentPage",e)):void 0},e.prototype.setInfiniteTrigger=function(){var e=this;return window.onscroll=_.throttle(function(){var e=$("#pageCont li"),t=e.length,n=e[t-1];if(verge.inViewport(n,500)){var r=void 0;return _.each(Meteor.Pagination.prototype.instances,function(e){_.isEqual(e.homeRoute,Router.current().path)&&(r=e)}),r&&r.lastPage<r.sess("totalPages")?r.sess("currentPage",r.lastPage+1):void 0}},1e3*e.infiniteRateLimit).bind(e)},e.prototype.checkQueue=function(){var e,n=this;if(n.queue.length){for(;!(t.call(n.neighbors(n.currentPage()),e)>=0)&&n.queue.length;)e=n.queue.shift();if(t.call(n.neighbors(n.currentPage()),e)>=0)return n.requestPage(e)}},e.prototype.currentPage=function(){var e=this;return Meteor.isClient&&null!=e.sess("currentPage")?e.sess("currentPage"):e._currentPage},e.prototype.isReady=function(){var e=this;return e.sess("ready")},e.prototype.ready=function(e){var t=this;return e===!0||e===t.currentPage()&&"undefined"!=typeof Session&&null!==Session?t.sess("ready",!0):void 0},e.prototype.checkInitPage=function(){var e,t,n=this;if(n.init=!1,e=location.pathname.match(new RegExp(""+n.route+"([0-9]+)")))t=parseInt(e[1]);else{if(location.pathname!==n.homeRoute)return;t=1}return n.sess("oldPage",t),n.sess("currentPage",t)},e.prototype.getPage=function(e){var n,r,o,a,i,s,c,l=this;if(Meteor.isClient){if(null==e&&(e=l.currentPage()),e=parseInt(e),0/0===e)return;if(a=l.sess("totalPages"),0===a)return l.ready(!0);if(a>=e)for(c=l.neighbors(e),i=0,s=c.length;s>i;i++)o=c[i],t.call(l.received,o)<0&&l.requestPage(o);return l.infinite?(r=l.PaginatedCollection.find({},{fields:l.fields,sort:l.sort}).count(),n=l.PaginatedCollection.find({},{fields:l.fields,sort:l.sort,skip:1/0!==l.infiniteItemsLimit&&r>l.infiniteItemsLimit?r-l.infiniteItemsLimit:0,limit:l.infiniteItemsLimit}).fetch()):n=l.PaginatedCollection.find(_.object([["_"+l.id+"_p",e]]),{fields:l.fields}).fetch(),n}},e.prototype.requestPage=function(e){var n=this;if(!(t.call(n.requested,e)>=0))return e===n.currentPage()&&n.clearQueue(),n.queue.push(e),n.logRequest(e),Meteor.defer(function(e){return n.subscriptions[e]=Meteor.subscribe(n.name,e,{onReady:function(e){return n.onPage(e)}.bind(n,e),onError:function(e){return new Meteor.Error(e.message)}.bind(n)})}.bind(n,e))},e.prototype.onPage=function(e){var t=this;return t.logResponse(e),t.ready(e),t.infinite&&(t.lastPage=e),t.checkQueue()},e}(),Meteor.Pagination=e}(),function(){AppCommon={},AppCommon={_isEmpty:function(e){return _.isUndefined(e)||_.isNull(e)?!0:_.isNumber(e)?_.isNaN(e):_.isBoolean(e)?!1:(_.isString(e)&&(e=e.trim()),_.isEmpty(e))},_toJSON:function(e){return this._isEmpty(e)?void 0:JSON.stringify(e)}},AppHelper={},AppHelper={isVaildEmail:function(e){var t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return t.test(e)}}}(),function(){function e(){}Template.BucketPostList.events({"click #removePostButton":function(e,n){t.hideErrors(),t.removePost(e,n)},"click #showMorePostButton":function(e,n){t.hideErrors(),t.loadMorePost(e,n)},"click #reloadPostButton":function(){t.hideErrors(),t.getPost()}}),Template.BucketPostList.helpers({init:function(e){Session.set("templateStatus",t.templateStatus.LOADING),Session.set("BucketPostListLastUpdatedTime",Date.now()),n.debug("init bucket:"+e),AppCommon._isEmpty(e)||(r=e._id,o=1,t.getPost())},templateStatus:function(){return Session.get("templateStatus")},postList:function(){return AppCollection.Local.find({f_local_type:"POST"})},postExist:function(){return AppCollection.Local.find({f_local_type:"POST"}).count()},totalPostCount:function(){return t.postCount()},lastUpdated:function(){return Session.get("BucketPostListLastUpdatedTime")}}),e.prototype={constructor:e,templateName:"bucketPostListTemplate",errorPrefix:"bucketPostList",templateStatus:{LOADING:"loading",INVALID:"invalid",READY:"ready"},getPost:function(){Session.set("templateStatus",t.templateStatus.LOADING),n.debug("getPost bucketId:"+r+" limit:"+o);var e={bucketId:r,limit:o*a};App.extensions._call("/bucket/getPostListWithLimit",e,this.getPostHandler)},getPostHandler:function(e,r){if(n.debug("/getPostHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("/getPostHandler "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=[];return-1!=a.indexOf(e.error)?o.showBlockError(t.templateName,t.errorPrefix,e.error):o.showCustomBlockError(t.templateName,t.errorPrefix,e.error),void Session.set("templateStatus",t.templateStatus.INVALID)}if(!AppCommon._isEmpty(r.message.bucket)){var i=r.message.bucket,s={$and:[{f_local_type:"BUCKET"},{_id:i._id}]},c={$set:{f_bucket:i.f_bucket,f_followCount:i.f_followCount,f_post_id_list:i.f_post_id_list,f_postListCount:AppCommon._isEmpty(i.f_post_id_list)?0:i.f_post_id_list.length}};AppCollection.Local.update(s,c),AppCollection.Local.remove({f_local_type:"POST"}),_.forEach(r.message.postList,function(e){AppCollection.Local.insert(_.extend(e,{f_local_type:"POST"}))}),Session.set("templateStatus",t.templateStatus.READY),Session.get("BucketPostListLastUpdatedTime",Date.now())}},removePost:function(e){var o=e.currentTarget.value,a={bucketId:r,postId:o};App.extensions._call("/bucket/removePost",a,function(e,r){if(n.debug("/getPostHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("/getPostHandler "+AppCommon._toJSON(e));var a=new AppClass.GenericError,i=[];return void(-1!=i.indexOf(e.error)?a.showBlockError(t.templateName,t.errorPrefix,e.error):a.showCustomBlockError(t.templateName,t.errorPrefix,e.error))}AppCollection.Local.remove({$and:[{f_local_type:"POST"},{_id:o}]})})},loadMorePost:function(){var e=this.postCount();e>=o*a&&o++,this.getPost()},postCount:function(){var e=AppCollection.Local.findOne({$and:[{f_local_type:"BUCKET"},{_id:r}]});return AppCommon._isEmpty(e)||AppCommon._isEmpty(e.f_post_id_list)?0:e.f_post_id_list.length},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("BucketPostList"),r="",o=0,a=15;Template.BucketPostList.created=function(){},Template.BucketPostList.rendered=function(){Session.setDefault("templateStatus",t.templateStatus.LOADING),Session.setDefault("BucketPostListLastUpdatedTime",Date.now())},Template.BucketPostList.destroyed=function(){App.extensions._deleteSessionKeys(["templateStatus"]),AppCollection.Local.remove({f_local_type:"POST"})}}(),function(){function e(){this.sessionMap={}}Template.ActiveSessionSettings.events({"click #logoutAllAction":function(){t.logoutAll()}}),Template.ActiveSessionSettings.helpers({}),e.prototype={constructor:e,addSessionItemToView:function(e){if($("#noSessionData").addClass("hide"),$("#sessionData").addClass("hide"),AppCommon._isEmpty(e))$("#noSessionData").removeClass("hide");else{$("#sessionData").removeClass("hide"),e=_.map(e,function(e){return moment(e).format("MMM D YYYY, h:mm A")});var t=$("#sessionList .sessionItemTemplate");_.each(e,function(e){n.debug("item : "+e);var r=$(t).clone().removeClass("sessionItemTemplate");$(r).find("span").text(e),$("#sessionList").append(r)})}},logoutAll:function(){App.extensions._call("/logoutActiveSession","",this.logoutAllHandler)},logoutAllHandler:function(e,r){return n.debug("/logoutAllHandler : error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e?(alert(AppCommon._toJSON(e)),void n.error(AppCommon._toJSON(e))):void t.addSessionItemToView(r)}};var t=new e,n=new AppLogger("ActiveSessionSettings");Template.ActiveSessionSettings.created=function(){var e=App.extensions._wrapWithXtraParam();n.debug(AppCommon._toJSON(e)),Meteor.apply("/login/getSessionList",[e],function(e,r){return n.debug("/getSessionMap : error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e?void alert(AppCommon._toJSON(e)):($("#wait").addClass("hide"),$("#sessionData").fadeIn(100),t.sessionMap=r,void t.addSessionItemToView(r))})},Template.ActiveSessionSettings.rendered=function(){},Template.ActiveSessionSettings.destroyed=function(){}}(),function(){function e(){}Template.PasswordSettings.events({"click #changePasswordButton":function(e,n){e.preventDefault(),t.hideErrors(),t.changePassword(e,n)},"focus input":function(e){App.extensions._toggleHelpText(e)},"focusout input":function(e){var r=e.target.id,o=new AppClass.GenericError,a=$("#"+r).val();switch(r){case"currentPassword":t.currentPasswordCheck(a,o);break;case"newPassword":t.newPasswordCheck(a,o);break;case"confirmNewPassword":t.confirmNewPasswordCheck(a,$("#newPassword").val(),o)}o.isEmpty?(n.debug("else : value:"+a+" errors:"+o+" elemId:"+r),o.removeElementError(r,t.templateName),$("#"+r+"Group").addClass("has-success")):(n.debug("showElementError : value:"+a+" errors:"+o+" elemId:"+r),o.showElementError(o.errorArray,t.templateName))}}),Template.PasswordSettings.helpers({}),e.prototype={constructor:e,templateName:"passwordSettingsTemplate",errorPrefix:"passwordSettings",changePassword:function(e,t){var r=this,o=App.extensions._getFormData(t);if(n.debug(AppCommon._toJSON(o)),this.isValidForm(o)){var a={currentPassword:o.currentPassword.value,password:o.newPassword.value};n.debug(AppCommon._toJSON(a)),App.extensions._toggleDisableButton(r.templateName,"changePasswordButton",!0),App.extensions._call("/account/changePassword",a,this.changePasswordHandler)}},changePasswordHandler:function(e,r){if(App.extensions._toggleDisableButton(t.templateName,"changePasswordButton",!1),n.debug("changePasswordHandler : error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("changePasswordHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["L_102"],i=[""];return-1!=a.indexOf(e.error)&&o.add(e.error,"currentPassword"),-1!=i.indexOf(e.error)&&(o.add(e.error,"newPassword"),o.add(e.error,"confirmNewPassword")),void(o.isEmpty?o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName))}$("input").val(""),$("#changePasswordForm .has-success").removeClass("has-success"),$("#passwordSettings-generic-success").fadeIn(10).delay(5e3).fadeOut("fast")},isValidForm:function(e){var t=new AppClass.GenericError,r=e.currentPassword.value,o=e.newPassword.value,a=e.confirmNewPassword.value;return this.currentPasswordCheck(r,t),this.newPasswordCheck(o,t),this.confirmNewPasswordCheck(a,o,t),n.debug("isValidForm errors : "+AppCommon._toJSON(t)),t.isEmpty?($("#changePasswordForm .has-error").removeClass("has-error"),$("#changePasswordForm .error-text").html("").hide()):t.showElementError(t.errorArray,this.templateName),t.isEmpty},currentPasswordCheck:function(e,t){n.debug("currentPasswordCheck"),AppCommon._isEmpty(e)&&t.add("PS_101","currentPassword")},newPasswordCheck:function(e,t){if(n.debug("newPasswordCheck"),AppCommon._isEmpty(e)&&t.add("PS_101","newPassword"),e){var r=/(?=.*[A-Za-z])(?=.*[0-9])[A-Za-z0-9]+/g;r.test(e)||t.add("PS_103","newPassword"),e.length<8&&t.add("PS_104","newPassword")}},confirmNewPasswordCheck:function(e,t,r){n.debug("confirmNewPasswordCheck"),AppCommon._isEmpty(e)?r.add("PS_101","confirmNewPassword"):_.isEqual(t,e)||r.add("PS_102","confirmNewPassword")},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("PasswordSettings");Template.PasswordSettings.created=function(){},Template.PasswordSettings.rendered=function(){},Template.PasswordSettings.destroyed=function(){}}(),function(){function e(){}Template.SecuritySettings.events({"focus input":function(e){App.extensions._toggleHelpText(e)},"focusout input":function(e){var r=e.target.id,o=new AppClass.GenericError,a=$("#"+r).val();switch(r){case"currentPassword":t.currentPasswordCheck(a,o);break;case"newPin":t.pinCheck(a,o);break;case"confirmNewPin":t.confirmPinCheck(a,$("#newPin").val(),o)}o.isEmpty?(n.debug("else : value:"+a+" errors:"+o+" elemId:"+r),o.removeElementError(r,t.templateName),$("#"+r+"Group").addClass("has-success")):(n.debug("showElementError : value:"+a+" errors:"+o+" elemId:"+r),o.showElementError(o.errorArray,t.templateName))},"click #changePinButton":function(e,n){e.preventDefault(),t.hideErrors(),t.changePin(e,n)}}),Template.SecuritySettings.helpers({}),e.prototype={constructor:e,templateName:"securitySettingsTemplate",errorPrefix:"securitySettings",changePin:function(e,t){var r=this,o=App.extensions._getFormData(t);if(n.debug(AppCommon._toJSON(o)),this.isValidForm(o)){var a={currentPassword:o.currentPassword.value,pin:o.newPin.value};n.debug(AppCommon._toJSON(a)),App.extensions._toggleDisableButton(r.templateName,"changePinButton",!0),App.extensions._call("/account/changePin",a,this.changePindHandler)}},changePindHandler:function(e,r){if(App.extensions._toggleDisableButton(t.templateName,"changePinButton",!1),n.debug("changePindHandler : error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("changePindHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["L_102"],i=[""];return-1!=a.indexOf(e.error)&&o.add(e.error,"currentPassword"),-1!=i.indexOf(e.error)&&(o.add(e.error,"newPassword"),o.add(e.error,"confirmNewPassword")),void(o.isEmpty?o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName))}t.reset()},isValidForm:function(e){var t=new AppClass.GenericError,r=e.currentPassword.value,o=e.newPin.value,a=e.confirmNewPin.value;return this.currentPasswordCheck(r,t),this.pinCheck(o,t),this.confirmPinCheck(a,o,t),n.debug("isValidForm errors : "+AppCommon._toJSON(t)),t.isEmpty?($("#securityPinChangeForm .has-error").removeClass("has-error"),$("#securityPinChangeForm .error-text").html("").hide()):t.showElementError(t.errorArray,this.templateName),t.isEmpty},currentPasswordCheck:function(e,t){n.debug("usernameCheck"),AppCommon._isEmpty(e)&&t.add("SS_101","currentPassword")},pinCheck:function(e,t){n.debug("pinCheck"),AppCommon._isEmpty(e)&&t.add("SS_101","newPin"),e&&e.length<5&&t.add("SS_102","newPin")},confirmPinCheck:function(e,t,r){n.debug("confirmPinCheck"),AppCommon._isEmpty(e)?r.add("SS_101","confirmNewPin"):_.isEqual(t,e)||r.add("SS_103","confirmNewPin")},reset:function(){this.hideErrors(),$("input").val(""),$("#securityPinChangeForm .has-success").removeClass("has-success"),$("#securitySettings-generic-success").fadeIn(10).delay(5e3).fadeOut("fast")},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("SecuritySettings");Template.SecuritySettings.created=function(){},Template.SecuritySettings.rendered=function(){},Template.SecuritySettings.destroyed=function(){}}(),function(){function e(){}Template.Settings.events({"click #passwordOption,#securityOption,#activeSessionOption":function(e,n){t.showPanel(e,n)}}),Template.Settings.helpers({templateName:function(){return Session.get("settingsTemplate")}}),e.prototype={constructor:e,templateName:"settingsTemplate",init:{currentList:"password-li"},showPanel:function(e){var t=e.currentTarget.id,r=t.replace("Option","Settings");r=r[0].toUpperCase()+r.slice(1);var o=t.replace("Option","-li");if(t=t.replace("Option","-settings"),!_.isEqual(this.init.currentList,o)){n.debug(r);var a=this.init.currentList;this.init.currentList=o,$("#"+a).removeClass("active"),$("#"+o).addClass("active"),Session.set("settingsTemplate",r)}}};var t=new e,n=new AppLogger("Settings");Template.Settings.created=function(){Session.setDefault("settingsTemplate","PasswordSettings")},Template.Settings.rendered=function(){},Template.Settings.destroyed=function(){App.extensions._deleteSessionKeys(["settingsTemplate"])}}(),function(){!function(e,t,n){"use strict";var r=e(t),o=t.Modernizr;o.addTest("csstransformspreserve3d",function(){var e,n=o.prefixed("transformStyle"),r="preserve-3d";return n?(n=n.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),o.testStyles("#modernizr{"+n+":"+r+";}",function(r){e=t.getComputedStyle?getComputedStyle(r,null).getPropertyValue(n):""}),e===r):!1});var a,i,s=e.event;a=s.special.debouncedresize={setup:function(){e(this).on("resize",a.handler)},teardown:function(){e(this).off("resize",a.handler)},handler:function(e,t){var n=this,r=arguments,o=function(){e.type="debouncedresize",s.dispatch.apply(n,r)};i&&clearTimeout(i),t?o():i=setTimeout(o,a.threshold)},threshold:150},e.BookBlock=function(t,n){this.$el=e(n),this._init(t)},e.BookBlock.defaults={orientation:"vertical",direction:"ltr",speed:1e3,easing:"ease-in-out",shadows:!0,shadowSides:.2,shadowFlip:.1,circular:!1,nextEl:"",prevEl:"",autoplay:!1,interval:3e3,onEndFlip:function(){return!1},onBeforeFlip:function(){return!1}},e.BookBlock.prototype={_init:function(t){this.options=e.extend(!0,{},e.BookBlock.defaults,t),this.$el.addClass("bb-"+this.options.orientation),this.$items=this.$el.children(".bb-item").hide(),this.itemsCount=this.$items.length,this.current=this.options.currentPage,this.previous=this.current-1,this.$current=this.$items.eq(this.current).show(),this.elWidth=this.$el.width();var n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=n[o.prefixed("transition")]+".bookblock",this.support=o.csstransitions&&o.csstransforms3d&&o.csstransformspreserve3d,this._initEvents(),this.options.autoplay&&(this.options.circular=!0,this._startSlideshow())},_initEvents:function(){var t=this;""!==this.options.nextEl&&e(this.options.nextEl).on("click.bookblock touchstart.bookblock",function(){return t._action("next"),!1}),""!==this.options.prevEl&&e(this.options.prevEl).on("click.bookblock touchstart.bookblock",function(){return t._action("prev"),!1}),r.on("debouncedresize",function(){t.elWidth=t.$el.width()})},_action:function(e,t){this._stopSlideshow(),this._navigate(e,t)},_navigate:function(e,t){return this.isAnimating?!1:(this.options.onBeforeFlip(this.current),this.isAnimating=!0,this.$current=this.$items.eq(this.current),t!==n?this.current=t:"next"===e&&"ltr"===this.options.direction||"prev"===e&&"rtl"===this.options.direction?this.options.circular||this.current!==this.itemsCount-1?(this.previous=this.current,this.current=this.current<this.itemsCount-1?this.current+1:0):this.end=!0:("prev"===e&&"ltr"===this.options.direction||"next"===e&&"rtl"===this.options.direction)&&(this.options.circular||0!==this.current?(this.previous=this.current,this.current=this.current>0?this.current-1:this.itemsCount-1):this.end=!0),this.$nextItem=!this.options.circular&&this.end?this.$current:this.$items.eq(this.current),void(this.support?this._layout(e):this._layoutNoSupport(e)))},_layoutNoSupport:function(e){this.$items.hide(),this.$nextItem.show(),this.end=!1,this.isAnimating=!1;var t="next"===e&&this.current===this.itemsCount-1||"prev"===e&&0===this.current;this.options.onEndFlip(this.previous,this.current,t)},_layout:function(t){var n=this,r=this._addSide("left",t),o=this._addSide("middle",t),a=this._addSide("right",t),i=r.find("div.bb-overlay"),s=o.find("div.bb-flipoverlay:first"),c=o.find("div.bb-flipoverlay:last"),l=a.find("div.bb-overlay"),u=this.end?400:this.options.speed;if(this.$items.hide(),this.$el.prepend(r,o,a),o.css({transitionDuration:u+"ms",transitionTimingFunction:this.options.easing}).on(this.transEndEventName,function(r){if(e(r.target).hasClass("bb-page")){n.$el.children(".bb-page").remove(),n.$nextItem.show(),n.end=!1,n.isAnimating=!1;var o="next"===t&&n.current===n.itemsCount-1||"prev"===t&&0===n.current;n.options.onEndFlip(n.previous,n.current,o)}}),"prev"===t&&o.addClass("bb-flip-initial"),this.options.shadows&&!this.end){var p="next"===t?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"}:{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides},d="next"===t?{transition:"opacity "+this.options.speed/2+"ms linear"}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip},f="next"===t?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip}:{transition:"opacity "+this.options.speed/2+"ms linear"},h="next"===t?{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"};s.css(d),c.css(f),i.css(p),l.css(h)}setTimeout(function(){o.addClass(n.end?"bb-flip-"+t+"-end":"bb-flip-"+t),n.options.shadows&&!n.end&&(s.css({opacity:"next"===t?n.options.shadowFlip:0}),c.css({opacity:"next"===t?0:n.options.shadowFlip}),i.css({opacity:"next"===t?n.options.shadowSides:0}),l.css({opacity:"next"===t?0:n.options.shadowSides}))},25)},_addSide:function(t,n){var r;switch(t){case"left":r=e('<div class="bb-page"><div class="bb-back"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===n?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",102);break;case"middle":r=e('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===n?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-flipoverlay"></div></div></div><div class="bb-back"><div class="bb-outer"><div class="bb-content" style="width:'+this.elWidth+'px"><div class="bb-inner">'+("next"===n?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-flipoverlay"></div></div></div></div>').css("z-index",103);break;case"right":r=e('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===n?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",101)}return r},_startSlideshow:function(){var e=this;this.slideshow=setTimeout(function(){e._navigate("next"),e.options.autoplay&&e._startSlideshow()},this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.options.autoplay=!1)},next:function(){this._action("ltr"===this.options.direction?"next":"prev")},prev:function(){this._action("ltr"===this.options.direction?"prev":"next")},jump:function(e){if(e-=1,e===this.current||e>=this.itemsCount||0>e)return!1;var t;t="ltr"===this.options.direction?e>this.current?"next":"prev":e>this.current?"prev":"next",this._action(t,e)},last:function(){this.jump(this.itemsCount)},first:function(){this.jump(1)},isActive:function(){return this.isAnimating},update:function(){var e=this.$items.eq(this.current);this.$items=this.$el.children(".bb-item"),this.itemsCount=this.$items.length,this.current=e.index()},destroy:function(){this.options.autoplay&&this._stopSlideshow(),this.$el.removeClass("bb-"+this.options.orientation),this.$items.show(),""!==this.options.nextEl&&e(this.options.nextEl).off(".bookblock"),""!==this.options.prevEl&&e(this.options.prevEl).off(".bookblock"),r.off("debouncedresize")}};var c=function(e){t.console&&t.console.error(e)};e.fn.bookblock=function(t){if("string"==typeof t){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=e.data(this,"bookblock");return r?e.isFunction(r[t])&&"_"!==t.charAt(0)?void r[t].apply(r,n):void c("no such method '"+t+"' for bookblock instance"):void c("cannot call methods on bookblock prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var n=e.data(this,"bookblock");n?n._init(t):n=e.data(this,"bookblock",new e.BookBlock(t,this))});return this}}(jQuery,window)}(),function(){function e(){this.editableByPublic=!0,this.accessType="PUBLIC",this._bucket={}}Template.AddUpdateBucket.events({"click #addAction":function(e,n){e.preventDefault(),t.hideError(),t.addUpdateBucket(e,n)},"click #yes_editable, click #no_editable":function(e){t.editableByPublic=_.isEqual("yes_editable",e.currentTarget.id),n.debug("editable clicked editableByPublic: "+t.editableByPublic);var r="yes_editable",o="no_editable";t.editableByPublic||(r="no_editable",o="yes_editable");var a="btn-options",i="btn-options inactive",s="#editableByPublic";$(s+" #"+r).removeClass(i).addClass(a),$(s+" #"+o).removeClass(a).addClass(i)},"click #yes_public, click #no_public":function(e,r){var o="",a="";_.isEqual("yes_public",e.currentTarget.id)?(o="yes_public",a="no_public",t.accessType="PUBLIC",r.$("#editableByPublic").show()):(o="no_public",a="yes_public",t.accessType="PRIVATE",r.$("#editableByPublic").hide());var i="btn-options",s="btn-options inactive",c="#access";$(c+" #"+o).removeClass(s).addClass(i),$(c+" #"+a).removeClass(i).addClass(s),n.debug("isPublic clicked accessType:"+t.accessType)},"focus input, focus textarea":function(e,t){App.extensions._toggleHelpText(e,t)},"focusout input, focusout textarea":function(e,r){var o=e.target.id,a=new AppClass.GenericError,i=r.$("#"+o).val();switch(o){case"bucketName":t.bucketNameCheck(i,a);break;case"bucketDesc":t.bucketDescCheck(i,a)}a.isEmpty?(a.removeElementError(o,t.templateName),r.$("#"+o+"Group").addClass("has-success")):a.showElementError(a.errorArray,t.templateName),n.debug("focusout input elemId:"+o)}}),Template.AddUpdateBucket.helpers({_updateBucket:function(e,n){t.addUpdateBucket(e,n)},_setTemplateName:function(e){AppCommon._isEmpty(e)?(t.templateName="addUpdateBucketTemplate",t.editableByPublic=r.editableByPublic,t.accessType=r.accessType):(n.debug("_setTemplateName setting new template"),r.editableByPublic=t.editableByPublic,r.accessType=t.accessType,t.templateName=e,t.clear()),n.debug("_setTemplateName templateName:"+t.templateName)},_getModalData:function(){return{editableByPublic:t.editableByPublic,accessType:t.accessType}}}),e.prototype={constructor:e,templateName:"addUpdateBucketTemplate",errorPrefix:"addUpdateBucket",addUpdateBucket:function(e,t){var r=this,o=App.extensions._getFormData(t);if(this.isValidBucket(o)){var a=o.bucketName.value,i=o.bucketDesc.value,s=o.bucketId.value,c=o.action.value,l=new AppClass.Bucket(a,i,r.accessType,r.editableByPublic,s,c);n.debug("call /bucket/addUpdateBucket bucket : "+l),App.extensions._toggleDisableButton(r.templateName,"addAction",!0),App.extensions._toggleDisableButton(r.templateName,"saveAction",!0),this._bucket=l,App.extensions._call("/bucket/addUpdateBucket",l,r.addUpdateBucketHandler)}},addUpdateBucketHandler:function(e,r){if(n.debug("addUpdateBucketHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(t.templateName,"addAction",!1),App.extensions._toggleDisableButton(t.templateName,"saveAction",!1),e){n.error("addUpdateBucketHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["B_101","B_102","B_103"],i=["B_104","B_105"];return-1!=a.indexOf(e.error)&&o.add(e.error,"bucketName"),-1!=i.indexOf(e.error)&&o.add(e.error,"bucketDesc"),o.isEmpty?o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName),void(_.isEqual(e.error,"B_1004")&&!_.isEqual(t.templateName,"updateBucketMetaTemplate")&&t.clear())}var s={},c=t._bucket;if(_.isEqual(t.templateName,"updateBucketMetaTemplate")){s={$and:[{f_local_type:"BUCKET"},{_id:c.bucketId}]};var l={$set:{"f_bucket.f_desc":c.getDesc(),"f_bucket.f_access":c.getAccess(),"f_bucket.f_isEditable":c.isBucketEditable(),f_lastUpdated:(new Date).getTime()}};AppCollection.Local.update(s,l),Template.UpdateBucketMeta._closeUpdateModal()}else{var u=r.message,p=(new Date).getTime(),d={_id:u,f_userId:App.extensions._getUserId(),f_bucket:{f_name:c.name,f_desc:c.desc,f_access:c.access,f_isEditable:c.isEditable},f_timestamp:p,f_lastUpdated:p,f_local_type:"BUCKET"};AppCollection.Local.insert(d),t.clear()}Template.UserBucketList._updateUserBucketList()},isValidBucket:function(e){var t=new AppClass.GenericError;return this.bucketNameCheck(e.bucketName.value,t),this.bucketDescCheck(e.bucketDesc.value,t),n.debug(t),t.isEmpty||t.showElementError(t.errorArray,this.templateName),t.isEmpty},bucketNameCheck:function(e,t){n.debug("bucketNameCheck"),AppCommon._isEmpty(e)&&t.add("B_101","bucketName"),e&&e.length>50&&t.add("B_102","bucketName"),e&&e!=e.match(/^[a-zA-Z0-9\s\.\*\!\&\'\,\-\?\(\)\:]+$/)&&t.add("B_103","bucketName")},bucketDescCheck:function(e,t){n.debug("bucketDescCheck"),AppCommon._isEmpty(e)&&t.add("B_104","bucketDesc"),e&&e.length>150&&t.add("B_105","bucketDesc")},clear:function(){var e=this;n.debug("clearing add bucket template"),$("#"+e.templateName+" #bucketName").val(""),$("#"+e.templateName+" #bucketDesc").val(""),$("#"+e.templateName+" #yes_public").click(),$("#"+e.templateName+" #yes_editable").click(),e.editableByPublic=!0,e.accessType="PUBLIC",$("#"+e.templateName+" .has-error").each(function(){$(this).removeClass("has-error"),$(this).find(".error-text").html("")}),$("#"+e.templateName+" .has-success").each(function(){$(this).removeClass("has-success")}),this.hideError()},hideError:function(){$("#"+this.templateName+" #generic-error").html("")}};var t=new e,n=new AppLogger("AddUpdateBucket"),r={};Template.AddUpdateBucket.created=function(){},Template.AddUpdateBucket.rendered=function(){AppCommon._isEmpty(this.data)||"update"!==this.data.templateType?this.$("#action").val("ADD"):(this.$("#actionButtons").remove(),this.$("#action").val("UPDATE"))},Template.AddUpdateBucket.destroyed=function(){n.debug("destroy called")}}(),function(){function e(){this.bucket={}}Template.DeleteBucket.events({"click #deleteButton":function(e,n){t.hideErrors(),t.deleteBucket(e,n)}}),Template.DeleteBucket.helpers({_showDeleteModal:function(e){n.debug("show delete modal");var r=e.currentTarget.value;t.bucket=AppCollection.Local.findOne({$and:[{_id:r},{f_local_type:"BUCKET"}]}),n.debug("_showDeleteModal delete bucket:"+AppCommon._toJSON(t.bucket)),$("#"+t.templateName+" #bucketName").html(t.bucket.f_bucket.f_name.trim()),$("#"+t.templateName+" #bucketId").val(r),$("#"+t.templateName+" #deleteModal").modal()}}),e.prototype={constructor:e,templateName:"deleteBucketTemplate",errorPrefix:"deleteBucket",deleteBucket:function(){n.debug("delete bucket : "+this.bucket),App.extensions._call("/bucket/delete",this.bucket._id,this.deleteBucketHandler)},deleteBucketHandler:function(e,r){if(n.debug("deleteBucketHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("deleteBucketHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError;return void o.showCustomBlockError(t.templateName,t.errorPrefix,e.error)}AppCollection.Local.remove({$and:[{_id:t.bucket._id},{f_local_type:"BUCKET"}]}),t.bucket={},Template.UserBucketList._updateUserBucketList(),$("#"+t.templateName+" #deleteModal").modal("hide")},hideErrors:function(){$("#"+this.templateName+" #generic-error").html("")}};var t=new e,n=new AppLogger("DeleteBucket");Template.DeleteBucket.created=function(){},Template.DeleteBucket.rendered=function(){},Template.DeleteBucket.destroyed=function(){}}(),function(){function e(){this.bucket={}}Template.UpdateBucketMeta.events({"click #saveAction":function(e,n){t.clear(),t.save(e,n)}}),Template.UpdateBucketMeta.helpers({_showUpdateModal:function(e){n.debug("show update model");var r=e.currentTarget.value;t.bucket=AppCollection.Local.findOne({$and:[{_id:r},{f_local_type:"BUCKET"}]}),n.debug(AppCommon._toJSON(t.bucket)),$("#"+t.templateName+" #editModal").modal()},_closeUpdateModal:function(){n.debug("close update modal"),$("#"+t.templateName+" #editModal").modal("hide")}}),e.prototype={constructor:e,templateName:"updateBucketMetaTemplate",errorPrefix:"updateBucket",init:function(){this.registerOnShow(),this.registerOnHide()},registerOnShow:function(){$("#"+t.templateName+" #editModal").on("show.bs.modal",function(){if(n.debug("selected bucket : "+AppCommon._toJSON(t.bucketDetails)),AppCommon._isEmpty(t.bucket))return void alert("Technical error occurred");
Template.AddUpdateBucket._setTemplateName(t.templateName);var e=t.bucket;$("#"+t.templateName+" #bucketName").val(e.f_bucket.f_name).prop("disabled",!0),$("#"+t.templateName+" #bucketDesc").val(e.f_bucket.f_desc),$("#"+t.templateName+" #bucketId").val(e._id),1==e.f_bucket.f_isEditable?$("#"+t.templateName+" #yes_editable").click():$("#"+t.templateName+" #no_editable").click(),_.isEqual(e.f_bucket.f_access,"PRIVATE")?$("#"+t.templateName+" #no_public").click():$("#"+t.templateName+" #yes_public").click(),t.clear()})},registerOnHide:function(){$("#"+t.templateName+" #editModal").on("hidden.bs.modal",function(){t.bucket={},Template.AddUpdateBucket._setTemplateName(),App.extensions._toggleDisableButton(t.templateName,"saveAction",!1),t.clear()})},save:function(e,r){var o=App.extensions._getFormData(r),a=Template.AddUpdateBucket._getModalData(),i={f_name:o.bucketName.value,f_desc:o.bucketDesc.value,f_access:a.accessType,f_isEditable:a.editableByPublic};if(_.isEqual(t.bucket.f_bucket,i)){n.error("updatedBucket no change current:"+AppCommon._toJSON(t.bucket.f_bucket)+" updatedBucket:"+AppCommon._toJSON(i));var s=new AppClass.GenericError;s.showBlockError(t.templateName,t.errorPrefix,"UB_101")}else Template.AddUpdateBucket._updateBucket(e,r);return!1},clear:function(){$("#"+t.templateName+" #generic-error").html(""),$("#"+t.templateName+" #"+t.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("UpdateBucketModel");Template.UpdateBucketMeta.created=function(){},Template.UpdateBucketMeta.rendered=function(){t.init()},Template.UpdateBucketMeta.destroyed=function(){}}(),function(){Template.UserBucket.events({}),Template.UserBucket.helpers({}),Template.UserBucket.created=function(){App.extensions._addTitle("User Bucket")},Template.UserBucket.rendered=function(){},Template.UserBucket.destroyed=function(){App.extensions._removeTitle()}}(),function(){function e(){this._silent=!1}Template.UserBucketList.events({"click #editBucketButton":function(e,t){Template.UpdateBucketMeta._showUpdateModal(e,t)},"click #deleteBucketButton":function(e,t){Template.DeleteBucket._showDeleteModal(e,t)},"click #refreshButton":function(){n.hideErrors(),n.getUserBucketList()},"click #unFollowButton":function(e,t){n.hideErrors(),n.unfollowBucket(e,t)},"click #postListBucketButton":function(e){var t=e.currentTarget.value;Session.set("bucketDataContext",AppCollection.Local.findOne({$and:[{f_local_type:"BUCKET"},{_id:t}]})),$("#postListModal").modal("show")},"mouseenter #userBucketList #created .alterColor":function(e){$(e.currentTarget).addClass("optionsOverlay"),$(e.currentTarget).find(".options").removeClass("hide")},"mouseleave #userBucketList #created .alterColor":function(e){$(e.currentTarget).removeClass("optionsOverlay"),$(e.currentTarget).find(".options").addClass("hide")}}),Template._PrintBucket.helpers({}),Template.UserBucketList.helpers({getCreateBucketList:function(){return AppCollection.Local.find({$and:[{f_local_type:"BUCKET"},{f_isUsersCreatedBucket:!0}]})},getFollowedBucketList:function(){return AppCollection.Local.find({$and:[{f_local_type:"BUCKET"},{f_isUsersCreatedBucket:!1}]})},_updateUserBucketList:function(){n.getUserBucketList(!0)},templateData:function(){return{template:"BucketPostList",dataContext:Session.get("bucketDataContext")}}}),e.prototype={constructor:e,templateName:"userBucketListTemplate",errorPrefix:"userBucketList",getUserBucketList:function(e){t.debug("/UserBucketList/getUserBucketList"),this._silent=!0,e||(this._silent=!1,$("#"+this.templateName+" #userBucketList").addClass("hide"),$("#"+this.templateName+" #userBucketListWaiting").removeClass("hide")),App.extensions._call("/bucket/getUserBuckets",{callerAgent:"USER_BUCKET"},this.getUserBucketListHandler)},getUserBucketListHandler:function(e,r){if(t.debug("/getUserBucketListHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){if(t.error("/getUserBucketListHandler error:"+AppCommon._toJSON(e)),!n._silent){var o=new AppClass.GenericError,a=[];-1!=a.indexOf(e.error)?o.showBlockError(n.templateName,n.errorPrefix,"UBL_101"):o.showCustomBlockError(n.templateName,n.errorPrefix,e.error)}return void $("#"+n.templateName+" #userBucketListWaiting").addClass("hide")}try{var i=r.message;AppCollection.Local.remove({f_local_type:"BUCKET"}),_.each(i,function(e){_.extend(e,{f_local_type:"BUCKET"}),AppCollection.Local.insert(e)})}catch(s){t.error(s)}finally{$("#"+n.templateName+" #userBucketListWaiting").addClass("hide"),$("#"+n.templateName+" #userBucketList").removeClass("hide")}},unfollowBucket:function(e,r){var o=e.currentTarget.getAttribute("bucket");App.extensions._call("/bucket/unFollowBucket",o,function(e,r){if(t.debug("unFollowBucketHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){t.error("unFollowBucketHandler error:"+AppCommon._toJSON(e));var a=new AppClass.GenericError;return void a.showBlockError(n.templateName,n.errorPrefix,"BUF_101")}AppCollection.Local.remove({_id:o})})},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")},register:function(){$("#postListModal").on("hide.bs.modal",function(){})}};var t=new AppLogger("UserBucketList"),n=new e;Template.UserBucketList.created=function(){n.getUserBucketList()},Template.UserBucketList.rendered=function(){Session.setDefault("bucketDataContext",""),n.register()},Template.UserBucketList.destroyed=function(){App.extensions._deleteSessionKeys(["bucketDataContext"])}}(),function(){Template._FalseReportAbuseTemplate.events({}),Template._FalseReportAbuseTemplate.helpers({}),Template._FalseReportAbuseTemplate.created=function(){},Template._FalseReportAbuseTemplate.rendered=function(){},Template._FalseReportAbuseTemplate.destroyed=function(){}}(),function(){Template._FilterBucketReviewed.events({}),Template._FilterBucketReviewed.helpers({}),Template._FilterBucketReviewed.created=function(){},Template._FilterBucketReviewed.rendered=function(){},Template._FilterBucketReviewed.destroyed=function(){}}(),function(){Template._FilterCommentReviewed.events({}),Template._FilterCommentReviewed.helpers({}),Template._FilterCommentReviewed.created=function(){},Template._FilterCommentReviewed.rendered=function(){},Template._FilterCommentReviewed.destroyed=function(){}}(),function(){Template._FilterStatusReviewed.events({}),Template._FilterStatusReviewed.helpers({}),Template._FilterStatusReviewed.created=function(){},Template._FilterStatusReviewed.rendered=function(){},Template._FilterStatusReviewed.destroyed=function(){}}(),function(){Template._PostUnderReviewTemplate.events({}),Template._PostUnderReviewTemplate.helpers({}),Template._PostUnderReviewTemplate.created=function(){},Template._PostUnderReviewTemplate.rendered=function(){},Template._PostUnderReviewTemplate.destroyed=function(){}}(),function(){Template._ReviewYourPostTemplate.events({}),Template._ReviewYourPostTemplate.helpers({}),Template._ReviewYourPostTemplate.created=function(){},Template._ReviewYourPostTemplate.rendered=function(){},Template._ReviewYourPostTemplate.destroyed=function(){}}(),function(){Template._Welcome.events({"click #productTour":function(e){e.preventDefault(),$("#mailBox").modal("hide"),Template.Welcome.init()}}),Template._Welcome.helpers({}),Template._Welcome.created=function(){},Template._Welcome.rendered=function(){},Template._Welcome.destroyed=function(){}}(),function(){function e(){}Template.DeleteStatus.events({"click #deleteButton":function(e,n){t.hideErrors(),t.deletePost(e,n)}}),Template.DeleteStatus.helpers({}),e.prototype={constructor:e,templateName:"deleteStatusTemplate",errorPrefix:"deleteStatus",deletePost:function(e){r=e.target.value,n.debug("deletePost postId:"+r),App.extensions._toggleDisableButton(t.templateName,"deleteButton",!0),App.extensions._call("/status/deletePost",{postId:r},this.deletePostHandler)},deletePostHandler:function(e,o){if(App.extensions._toggleDisableButton(t.templateName,"deleteButton",!1),n.debug("deletePostHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(o)),e){n.error("deletePostHandler :"+AppCommon._toJSON(e));var a=new AppClass.GenericError;a.showCustomBlockError(t.templateName,t.errorPrefix,e.error)}else $("#"+t.templateName+" #deleteStatusModal").modal("hide"),Session.set("postFetchedStatus","NOT_VALID"),AppCollection.Local.remove({$and:[{type:"POST_MESSAGE"},{_id:r}]})},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("deleteStatus"),r="";Template.DeleteStatus.created=function(){},Template.DeleteStatus.rendered=function(){$("#"+t.templateName+" #deleteStatusModal").on("show.bs.modal",function(){t.hideErrors()})},Template.DeleteStatus.destroyed=function(){}}(),function(){Template.InboxCount.events({}),Template.InboxCount.helpers({mailExist:function(){return AppCollection.Notification.getUnreadInboxCount()>0},unreadInboxCount:function(){return AppCollection.Notification.getUnreadInboxCount()}}),Template.InboxCount.created=function(){},Template.InboxCount.rendered=function(){},Template.InboxCount.destroyed=function(){}}(),function(){function e(){}Template.Notification.events({"click .dropdown-menu":function(e){e.stopPropagation()},"click #markAsRead":function(e){n.read(e.currentTarget.value)},"click #markAllAsRead":function(e,t){n.readAll(t)},"click #seeAllButton":function(){var e=$("#instantNotificationDropDown .dropdown-toggle");e.dropdown("toggle"),Router.go("see.all.notification")},"click span[action=BUCKET], click span[action=STATUS]":function(e){var t=$(e.currentTarget).attr("value"),r=$(e.currentTarget).attr("action");if(!AppCommon._isEmpty(r)){switch(r=r.toUpperCase()){case"STATUS":Router.go("status.message",{_id:t});break;case"BUCKET":Router.go("bucket.insight",{_id:t})}Template.Notification.toggleNotificationDropDown(),n.read($(e.currentTarget).attr("notificaitonId"))}}}),Template.Notification.helpers({notificationExist:function(){return AppCollection.Notification.getUnreadNotification().count()>0},unreadCount:function(){return AppCollection.Notification.getUnreadNotification().count()},unreadNotification:function(){return AppCollection.Notification.getUnreadNotification()},toggleNotificationDropDown:function(){$("#instantNotificationDropDown .dropdown-toggle").dropdown("toggle")}}),Template._ReportAbuseNotification.helpers({reportAbuseReason:function(e){return t.debug("abuseCode: "+e+" message:"+AppClass.ReportAbuse.getMessage(e)),AppClass.ReportAbuse.getMessage(e)}}),e.prototype={constructor:e,templateName:"notificationTemplate",errorPrefix:"notification",read:function(e){t.debug("read notificationId:"+e),App.extensions._call("/notification/read",{notificationId:e,timestamp:(new Date).getTime()},function(e,r){t.debug("/notification/read error : "+AppCommon._toJSON(e)+" result : "+AppCommon._toJSON(r)),e&&n.showError(e)})},readAll:function(e){t.debug("readAll notification"),App.extensions._toggleDisableButton(n.templateName,"markAllAsRead",!0),App.extensions._call("/notification/readAll",{},function(e,r){t.debug("/notification/read error : "+AppCommon._toJSON(e)+" result : "+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(n.templateName,"markAllAsRead",!1),e&&n.showError(e)})},showError:function(){var e=new AppClass.GenericError;e.showCustomFadeOutBlockError(this.templateName,this.errorPrefix,{fadeOutTime:5e3})},init:function(){$("#instantNotificationDropDown").on("shown.bs.dropdown",function(){if(AppCollection.Notification.getUnreadNotification().count()>0){var e=$(this).find("ul"),t=e.height(),n=e.get(0).scrollHeight;e.bind("mousewheel",function(e,r){(this.scrollTop===n-t&&0>r||0===this.scrollTop&&r>0)&&e.preventDefault()})}})}};var t=new AppLogger("Notification"),n=new e;Template.Notification.created=function(){},Template.Notification.rendered=function(){n.init()},Template.Notification.destroyed=function(){}}(),function(){SettingsController=BaseController.extend({waitOn:function(){},data:function(){},action:function(){this.render()}})}(),function(){function e(){this._bucketFetchError=!1,this._silent=!1}Template.AddToBucket.events({"click #addButton":function(e,n){t.hideError(),t.addToBucket(e,n)},"click #refreshButton":function(){t.hideError(),t.getUserBucketList()},"change input:checkbox":function(){t.hideError()}}),Template.AddToBucket.helpers({aBucketExist:function(){var e=AppCollection.Local.findOne({f_local_type:"BUCKET"});return n.debug("aBucketExist :"+!_.isUndefined(e)),!_.isUndefined(e)},getUserCreateBucketList:function(){return AppCollection.Local.find({$and:[{f_local_type:"BUCKET"},{f_isUsersCreatedBucket:!0}]})},getUserFollowedBucketList:function(){return AppCollection.Local.find({$and:[{f_local_type:"BUCKET"},{f_isUsersCreatedBucket:!1}]})},_showAddToBucketModal:function(e){var r=e.currentTarget.value;$("#"+t.templateName+" #postId").val(r),$("#"+t.templateName+" #addToBucketModal").modal(),n.debug("show add to bucket modal for postId:"+r)}}),e.prototype={constructor:e,templateName:"addToBucketTemplate",errorPrefix:"addToBucket",init:function(){this.registerModalOnShow(),this.registerModalOnHide()},addToBucket:function(e,r){var o=this,a=r.$("#postId").val(),i=r.$("#bucketList input:checked"),s=_.map(i,function(e){return $(e).val()});if(AppCommon._isEmpty(s)){var c=new AppClass.GenericError;c.showBlockError(t.templateName,t.errorPrefix,"AB_101")}var l=new AppClass.BucketDataRequest(s,a,AppClass.BucketDataRequest.prototype.itemType.STATUS);n.debug("addToBucketRequest : "+l),App.extensions._toggleDisableButton(o.templateName,"addButton",!0),App.extensions._call("/bucket/addToBucket",l,this.addToBucketHandler)},addToBucketHandler:function(e,r){if(n.debug("/addToBucket error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(t.templateName,"addButton",!1),e){n.error("/addToBucket error:"+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["AB_101","AB_1002"];return void(-1!=a.indexOf(e.error)?o.showBlockError(t.templateName,t.errorPrefix,e.error):o.showCustomBlockError(t.templateName,t.errorPrefix,e.error))}$("#addToBucketModal").modal("hide")},getUserBucketList:function(e){this._bucketFetchError=!1,this._silent=!0,e||(this._silent=!1,$("#"+this.templateName+" #userBucketListWaiting").removeClass("hide"),$("#"+this.templateName+" #noBucketMessage").addClass("hide"),$("#"+this.templateName+" #bucketList").addClass("hide")),App.extensions._call("/bucket/getUserBuckets",{callerAgent:"ADD_TO_BUCKET"},this.getUserBucketListHandler)},getUserBucketListHandler:function(e,r){if(n.debug("/getUserBucketListHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){if(n.error("/getUserBucketListHandler error:"+AppCommon._toJSON(e)),this._bucketFetchError=!0,!t._silent){var o=new AppClass.GenericError;o.showCustomBlockError(t.templateName,t.errorPrefix,e.error)}return void $("#"+t.templateName+" #userBucketListWaiting").addClass("hide")}try{var a=r.message;AppCollection.Local.remove({f_local_type:"BUCKET"}),_.each(a,function(e){_.extend(e,{f_local_type:"BUCKET"}),AppCollection.Local.insert(e)})}catch(i){n.error(i)}finally{$("#"+t.templateName+" #userBucketListWaiting").addClass("hide"),$("#"+t.templateName+" #bucketList").removeClass("hide")}},registerModalOnShow:function(){var e=this;$("#"+t.templateName+" #addToBucketModal").on("show.bs.modal",function(){if($("#"+t.templateName+"#bucketList input").removeAttr("checked","checked"),e.hideError(),e._bucketFetchError){var n=new AppClass.GenericError;n.showBlockError(t.templateName,t.errorPrefix,"AB_1")}})},registerModalOnHide:function(){$("#"+t.templateName+" #addToBucketModal").on("hidden.bs.modal",function(){$("#"+t.templateName+" input:checkbox").each(function(){$(this).prop("checked",!1)})})},hideError:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("AddToBucket");Template.AddToBucket.created=function(){n.debug("getUserBucketList"),t.getUserBucketList()},Template.AddToBucket.rendered=function(){t.init()},Template.AddToBucket.destroyed=function(){n.debug("AddToBucket destroyed called"),$(".modal-backdrop").remove()}}(),function(){Template.Bucket.events({}),Template.Bucket.helpers({}),Template.Bucket.created=function(){},Template.Bucket.rendered=function(){},Template.Bucket.destroyed=function(){}}(),function(){function e(){}Template.BucketEditorSelection.events({"click #followButton":function(e,n){t.hideErrors(),t.followBucket(e,n,"FOLLOW")},"click #unFollowButton":function(e,n){t.hideErrors(),t.followBucket(e,n,"UNFOLLOW")},"click #bucketInsightButton":function(e){Router.go("bucket.insight",{_id:e.currentTarget.value})}}),Template.BucketEditorSelection.helpers({bucketList:function(){return AppCollection.Bucket.getEditorSelection()},isUserBucket:function(e){return e&&_.isEqual(e,App.extensions._getUserId())},isFollowing:function(e){return AppCollection.UserBucket.isUserFollowingBucket(e)},isFollowed:function(e,t){var n=AppCollection.UserBucket.isUserFollowingBucket(e);return t&&_.isEqual(t.toLowerCase(),"followbutton")?n?"hide":"show":t&&_.isEqual(t.toLowerCase(),"unfollowbutton")?n?"show":"hide":void 0},postCount:function(e){return AppCollection.Bucket.getPostIdList(e).length},attachToolTip:function(){$("[data-toggle='tooltip']").tooltip()}}),e.prototype={constructor:e,templateName:"bucketEditorSelectionTemplate",errorPrefix:"bucketEditorSelection",followBucket:function(e,r,o){var a=e.currentTarget.getAttribute("bucket");o&&_.isEqual(o,"FOLLOW")?(App.extensions._toggleDisableButton(t.templateName,a+" #followButton",!0),App.extensions._call("/bucket/followBucket",a,function(e,r){if(App.extensions._toggleDisableButton(t.templateName,a+" #followButton",!1),n.debug("followBucketHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("followBucketHandler error:"+AppCommon._toJSON(e));var o=new AppClass.GenericError;o.showBlockError(t.templateName,t.errorPrefix,"BF_101")}})):o&&_.isEqual(o,"UNFOLLOW")&&(App.extensions._toggleDisableButton(t.templateName,a+" #unFollowButton",!0),App.extensions._call("/bucket/unFollowBucket",a,function(e,r){if(App.extensions._toggleDisableButton(t.templateName,a+" #unFollowButton",!1),n.debug("unFollowBucketHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("unFollowBucketHandler error:"+AppCommon._toJSON(e));var o=new AppClass.GenericError;o.showBlockError(t.templateName,t.errorPrefix,"BUF_101")}}))},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("BucketEditorSelection");Template.BucketEditorSelection.created=function(){},Template.BucketEditorSelection.rendered=function(){},Template.BucketEditorSelection.destroyed=function(){$("[data-toggle='tooltip']").tooltip("destroy")}}(),function(){function e(){}Template.BucketInsight.events({"click #addToBucketButton":function(e,t){Template.AddToBucket._showAddToBucketModal(e,t)},"click .bb-nav":function(e){var t=(this.bucketId,e.currentTarget.id),r=t.split("-")[2],o=n.config();o.$bookBlock.bookblock(r)},keyup:function(e){var t=e.keyCode||e.which,r={left:37,up:38,right:39,down:40},o=n.config();switch(t){case r.left:o.$bookBlock.bookblock("prev");break;case r.right:o.$bookBlock.bookblock("next")}}}),Template.BucketInsight.helpers({bucketExist:function(){var e=this,t=AppCollection.Bucket.getDetails(e.bucketId);return AppCommon._isEmpty(t)?!1:!0},bucketName:function(){var e=this;return AppCollection.Bucket.getDetails(e.bucketId).f_bucket.f_name},bucketDetails:function(){var e=this;return AppCollection.Bucket.getDetails(e.bucketId)},postCount:function(){var e=this;return AppCollection.Bucket.getPostIdList(e._id).length},isUserBucket:function(){return userId&&_.isEqual(userId,App.extensions._getUserId())},firstPost:function(){var e=this,n=AppCollection.Bucket.getPostIdList(e._id),r=AppCollection.Status.findOne({_id:n[0]});return t.debug("firstPost "+AppCommon._toJSON(r)),r},post:function(){var e=this,t=AppCollection.Bucket.getPostIdList(e.bucketId),n=Session.get("bucketStatusData"),r=n.data.limit,o=t.length,a=5*r;a=5*r>o?o:a;var i=AppCollection.Status.find(),s=i.fetch(),c=[],l=[],u=0,p=0;if(s.length>0){for(p=0;a>p;p++)c.push(_.findWhere(s,{_id:t[p]}));u=c.length;var d=1;for(p=d;u>p;p++){var f={};f.left=c[p],p++,p!=u&&(f.right=c[p]),0==p&&(f.isFirst=!0),l.push(f)}l.push({isLast:!0});var h=parseInt(u/2)+1;h=u%2===0?h:h+1,Session.set("totalPages",h)}return l},initOnce:function(){n.init()}}),e.prototype={constructor:e,config:function(){return{$bookBlock:$("#bb-bookblock"),$navNext:$("#bb-nav-next"),$navPrev:$("#bb-nav-prev"),$navFirst:$("#bb-nav-first"),$navLast:$("#bb-nav-last")}},init:function(){var e=Session.get("currentPage"),n=Session.get("totalPages");t.debug("init currentPage : "+e+" totalPages:"+n);var r=this.config();r.$bookBlock.bookblock({currentPage:e,speed:1e3,shadowSides:.8,shadowFlip:.4,onEndFlip:function(r,o){return Session.set("currentPage",o),t.debug("onEndFlip page : "+o+" currentPage:"+e+" totalPages:"+n),!1}}),this.initEvents()},initEvents:function(){var e=this.config(),t=e.$bookBlock.children();t.on({swipeleft:function(){return e.$bookBlock.bookblock("next"),!1},swiperight:function(){return e.$bookBlock.bookblock("prev"),!1}})}};var t=new AppLogger("BucketInsight"),n=new e,r="";Template.BucketInsight.created=function(){},Template.BucketInsight.rendered=function(){r=this.data.bucketId,n.init(),$("[data-toggle='tooltip']").tooltip()},Template.BucketInsight.destroyed=function(){t.debug("destroyed called"),$("[data-toggle='tooltip']").tooltip("destroy"),AppCollection.Local.remove(),AppCollection.Bucket.remove(),AppCollection.Status.remove(),AppCollection.StatusMeta.remove();var e=["bucketPostCount","bucketStatusData","currentPage","totalPages"];App.extensions._deleteSessionKeys(e)}}(),function(){function e(){this.intervalIdArray=[]}Template.HomeFeed.events({"click #addToBucketButton":function(e,t){Template.AddToBucket._showAddToBucketModal(e,t)},"click #showMessageButton":function(e){Router.go("status.message",{_id:e.currentTarget.value})}}),Template.home_pagesItemDefault.helpers({getLikeCount:function(e){var t=AppCollection.StatusMeta.likeCount(e);return _.isUndefined(t)?0:t.likeCount},isLiked:function(e,t){var n=this,r=AppCollection.UserStatusMeta.isLiked(n.postId),o="hide";switch(t){case"like":o=r?"hide":"show";break;case"unlike":o=r?"show":"hide"}return o},addExpiryTimer:function(){var e=this,t=e.f_expiryTime-Date.now();n.intervalIdArray[e._id]=Meteor.setTimeout(function(){n.lastMoments(e)},t)}}),Template.home_pagesPageCont.helpers({divWrapper:function(e){return e.divWrapper}}),e.prototype={constructor:e,errorPrefix:"homeFeed",templateName:"homeFeedTemplate",lastMoments:function(e){t.debug("dying time for post : "+AppCommon._toJSON(e)),$("#"+e._id).fadeOut(1e4),Meteor.clearTimeout(n.intervalIdArray[e._id]),n.intervalIdArray.splice(n.intervalIdArray.indexOf(e._id),1)}};var t=new AppLogger("HomeFeed"),n=new e;Template.HomeFeed.created=function(){},Template.HomeFeed.rendered=function(){},Template.HomeFeed.destroyed=function(){t.error("homefeed destroyed called"),_.each(n.intervalIdArray,function(e){Meteor.clearInterval(e)}),AppCollection.Local.remove(),AppCollection.Status.remove(),AppCollection.StatusMeta.remove()}}(),function(){function e(){}Template.SeeAllNotification.events({"click #markAsRead":function(e){var t=e.currentTarget.value;n.read(t)},"click #markAllAsRead":function(e,t){n.readAll(t)}}),Template.SeeAllNotification.helpers({allNotification:function(){return AppCollection.Notification.getAllNotification()},isAnyUnreadNotification:function(){0!=AppCollection.Notification.getUnreadNotification().count()?(t.debug("isAnyUnreadNotification exist an unread notification"),App.extensions._toggleDisableButton(n.templateName,"markAllAsRead",!1)):(t.debug("isAnyUnreadNotification no an unread notification"),App.extensions._toggleDisableButton(n.templateName,"markAllAsRead",!0))}}),e.prototype={constructor:e,templateName:"seeAllNotificationTemplate",errorPrefix:"seeAllNotification",read:function(e){t.debug("read notificationId:"+e),App.extensions._call("/notification/read",{notificationId:e,timestamp:(new Date).getTime()},function(r,o){t.debug("/notification/read error : "+e+AppCommon._toJSON(r)+" result : "+AppCommon._toJSON(o)),r&&n.showError(r)})},readAll:function(){t.debug("readAll notification"),App.extensions._toggleDisableButton(n.templateName,"markAllAsRead",!0),App.extensions._call("/notification/readAll",{},function(e,r){t.debug("/notification/read error : "+AppCommon._toJSON(e)+" result : "+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(n.templateName,"markAllAsRead",!1),e&&n.showError(e)})},showError:function(){var e=new AppClass.GenericError;e.showCustomFadeOutBlockError(this.templateName,this.errorPrefix,{fadeOutTime:8e3})}};var t=new AppLogger("SeeAllNotification"),n=new e;Template.SeeAllNotification.created=function(){},Template.SeeAllNotification.rendered=function(){},Template.SeeAllNotification.destroyed=function(){AppCollection.Notification.remove()}}(),function(){function e(){}Template.ReportAbuse.events({"click #reportButton":function(e,n){t.report(e,n,"ADD")},"click #cancelButton":function(){t.clear()},"click #undoReportButton":function(e,n){t.report(e,n,"DELETE")}}),Template.ReportAbuse.helpers({reportOptions:function(){return AppClass.ReportAbuse.getReportOptions()},reportedAbuse:function(e,t){n.debug("reportedAbuse called : "+e+" option:"+t);var r=AppCollection.Local.findOne({_id:e}),o="hide";return o=_.isEqual(t,"undo")?AppCommon._isEmpty(r.reportAbuseData)?"hide":"show":AppCommon._isEmpty(r.reportAbuseData)?"show":"hide",n.debug("reportedAbuse option:"+t+" result:"+o),o}}),e.prototype={constructor:e,templateName:"reportAbuseTemplate",errorPrefix:"reportAbuse",init:function(){n.debug("binding on hidden events"),$("#reportAbuseBox").on("hidden.bs.modal",function(){AppCommon._isEmpty(r)||AppCollection.Local.update({_id:r.postId},{$set:{reportAbuseData:r}})}),$("#reportAbuseBox").on("shown.bs.modal",function(){r={}})},report:function(e,t,r){var o=this,a={postId:e.currentTarget.value,postType:t.$(e.currentTarget).attr("posttype"),reasonCode:t.$("input[name=abuseOption]:checked").val(),action:r};n.debug("data : "+AppCommon._toJSON(a)),App.extensions._toggleDisableButton(o.templateName,"reportButton",!0),App.extensions._call("/reportAbuse",a,this.reportHandler)},reportHandler:function(e,o){if(n.debug("error : "+AppCommon._toJSON(e)+" result : "+AppCommon._toJSON(o)),$("#reportButton").removeClass("disabled"),App.extensions._toggleDisableButton(t.templateName,"reportButton",!1),e){n.error(AppCommon._toJSON(e));var a=new AppClass.GenericError,i=["RA_102"];return void(-1!=i.indexOf(e.error)?a.showBlockError(t.templateName,t.errorPrefix,e.error):a.showCustomBlockError(t.templateName,t.errorPrefix,e.error))}var s=o.message;s&&(_.isEqual(s.action,"ADD")?(r={timestamp:s.timestamp,reasonCode:s.reasonCode,postId:s.postId},n.debug("reportAbuseDoc : "+AppCommon._toJSON(r))):_.isEqual(s.action,"DELETE")&&AppCollection.Local.update({_id:o.message.postId},{$set:{reportAbuseData:""}})),$("#"+t.templateName+" #cancelButton").click()},clear:function(){$("input[name=abuseOption]:checked").removeAttr("checked"),this.hideErrors()},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("ReportAbuse"),r={};Template.ReportAbuse.created=function(){},Template.ReportAbuse.rendered=function(){t.init()},Template.ReportAbuse.destroyed=function(){}}(),function(){function e(){this.bgColor=t(),this.isCommentAllowed=!0,this.isExpiryMessage=!1}function t(){var e=n.length,t=(new Date).getTime()%e;return n[t]}Template.PostStatus.events({"click #savePostButton":function(e,t){r.hideErrors(),r.postStatus(e,t)},"click #cancelPostButton":function(){},"click #commentAllowed #yes, click #commentAllowed #no":function(e){var t=e.currentTarget.id,n="#commentAllowed",o=!1,a="",i="";t&&_.isEqual(t,"yes")&&!r.isCommentAllowed?(a="yes",i="no",r.isCommentAllowed=!0,o=!0):t&&_.isEqual(t,"no")&&r.isCommentAllowed&&(a="no",i="yes",r.isCommentAllowed=!1,o=!0);var s="btn",c="btn inactive";o&&($(n+" #"+a).removeClass(c).addClass(s),$(n+" #"+i).removeClass(s).addClass(c))},"click .bgColorButton":function(e,n){var a=e.target.id;n.$("#postContent").removeClass(r.bgColor),r.bgColor=a||t(),n.$("#postContent").addClass(r.bgColor),n.$("#postContent").attr("color",r.bgColor),o.debug(r.bgColor)},"keydown #eventuallyExpire input":function(e){var t=(e.currentTarget.id,e.keyCode),n=[8,9,37,39,46,48,49,50,51,52,53,54,55,56,57];return-1==n.indexOf(t)?(e.preventDefault(),!1):void 0},"keyup #eventuallyExpire input":function(e){var t=e.currentTarget.id,n=parseInt(e.currentTarget.value,10);n=_.isNaN(n)?0:n,_.isEqual(t,"expireHour")&&n>23?n=23:_.isEqual(t,"expireMin")&&n>59&&(n=59),e.currentTarget.value=n,$(e.currentTarget).focus()},"click #expiryTimeYes, click #expiryTimeNo":function(e){var t=e.currentTarget.value,n="",o="",a=!1;if(_.isEqual(t,"yes")&&!r.isExpiryMessage?(n="expiryTimeYes",o="expiryTimeNo",r.isExpiryMessage=!0,a=!0):_.isEqual(t,"no")&&r.isExpiryMessage&&(o="expiryTimeYes",n="expiryTimeNo",r.isExpiryMessage=!1,a=!0),a){r.isExpiryMessage?$("#eventuallyExpire").removeClass("hide"):$("#eventuallyExpire").addClass("hide");var i="btn",s="btn inactive",c="#expiryTime";$(c+" #"+n).removeClass(s).addClass(i),$(c+" #"+o).removeClass(i).addClass(s)}},"keydown #statusBox textarea":function(e){var t=e.currentTarget.value;e.currentTarget.value=t.length<a?t:t.substr(0,299)}}),Template.PostStatus.helpers({color:function(){return n}}),e.prototype={constructor:e,templateName:"postStatusTemplate",errorPrefix:"postStatus",postStatus:function(e,t){var n=this,r=t.$("#post #textarea").val(),a=-1;if(this.isExpiryMessage){var i=parseInt(t.$("#expireHour").val(),10),s=parseInt(t.$("#expireMin").val(),10);o.debug("hour:"+i+" min:"+s),i=_.isNaN(i)?0:i,s=_.isNaN(s)?0:s,a=6e4*(60*i+s),o.debug("hour:"+i+" min:"+s+" timeInMill:"+a)}var c={isExpiryMessage:this.isExpiryMessage,timeInMilli:a},l=new AppClass.StatusMessage(r,this.isCommentAllowed,this.bgColor,c);this.isValidSave(l)&&(o.debug(l),App.extensions._toggleDisableButton(n.templateName,"savePostButton",!0),App.extensions._call("/status/postStatus",l,this.postStatusHandler))},postStatusHandler:function(e,t){if(o.debug("postStatusHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(t)),App.extensions._toggleDisableButton(r.templateName,"savePostButton",!1),e){o.error("postStatusHandler :"+AppCommon._toJSON(e));var n=new AppClass.GenericError,a=["PS_101","PS_102","PS_103","PS_104"];return-1!=a.indexOf(e.error)?n.showBlockError(r.templateName,r.errorPrefix,e.error):n.showCustomBlockError(r.templateName,r.errorPrefix,e.error),void(_.isEqual(e.error,"PS_1006")&&r.clearClose())}$("#cancelPostButton").click(),r.clearClose(),r.hideErrors()},isValidSave:function(e){var t=e.message,n=(e.categoryArray,new AppClass.GenericError);if(AppCommon._isEmpty(t))n.add("PS_101","message");else{var r=t.trim().length;10>r&&n.add("PS_102","message"),r>a&&n.add("PS_102","message")}return e.expiry.isExpiryMessage&&e.expiry.timeInMilli<=0&&n.add("PS_104",["expiryHour","expiryMin"]),n.length>0?(n.showBlockError(this.templateName,this.errorPrefix,n.errorArray),!1):!0},clearClose:function(){var e="active",n="inactive";$("#"+this.templateName+" #post #textarea").val(""),$("#"+this.templateName+" #commentAllowed #yes").removeClass(n).addClass(e),$("#"+this.templateName+" #commentAllowed #no").removeClass(e).addClass(n),$("#eventuallyExpire #expireHour").val(0),$("#eventuallyExpire #expireMin").val(0),$("#"+this.templateName+" #expiryTimeNo").removeClass(n).addClass(e),$("#"+this.templateName+" #expiryTimeYes").removeClass(e).addClass(n),$("#eventuallyExpire").addClass("hide"),this.bgColor=t(),this.isCommentAllowed=!0,this.isExpiryMessage=!1},hideErrors:function(){$("#"+this.templateName+" #generic-error").html(""),$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")
}};var n=["red","blue","green","purple","grey"],r=new e,o=new AppLogger("PostStatus"),a=300;Template.PostStatus.created=function(){},Template.PostStatus.rendered=function(){$("#statusBox").on("show.bs.modal",function(){var e=t(),n=$("#statusBox #postContent");n.removeClass(n.attr("color")),n.addClass(e),n.attr("color",e),r.bgColor=e})},Template.PostStatus.destroyed=function(){}}(),function(){function e(){}Template.StatusComment.events({"click #postComment":function(e,n){t.hideErrors(),t.postComment(e,n)},"click #deleteComment":function(e,n){t.hideErrors(),t.deleteComment(e,n)},"focusout #commentText":function(e,n){var r=new AppClass.GenericError,o=n.$("#commentText").val().trim();o&&o.length>0&&r.removeElementError("commentText",t.templateName)},"click #commentsPanel":function(e){var t=e.target.id,n=t,r=_.isEqual(n,"publicTab")?"privateTab":"publicTab";$("#commentsPanel #"+n).parent().find("i").removeClass("hide"),$("#commentsPanel #"+r).parent().find("i").addClass("hide")}}),Template.StatusComment.helpers({getPublicComments:function(){var e=this;return AppCollection.StatusComment.getPublicComment(e.postId)},getPrivateComments:function(){var e=this;return AppCollection.StatusComment.getPrivateComment(e.postId)},isPostAuthor:function(){var e=this;return t.isPostAuthor(e.postId)},isNotPostAuthor:function(){var e=this;return!t.isPostAuthor(e.postId)},showDeleteOption:function(){var e=this,n=AppCollection.UserStatusComment.byUser(e.f_postId,e._id);return n||t.isPostAuthor(e.f_postId)}}),e.prototype={constructor:e,templateName:"statusCommentTemplate",errorPrefix:"statusComment",postComment:function(e,t){var r=t.$("#commentText").val().trim(),o=AppCollection.UserStatus.isPostAuthor(),a=t.$("#commentType option:selected").val(),i=new AppClass.Comment(t.data.postId,r,o,a,AppClass.Comment.prototype.actions.ADD),s=new AppClass.GenericError;return AppCommon._isEmpty(r)&&s.add("C_101","commentText"),r&&r.length>150&&s.add("C_103","commentText"),s.isEmpty?($("#postComment").addClass("disabled"),n.debug("postComment data:"+AppCommon._toJSON(i)),void App.extensions._call("/status/postComment",i,this.postCommentHandler)):void s.showElementError(s.errorArray,this.templateName)},postCommentHandler:function(e,r){if(n.debug("postCommentHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),$("#postComment").removeClass("disabled"),e){n.error("postCommentHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["C_101","C_102","C_103","PS_1006"];return-1!=a.indexOf(e.error)?o.showBlockError(t.templateName,t.errorPrefix,e.error):o.showCustomBlockError(t.templateName,t.errorPrefix,e.error),void(_.isEqual(e.error,"PS_1006")&&t.clear())}t.clear()},deleteComment:function(e,t){var r=t,o=new AppClass.Comment(r.data.postId,null,null,null,AppClass.Comment.prototype.actions.DELETE);o.commentId=e.currentTarget.value,n.debug("deleteComment data "+AppCommon._toJSON(o)),App.extensions._call("/status/deleteComment",o,this.deleteCommentHandler)},deleteCommentHandler:function(e,r){if(n.debug("deleteCommentHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("deleteCommentHandler :"+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=[];-1!=a.indexOf(e.error)?o.showBlockError(t.templateName,t.errorPrefix,e.error):o.showCustomBlockError(t.templateName,t.errorPrefix,e.error)}},isPostAuthor:function(e){var t=AppCollection.Local.findOne({_id:e});return t?_.isEqual(t.f_author,App.extensions._getUserId()):!1},clear:function(){var e=this;$("#"+e.templateName+" #commentText").val("")},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("StatusMessageComment");Template.StatusComment.created=function(){},Template.StatusComment.rendered=function(){},Template.StatusComment.destroyed=function(){}}(),function(){function e(){}Template.StatusLikeUnlike.events({"click #like":function(e,n){t.hideErrors(),t.likeUnlike(e,n,"ADD")},"click #unlike":function(e,n){t.hideErrors(),t.likeUnlike(e,n,"DELETE")}}),Template.StatusLikeUnlike.helpers({getLikeCount:function(e){var t=AppCollection.StatusMeta.likeCount(e);return _.isUndefined(t)?0:t.likeCount},isLiked:function(e,n){{var r=this;Session.get("lastUpdated")}$("#"+t.templateName+" #"+r.postId+" .btn").removeClass("disabled");var o=AppCollection.UserStatusMeta.isLiked(r.postId),a="hide";switch(n){case"like":a=o?"hide":"show";break;case"unlike":a=o?"show":"hide"}return a},init:function(e,n){t.parentTemplateName=e,t.errorPrefix=n,Session.setDefault("lastUpdated",new Date)}}),e.prototype={constructor:e,templateName:"statusLikeUnlikeTemplate",errorPrefix:"",parentTemplateName:"",likeUnlike:function(e,t,r){var o=new AppClass.StatusMeta(t.data.postId);switch(r){case"ADD":o.action=o.actions.ADD;break;case"DELETE":o.action=o.actions.DELETE}n.debug("like/unlike data:"+AppCommon._toJSON(o)),t.$(".btn").addClass("disabled"),App.extensions._call("/status/updateMeta",o,this.likeUnlikeHandler)},likeUnlikeHandler:function(e,r){if(n.debug("likeUnlikeHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("likeUnlikeHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError;return o.showCustomBlockError(t.parentTemplateName,t.errorPrefix,e.error),void Session.set("lastUpdated",new Date)}$("#"+t.templateName+" #"+r.postId+" .btn").removeClass("disabled"),$("#"+t.templateName+" #"+r.postId+" #like").toggle(),$("#"+t.templateName+" #"+r.postId+" #unlike").toggle()},hideErrors:function(){$("#"+this.parentTemplateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("statusLikeUnlike");Template.StatusLikeUnlike.created=function(){},Template.StatusLikeUnlike.rendered=function(){},Template.StatusLikeUnlike.destroyed=function(){delete Session.keys.lastUpdated}}(),function(){function e(){}Template.StatusMessage.events({"click #addToBucketButton":function(e,n){t.hideErrors(),Template.AddToBucket._showAddToBucketModal(e,n)},"click #deletePostButton":function(){t.hideErrors(),$("#"+t.templateName+" #deleteStatusModal").modal("show")}}),Template.StatusMessage.helpers({postFetchStatus:function(){return n.debug(Session.get("postFetchedStatus")),Session.get("postFetchedStatus")},getMessage:function(){var e=this;return AppCollection.Local.findOne({_id:e.postId}).f_message},getTimestamp:function(){var e=this;return AppCollection.Local.findOne({_id:e.postId}).f_timestamp},isCommentAllowed:function(){var e=this,t=AppCollection.Local.findOne({_id:e.postId});return AppCommon._isEmpty(t)?!1:t.f_isCommentAllowed?!0:!1},getColor:function(){return Session.get("postColor")},isNotPostAuthor:function(e){var t=AppCollection.Local.findOne({_id:e}),n=!0;return t&&(n=_.isEqual(t.f_author,App.extensions._getUserId())),!n},isPostAuthor:function(){var e=this.postId,t=AppCollection.Local.findOne({_id:e}),n=!0;return t&&(n=_.isEqual(t.f_author,App.extensions._getUserId())),n},isExpires:function(){var e=this.postId,t=AppCollection.Local.findOne({_id:e});return t?t.f_expires:void 0},expiryTime:function(){var e=this.postId,t=AppCollection.Local.findOne({_id:e});return t?t.f_expiryTime:void 0},addExpiryTimer:function(){var e=this.postId,t=AppCollection.Local.findOne({_id:e}),n=t.f_expiryTime,r=n-Date.now();0>r&&(r=0),Meteor.setTimeout(function(){Session.set("postFetchedStatus","POST_NO_LONGER_EXIST"),Session.set("postColor","white")},r)}}),e.prototype={constructor:e,templateName:"statusMessageTemplate",errorPrefix:"statusMessage",deletePost:function(e){var t=e.target.value;n.debug("deletePost postId:"+t),App.extensions._call("/status/deletePost",{postId:t},this.deletePostHandler)},deletePostHandler:function(e,r){if(n.debug("deletePostHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("deletePostHandler :"+AppCommon._toJSON(e));var o=new AppClass.GenericError;o.showCustomBlockError(t.templateName,t.errorPrefix,e.error)}},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("StatusMessage");Template.StatusMessage.created=function(){},Template.StatusMessage.rendered=function(){Session.setDefault("postColor","white")},Template.StatusMessage.destroyed=function(){AppCollection.Local.remove({}),AppCollection.StatusMeta.remove(),AppCollection.StatusComment.remove(),AppCollection.UserStatusComment.remove(),App.extensions._deleteSessionKeys(["postColor","postFetchedStatus"])}}(),function(){function e(){App.extensions._call("/logout","",function(e,n){t.debug("/logout : error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(n))}),App.extensions._logout()}Template.Header.events({"click #logout":function(){e()},"click #settingsPanelButton":function(){$("#settings-toggle").toggle("slide")},"mouseenter .bucketNav":function(){$("#bucketOption").popover("show")},"mouseleave .bucketNav":function(){$("#bucketOption").popover("hide")},"click #productTour":function(){Template.Welcome.init()}}),Template.Header.helpers({username:function(){return App.extensions._getUserId()}});var t=new AppLogger("Logout");Template.Header.created=function(){},Template.Header.rendered=function(){$("#bucketOption").popover({html:!0,content:$("#bucketPopover #content").html(),placement:"bottom",title:"Buckets"})},Template.Header.destroyed=function(){}}(),function(){BucketBaseController=BaseController.extend({loading:"loading",onAfterAction:function(){var e=this;return App.extensions._subscribe(e,"/bucket/user_bucket")}}),BucketController=BucketBaseController.extend({onBeforeAction:"loading",waitOn:function(){var e=this;return App.extensions._subscribe(e,"/bucket/editor_selection")},onAfterAction:function(){},data:function(){},action:function(){this.render()}})}(),function(){BucketInsightController=FullScreenController.extend({onBeforeAction:"loading",waitOn:function(){var e=new AppClass.BucketDataRequest(this.params._id);return App.extensions._subscribe(this,"/bucket/bucket_insight",e)},data:function(){return{bucketId:this.params._id}},onAfterAction:function(){var e=this.params._id,t=this.data(),n=Deps.nonreactive(function(){return AppCollection.Bucket.getPostIdList(e)}),r={data:{bucketId:t.bucketId,postIdList:n,limit:1},agent:{userId:App.extensions._getUserId(),session:App.extensions._getSession()}};Session.setDefault("bucketStatusData",r),Session.setDefault("bucketPostCount",AppCollection.Bucket.getPostIdList(e).length),Session.setDefault("currentPage",0),Session.setDefault("totalPages",1),Deps.autorun(function(){Meteor.subscribe("/bucket/bucket_insight/status",Session.get("bucketStatusData"))}),Deps.autorun(function(){var e=Session.get("currentPage"),t=Session.get("totalPages"),r=t-e;if(3>=r){var o=Session.get("bucketStatusData"),a=5*o.data.limit;a<=n.length?(o.data.limit+=1,o.data.postIdList=n,Session.set("bucketStatusData",o)):2*(t-1)<=n.length&&n.length<a&&o.data.postIdList.length!==n.length&&(o.data.postIdList=n,Session.set("bucketStatusData",o))}e-t>=0&&Session.set("currentPage",t-1)})},action:function(){this.render()}})}(),function(){UserBucketController=BaseController.extend({waitOn:function(){},data:function(){},action:function(){this.render()}})}(),function(){HomeController=BaseController.extend({waitOn:function(){},data:function(){},onAfterAction:function(){var e={data:{postIdList:AppCollection.Status.getPostIdList()},agent:{userId:App.extensions._getUserId(),session:App.extensions._getSession()}};Session.set("homeFeedStatusList",e),Deps.autorun(function(){Meteor.subscribe("/home_feed/status_meta",Session.get("homeFeedStatusList"))})},action:function(){var e=this,t=e.path;_.isEqual(t,"/home/")&&Router.go("/home"),this.render()}})}(),function(){InboxController=BaseController.extend({onBeforeAction:"loading",waitOn:function(){Session.set("inboxReady",!1),App.extensions._call("/inbox",{},function(e,t){if(e)console.error("getMessageHandler : "+AppCommon._toJSON(e));else try{_.forEach(t,function(e){_.extend(e,{local_type:"INBOX"}),AppCollection.Local.insert(e)})}catch(n){console.error(e)}Session.set("inboxReady",!0)})},data:function(){},action:function(){Session.get("inboxReady")?this.render():this.render("Loading")}})}(),function(){SeeAllNotificationController=BaseController.extend({onBeforeAction:"loading",waitOn:function(){var e=this;return App.extensions._subscribe(e,"/notification/all")},data:function(){},action:function(){this.render()}})}(),function(){var e=BaseController.extend({onBeforeAction:"loading"}),t={NOT_VALID:"NOT_VALID",UNDER_REVIEW:"UNDER_REVIEW",VALID:"VALID"},n=new AppLogger("StatusMessageController");StatusMessageController=e.extend({onBeforeAction:function(){if(Session.equals("postFetchedStatus",t.VALID)){var e=AppCollection.Status.isAuthor(this.params._id),n={postId:this.params._id,isAuthor:e};return[App.extensions._subscribe(this,"/status/status_message_extra",n),App.extensions._subscribe(this,"/status/user_comment_list",n)]}},waitOn:function(){var e=this.params._id;Session.setDefault("postFetchedStatus",void 0),App.extensions._call("/status/getMessage",e,function(e,r){if(n.debug("getMessageHandler error:"+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e)n.error("getMessageHandler : "+AppCommon._toJSON(e)),_.isEqual(e.error,"PS_1004")?Session.set("postFetchedStatus",t.UNDER_REVIEW):Session.set("postFetchedStatus",t.NOT_VALID);else{try{var o=_.extend(r.message,{type:"POST_MESSAGE"});Session.set("postColor",o.f_color),r=AppCollection.Local.insert(o)}catch(a){n.error(a)}Session.set("postFetchedStatus",t.VALID)}})},onAfterAction:function(){},data:function(){return{postId:this.params._id}},action:function(){AppCommon._isEmpty(Session.get("postFetchedStatus"))?this.render("Loading"):this.render()}})}(),function(){Template.ExpiryCounter.events({}),Template.ExpiryCounter.helpers({formatExpiryTime:function(){var e=(Session.get("expiryTimeTrigger"),this),t=e.expiryTime,n=Date.now(),r=t-n,o=r/6e4,a=parseInt(o/60),i=o-60*a,s=Math.round(60*(i-Math.floor(i)));return 0>a||0>i||0>s?void 0:a+":"+Math.floor(i)+":"+s}}),Template.ExpiryCounter.created=function(){},Template.ExpiryCounter.rendered=function(){Session.setDefault("expiryTimeTrigger",Date.now()),Meteor.setInterval(function(){Session.set("expiryTimeTrigger",Date.now())},1e3)},Template.ExpiryCounter.destroyed=function(){App.extensions._deleteSessionKeys(["expiryTimeTrigger"])}}(),function(){function e(){}Template.Timestamp.events({}),Template.Timestamp.helpers({formatTime:function(e){var n=(Session.get("timestampTrigger"),t.getTime(e));return n}}),e.prototype={constructor:e,getTime:function(e){if(!AppCommon._isEmpty(e)){if(e-Date.now()>0)return"";var t={isYearlOld:!1,isWeekly:!1,isMonthly:!1,isRecent:!1,month:"",date:"",year:"",day:"",meridiem:"",time:""},r=parseInt(e,10),o=new Date(r),a=new Date,i=moment(r);o.getFullYear()!=a.getFullYear()&&(t.isYearlOld=!0,t.month=i.format("MMM"),t.date=i.format("D"),t.year=i.format("YYYY"));var s=a.getTime()-o.getTime()<=n;if(s){var c=o.getDate()==a.getDate();if(c){t.isRecent=!0,t.time="sec";var l=a.getTime()-o.getTime();6e4>=l?(t.time=parseInt(l/1e3,10),t.meridiem="s"):36e5>=l?(t.time=parseInt(l/6e4,10),t.meridiem="m"):5184e6>=l&&(t.time=parseInt(l/36e5,10),t.meridiem="h")}else t.isWeekly=!0,i=i.subtract("days",7),t.day=moment.weekdaysShort(i.day())}else t.isMonthly=!0,t.month=i.format("MMM"),t.date=i.format("D");return t}return t}};{var t=new e;new AppLogger("Timestamp")}Template.Timestamp.created=function(){},Template.Timestamp.rendered=function(){Session.setDefault("timestampTrigger",Date.now()),Meteor.setInterval(function(){Session.set("timestampTrigger",Date.now())},1e3)},Template.Timestamp.destroyed=function(){};var n=5184e5}(),function(){Template.Welcome.events({}),Template.Welcome.helpers({init:function(){$("#welcomeTour").modal()}});var e=function(){};e.prototype={constructor:e};new AppLogger("Welcome"),new e;Template.Welcome.created=function(){},Template.Welcome.rendered=function(){$(".carousel").carousel({wrap:!1,interval:8e3});var e=$("#carousel-welcome-tour");e.on("slid.bs.carousel",function(){var e=$(".item").length,t=$("div.active").index()+1,n=1,r=e;t==n?$(this).find(".left").addClass("hide"):$(this).find(".left").removeClass("hide"),t==r?$(this).find(".right").addClass("hide"):$(this).find(".right").removeClass("hide")}),$("#welcomeTour").on("shown.bs.modal",function(){$("#carousel-welcome-tour").carousel(0)})},Template.Welcome.destroyed=function(){}}(),function(){function e(){}Template.Inbox.events({"click .mail":function(e){var t=e.currentTarget.id,o=AppCollection.Local.findOne({_id:t});Session.set("dataContext",o),Session.set("inboxTemplate",n.templateMapping[o.f_type]),r=t,$("#mailBox").modal("show")},"click #refreshButton":function(){n.getInbox()}}),Template.Inbox.helpers({mailsExist:function(){return AppCollection.Local.findOne({local_type:"INBOX"})},mails:function(){var e=AppCollection.Local.find({local_type:"INBOX"},{sort:{f_timestamp:-1}}),r=[];return r=e.map(function(e){return n.getMailOverview(e)}),t.debug("mailsArray : "+AppCommon._toJSON(r)),r},mailTemplate:function(){return Session.get("inboxTemplate")},dataContext:function(){return Session.get("dataContext")},modalType:function(){return Session.get(o)}}),e.prototype={constructor:e,templateName:"inboxTemplate",errorPrefix:"inbox",templateMapping:{WELCOME:"_Welcome",REPORT_ABUSE_REVIEW_YOUR_POST:"_ReviewYourPostTemplate",REPORT_ABUSE_POST_MOVED_UNDER_REVIEW_SYSTEM:"_PostUnderReviewTemplate",FILTER_STATUS_REVIEWED:"_FilterStatusReviewed",FILTER_COMMENT_REVIEWED:"_FilterCommentReviewed",FILTER_BUCKET_REVIEWED:"_FilterBucketReviewed"},init:function(){$("#mailBox").on("shown.bs.modal",function(){var e=AppCollection.Local.findOne({$and:[{local_type:"INBOX"},{_id:r}]});e.f_archived||n.read(r)})},getMailOverview:function(e){var t="",n="";switch(e.f_type){case"WELCOME":n="Welcome to LetsLeak";break;case"REPORT_ABUSE_REVIEW_YOUR_POST":n="Attention, please review your post",t="Your post '"+e.f_paramObj.postMessage;break;case"REPORT_ABUSE_POST_MOVED_UNDER_REVIEW_SYSTEM":n="Your post is currently under review",t="Your post '"+e.f_paramObj.postMessage;break;case"FILTER_STATUS_REVIEWED":n="Your post review",t="Your post '"+e.f_paramObj.f_message;break;case"FILTER_COMMENT_REVIEWED":n="Your comment review";break;case"FILTER_BUCKET_REVIEWED":n="Your bucket review"}return t.length>50&&(t=t.substring(0,50)+"..."),{_id:e._id,subject:n,shortDesc:t,timestamp:e.f_timestamp,isArchived:e.f_archived}},getInbox:function(){App.extensions._call("/inbox",{},function(e,n){if(e)t.error("getMessageHandler : "+AppCommon._toJSON(e));else try{AppCollection.Local.remove({local_type:"INBOX"}),_.forEach(n,function(e){_.extend(e,{local_type:"INBOX"}),AppCollection.Local.insert(e)})}catch(r){t.error(e)}})},read:function(e){t.debug("marking the post as read! mailId:"+e),App.extensions._call("/inbox/read",{mailId:e},function(n){if(n)t.error("readHandler : "+AppCommon._toJSON(n));else try{AppCollection.Local.update({$and:[{local_type:"INBOX"},{_id:e}]},{$set:{f_archived:!0}})}catch(r){t.error(n)}})}};var t=new AppLogger("Inbox"),n=new e,r="",o="sessionModalType";Template.Inbox.created=function(){},Template.Inbox.rendered=function(){n.init()},Template.Inbox.destroyed=function(){AppCollection.Local.remove({local_type:"INBOX"}),App.extensions._deleteSessionKeys(["inboxTemplate","dataContext",o]),$("#mailBox").modal("hide")}}(),function(){function e(){}Template.AccountInvite.events({"click #getInvitationButton":function(e,n){e.preventDefault(),t.hideErrors(),t.requestInvite(e,n)},"focus input":function(){var e=new AppClass.GenericError;e.removeElementError("emailId",t.templateName)}}),Template.AccountInvite.helpers({}),e.prototype={constructor:e,templateName:"accountInviteTemplate",errorPrefix:"accountInvite",requestInvite:function(e,t){var n=this,r=t.$("#emailId").val(),o=function(){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,t=e.test(r),o=new AppClass.GenericError;return t||o.add("CA_101","emailId"),o.isEmpty||o.showElementError(o.errorArray,n.templateName),o.isEmpty};if(o()){var a={emailId:r};App.extensions._toggleDisableButton(n.templateName,"getInvitationButton",!0),App.extensions._call("/createAccount/requestInvite",a,n.requestInviteHandler)}},requestInviteHandler:function(e,r){if(n.debug("requestInviteHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(t.templateName,"getInvitationButton",!1),e){n.error("requestInviteHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError;return _.isEqual(e.error,"CA_101")&&o.add(e.error,"emailId"),void(o.isEmpty?o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName))}$("#requestEmailId").html($("#"+t.templateName+" #emailId").val()),$("#accountInvite-generic-success").fadeIn(100,function(){$("input").val("")})},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html(""),$("#"+this.templateName+" #"+this.errorPrefix+"-generic-success").hide()}};var t=new e,n=new AppLogger("AccountInvite");Template.AccountInvite.created=function(){},Template.AccountInvite.rendered=function(){},Template.AccountInvite.destroyed=function(){}}(),function(){function e(){}Template.CreateAccount.events({"click, focusin input":function(e){App.extensions._toggleHelpText(e)},"focusout input":function(e){var n=e.target.id,r=new AppClass.GenericError,o=$("#"+n).val();switch(n){case"accountName":t.accountNameCheck(o,r);break;case"password":t.passwordCheck(o,r);break;case"confirmPassword":t.confirmPasswordCheck(o,$("#password").val(),r);break;case"securityPin":t.securityPinCheck(o,r)}r.isEmpty?(r.removeElementError(n,t.templateName),$("#"+n+"Group").addClass("has-success")):r.showElementError(r.errorArray,t.templateName)},"click #createAccountButton":function(e,n){e.preventDefault(),t.createAccount(e,n)},"keypress input":function(e){$(e.target).parent().removeClass("has-error")}}),Template.CreateAccount.helpers({isValid:function(){var e=this;return e.isValidCode&&!e.isRegistered}}),e.prototype={constructor:e,templateName:"createAccountTemplate",errorPrefix:"createAccount",createAccount:function(e,t){var r=this,o=t,a=App.extensions._getFormData(t);if(this.isValidAccountForm(a)){var i={accountRequest:{username:a.accountName.value,password:a.password.value,pin:a.securityPin.value},inviteCode:o.data.inviteCode};n.debug(AppCommon._toJSON(i)),App.extensions._toggleDisableButton(r.templateName,"createAccountButton",!0),$("#generic-error").fadeOut(),App.extensions._call("/createAccount",i,this.createAccountHandler)}},createAccountHandler:function(e,r){if(n.debug("createAccountHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(t.templateName,"createAccountButton",!1),e){n.error("createAccountHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["CA_1001","CA_102","CA_103","CA_108",105],i=["CA_1002"],s=["CA_1003"];return-1!=a.indexOf(e.error)&&o.add(e.error,"accountName"),-1!=i.indexOf(e.error)&&o.add(e.error,"password"),-1!=s.indexOf(e.error)&&o.add(e.error,"securityPin"),void(o.isEmpty?o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName))}Session.setDefault("IS_FIRST_TIME",!0),r.autoLogin&&r.autoLogin.isSuccess?(App.extensions._setSession(r.autoLogin),Router.go("home")):Router.go("index")},isValidAccountForm:function(e){var t=new AppClass.GenericError,r=e.accountName.value,o=e.password.value,a=e.confirmPassword.value,i=e.securityPin.value;return this.accountNameCheck(r,t),this.passwordCheck(o,t),this.confirmPasswordCheck(a,o,t),this.securityPinCheck(i,t),n.debug(t),t.isEmpty||t.showElementError(t.errorArray,this.templateName),t.isEmpty},accountNameCheck:function(e,t){if(n.debug("accountNameCheck"),AppCommon._isEmpty(e)&&t.add("CA_101","accountName"),e){e.length>15&&t.add("CA_102","accountName");var r=/^[a-zA-Z0-9_]+$/g;r.test(e)||t.add("CA_103","accountName")}},passwordCheck:function(e,t){if(n.debug("passwordCheck"),AppCommon._isEmpty(e)&&t.add("CA_101","password"),e){var r=/(?=.*[A-Za-z])(?=.*[0-9])[A-Za-z0-9]+/g;r.test(e)||t.add("CA_104","password"),e.length<8&&t.add("CA_105","password")}},confirmPasswordCheck:function(e,t,r){n.debug("confirmPasswordCheck"),AppCommon._isEmpty(e)&&r.add("CA_101","confirmPassword"),_.isEqual(t,e)||r.add("CA_106","confirmPassword")},securityPinCheck:function(e,t){n.debug("securityPinCheck"),AppCommon._isEmpty(e)?t.add("CA_101","securityPin"):e&&e.length<5&&t.add("CA_107","securityPin")}};var t=new e,n=new AppLogger("CreateAccount");Template.CreateAccount.created=function(){},Template.CreateAccount.rendered=function(){},Template.CreateAccount.destroyed=function(){}}(),function(){function e(){}Template.ForgotPassword.events({"click, focusin input":function(e){App.extensions._toggleHelpText(e)},"focusout input":function(e){var r=e.target.id,o=new AppClass.GenericError,a=$("#"+r).val();switch(r){case"userName":t.userNameCheck(a,o);break;case"newPassword":t.passwordCheck(a,o);break;case"confirmNewPassword":t.confirmPasswordCheck(a,$("#newPassword").val(),o);break;case"securityPin":t.securityPinCheck(a,o)}o.isEmpty?(n.debug("else : value:"+a+" errors:"+o+" elemId:"+r),o.removeElementError(r,t.templateName),$("#"+r+"Group").addClass("has-success")):(n.debug("showElementError : value:"+a+" errors:"+o+" elemId:"+r),o.showElementError(o.errorArray,t.templateName))},"click #requestResetButton":function(e,n){e.preventDefault(),t.hideErrors(),t.forgotPassword(e,n)}}),Template.ForgotPassword.helpers({}),e.prototype={constructor:e,templateName:"forgotPasswordTemplate",errorPrefix:"forgotPassword",forgotPassword:function(e,t){var r=this,o=App.extensions._getFormData(t);if(this.isValidForgotPasswordForm(o)){var a={username:o.userName.value,password:o.newPassword.value,securityPin:o.securityPin.value};n.debug(AppCommon._toJSON(a)),App.extensions._toggleDisableButton(r.templateName,"requestResetButton",!0),Meteor.apply("/forgotPassword/resetForgotPassword",[a],this.forgotPasswordHandler)}},forgotPasswordHandler:function(e,r){if(n.debug("forgotPasswordHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(t.templateName,"requestResetButton",!1),e){n.error("forgotPasswordHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["A_1001"],i=["FP_1003","A_1004","A_1005","A_1006"],s=["A_1003"];return-1!=a.indexOf(e.error)&&o.add(e.error,"userName"),-1!=i.indexOf(e.error)&&(o.add(e.error,"newPassword"),o.add(e.error,"confirmNewPassword")),-1!=s.indexOf(e.error)&&o.add(e.error,"securityPin"),void(o.isEmpty?o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName))}$("input").val(""),$("#forgotPasswordForm .has-success").removeClass("has-success"),$("#forgotPassword-generic-success").fadeIn(100).delay(6e4).fadeOut("fast")},isValidForgotPasswordForm:function(e){var t=new AppClass.GenericError,r=e.userName.value,o=e.newPassword.value,a=e.confirmNewPassword.value,i=e.securityPin.value;return this.userNameCheck(r,t),this.passwordCheck(o,t),this.confirmPasswordCheck(a,o,t),this.securityPinCheck(i,t),n.debug(t),t.isEmpty?($("#forgotPasswordForm .has-error").removeClass("has-error"),$("#forgotPasswordForm .error-text").html("").hide()):t.showElementError(t.errorArray,this.templateName),t.isEmpty},userNameCheck:function(e,t){n.debug("usernameCheck"),AppCommon._isEmpty(e)&&t.add("FP_101","userName")},passwordCheck:function(e,t){if(n.debug("passwordCheck"),AppCommon._isEmpty(e)&&t.add("FP_101","newPassword"),e){var r=/(?=.*[A-Za-z])(?=.*[0-9])[A-Za-z0-9]+/g;r.test(e)||t.add("FP_102","newPassword"),e.length<8&&t.add("FP_103","newPassword")}},confirmPasswordCheck:function(e,t,r){n.debug("confirmPasswordCheck"),AppCommon._isEmpty(e)&&r.add("FP_101","confirmNewPassword"),_.isEqual(t,e)||r.add("FP_104","confirmNewPassword")},securityPinCheck:function(e,t){n.debug("securityPinCheck"),AppCommon._isEmpty(e)&&t.add("FP_101","securityPin"),e&&e.length<5&&t.add("FP_105","securityPin")},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("ForgotPassword");Template.ForgotPassword.created=function(){},Template.ForgotPassword.rendered=function(){},Template.ForgotPassword.destroyed=function(){}}(),function(){function e(){}Template.Login.events({"click #loginButton":function(e,n){e.preventDefault(),t.hideErrors(),t.login(e,n)},"focusout input":function(e){var n=e.target.id,r=new AppClass.GenericError,o=$("#"+n).val();switch(n){case"username":t.usernameCheck(o,r);break;case"password":t.passwordCheck(o,r)}r.isEmpty?(r.removeElementError(n,t.templateName),$("#"+n+"Group").addClass("has-success")):r.showElementError(r.errorArray,t.templateName)}}),Template.Login.helpers({}),e.prototype={constructor:e,templateName:"loginTemplate",errorPrefix:"login",login:function(e,t){var n=this,r=App.extensions._getFormData(t);if(this.isValidLoginForm(r)){var o=r.username.value,a=r.password.value,i={username:o.toLowerCase().trim(),password:a};return App.extensions._toggleDisableButton(n.templateName,"loginButton",!0),Meteor.apply("/login",[i],this.loginHandler)}},loginHandler:function(e,r){if(n.debug("loginHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),e){n.error("loginHandler : "+AppCommon._toJSON(e)),App.extensions._toggleDisableButton(t.templateName,"loginButton",!1);var o=new AppClass.GenericError,a=["L_101","L_102","A_1001"],i=["L_101"];return-1!=a.indexOf(e.error)&&o.add(e.error,"username"),-1!=i.indexOf(e.error)&&o.add(e.error,"password"),void(o.isEmpty?_.isEqual(e.error,"L_103")||_.isEqual(e.error,400)?o.showBlockError(t.templateName,t.errorPrefix,e.error,["username","password"]):o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName))}App.extensions._setSession(r);var s=amplify.store("prev_active");s=_.isUndefined(s)?"home":s,amplify.store("prev_active",null),Router.go(s)},isValidLoginForm:function(e){var t=new AppClass.GenericError;return this.usernameCheck(e.username.value,t),this.passwordCheck(e.password.value,t),n.debug(t),t.isEmpty||t.showElementError(t.errorArray,this.templateName),t.isEmpty},usernameCheck:function(e,t){n.debug("usernameCheck"),AppCommon._isEmpty(e)&&t.add("L_101","username")},passwordCheck:function(e,t){n.debug("passwordCheck"),AppCommon._isEmpty(e)&&t.add("L_101","password")},hideErrors:function(){$("#"+this.templateName+" #"+this.errorPrefix+"-generic-error").html("")}};var t=new e,n=new AppLogger("Login");Template.Login.created=function(){},Template.Login.rendered=function(){},Template.Login.destroyed=function(){}}(),function(){Template.Links.events({}),Template.Links.helpers({}),Template.Links.created=function(){},Template.Links.rendered=function(){},Template.Links.destroyed=function(){}}(),function(){Template.AboutUs.events({}),Template.AboutUs.helpers({}),Template.AboutUs.created=function(){},Template.AboutUs.rendered=function(){},Template.AboutUs.destroyed=function(){}}(),function(){Template.ContactUs.events({}),Template.ContactUs.helpers({}),Template.ContactUs.created=function(){},Template.ContactUs.rendered=function(){},Template.ContactUs.destroyed=function(){}}(),function(){Template.FAQ.events({}),Template.FAQ.helpers({}),Template.FAQ.created=function(){},Template.FAQ.rendered=function(){},Template.FAQ.destroyed=function(){}}(),function(){Template.GroundRules.events({}),Template.GroundRules.helpers({}),Template.GroundRules.created=function(){},Template.GroundRules.rendered=function(){},Template.GroundRules.destroyed=function(){}}(),function(){Template.Privacy.events({}),Template.Privacy.helpers({}),Template.Privacy.created=function(){},Template.Privacy.rendered=function(){},Template.Privacy.destroyed=function(){}}(),function(){Template.Read.events({}),Template.Read.helpers({}),Template.Read.created=function(){$("html,body").animate({scrollTop:$("html").offset().top},700)},Template.Read.rendered=function(){var e=this.data.templateName;
e=e.slice(1,e.length),$("#readTemplate #"+e.toLowerCase()+"-li").addClass("active")},Template.Read.destroyed=function(){}}(),function(){function e(){}Template.Report.events({"change #reportOptions":function(e){{var n=e.target.value,r=$("#usernameOremailGroup label");$("#usernameOremailGroup input")}switch(t.optionSelected=n,$("#questionsContentGroup").addClass("hide"),t.clear(),n){case t.options.FORGOT_SECURITY_PIN:case t.options.FORGOT_USERNAME:r.html("Email address");break;case t.options.QUESTION:r.html("Username"),$("#questionsContentGroup").removeClass("hide")}switch(n){case t.options.FORGOT_SECURITY_PIN:case t.options.FORGOT_USERNAME:case t.options.QUESTION:$("#"+t.templateName+" #queryFields").removeClass("hide");break;default:$("#"+t.templateName+" #queryFields").addClass("hide")}},"focusout textarea,input":function(e){var n=e.target.id,r=new AppClass.GenericError,o=$("#"+n).val();switch(n){case"usernameOremail":t.usernameOremail(o,r);break;case"questionsContent":t.questionsContent(o,r)}r.isEmpty?r.removeElementError(n,t.templateName):r.showElementError(r.errorArray,t.templateName)},"click #sendReportButton":function(e,n){e.preventDefault(),t.reportSubmit(e,n)}}),Template.Report.helpers({}),e.prototype={constructor:e,templateName:"reportTemplate",errorPrefix:"report",options:{FORGOT_USERNAME:"forgotUsername",FORGOT_SECURITY_PIN:"forgotSecurityPin",QUESTION:"questions"},reportSubmit:function(e,t){var r=this,o=App.extensions._getFormData(t);if(r.isValid(o)){var a={optionSelected:r.optionSelected,usernameOremail:o.usernameOremail.value,questionsContent:o.questionsContent.value};n.debug(AppCommon._toJSON(a)),App.extensions._toggleDisableButton(r.templateName,"sendReportButton",!0),$("#generic-error").fadeOut(),Meteor.call("/report",a,this.reportSubmitHandler)}},reportSubmitHandler:function(e,r){if(n.debug("reportSubmitHandler error : "+AppCommon._toJSON(e)+" result:"+AppCommon._toJSON(r)),App.extensions._toggleDisableButton(t.templateName,"sendReportButton",!1),e){n.error("reportSubmitHandler : "+AppCommon._toJSON(e));var o=new AppClass.GenericError,a=["R_1003","R_1004","R_102"],i=["R_1005","R_1006"];return-1!=a.indexOf(e.error)&&o.add(e.error,"usernameOremail"),-1!=i.indexOf(e.error)&&o.add(e.error,"questionsContent"),void(o.isEmpty?o.showCustomBlockError(t.templateName,t.errorPrefix,e.error):o.showElementError(o.errorArray,t.templateName))}t.clear(),$("#"+t.errorPrefix+"-generic-success").fadeIn(10).delay(5e3).fadeOut("fast")},isValid:function(e){return!0},usernameOremail:function(e,n){if(AppCommon._isEmpty(e))n.add("R_101","usernameOremail");else switch(t.optionSelected){case t.options.FORGOT_SECURITY_PIN:case t.options.FORGOT_USERNAME:AppHelper.isVaildEmail(e)||n.add("R_102","usernameOremail");break;case t.options.QUESTION:}},questionsContent:function(e,n){if(_.isEqual(t.options.QUESTION,t.optionSelected))if(AppCommon._isEmpty(e))n.add("R_101","questionsContent");else{var r=e.length;(15>r||r>150)&&n.add("R_103","questionsContent")}},clear:function(){$("textarea").val(""),$("input").val(""),$("#usernameOremailGroup label").html("");var e=new AppClass.GenericError;e.removeElementError("usernameOremail",t.templateName),e.removeElementError("questionsContent",t.templateName)}};var t=new e,n=new AppLogger("ReportModel");Template.Report.created=function(){},Template.Report.rendered=function(){},Template.Report.destroyed=function(){}}(),function(){Template.TnC.events({}),Template.TnC.helpers({}),Template.TnC.created=function(){},Template.TnC.rendered=function(){},Template.TnC.destroyed=function(){}}(),function(){function e(){this.errorArray=[],this.length=0,this.isEmpty=!0}function t(e){var t='<div class="alert alert-danger">',n='<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>',r="<span>"+e+"</span>",o="</div>";return t+n+r+o}e.prototype={constructor:e,add:function(e,t){this.errorArray[this.length]={code:e,elemId:t},this.length+=1,this.isEmpty=!1},toString:function(){return"[Errors errorArray:"+AppCommon._toJSON(this.errorArray)+", length:"+this.length+", isEmpty:"+this.isEmpty+"]"},messages:{GENERIC:"Some error occurred. We are sorry for the trouble.\nIf problem persists, please <a target='_blank' href='/ContactUs'>Contact Us</a>",TECHNICAL:"Some technical error occurred. We are sorry for the trouble.\nIf problem persists, please <a target='_blank' href='/ContactUs'>Contact Us</a>."},showElementError:function(e,t){if(AppCommon._isEmpty(t))alert(this.messages.GENERIC);else{var n=t;_.each(e,function(e){var t=$("#"+n+" .error-text ."+e.code).html(),r=$("#"+n+" #"+e.elemId).parent();$(r).find(".error-text").html(t).show(),$("#"+n+" #"+e.elemId+"Group").removeClass("has-success").addClass("has-error")})}},removeElementError:function(e,t){if(AppCommon._isEmpty(t))alert(this.messages.GENERIC);else{var n=$("#"+t+" #"+e).parent();$(n).find(".error-text").html("").hide(),$("#"+t+" #"+e+"Group").removeClass("has-error")}},showBlockError:function(e,t,n,r){var o=this;if(AppCommon._isEmpty(e))alert(o.messages.GENERIC);else{var a=o.messages.GENERIC;if(n){var i=n;_.isArray(n)||(i=[{code:n}]),a="",_.each(i,function(t){a+=$("#"+e+" .error-text ."+t.code).html(),a+="<br>"})}this._renderCustomBlock(e,t,a),r&&r.length>0&&_.each(r,function(t){$("#"+e+" #"+t+"Group").addClass("has-error")})}},showCustomBlockError:function(e,t,n,r){var o=this;if(AppCommon._isEmpty(t)&&alert(o.messages.GENERIC),!AppCommon._isEmpty(n)){var a=["I_L_101","I_L_102","I_L_103","I_L_104"];if(-1!=a.indexOf(n))return void this.storeAndLogout()}AppCommon._isEmpty(r)&&(r=$("#"+e+" .error-text ."+n).html());var i=r||o.messages.TECHNICAL;this._renderCustomBlock(e,t,i)},showCustomFadeOutBlockError:function(e,t,n){this.showCustomBlockError(e,t,n.errorCode,n.message);var r=n.fadeOutTime||2e4;$("#"+e+" #"+t+"-generic-error").delay(r).fadeOut("fast")},_renderCustomBlock:function(e,n,r){var o=$("#"+e+" #"+n+"-generic-error");o.html(t(r)).fadeIn()},storeAndLogout:function(){App.extensions._logout(!0)}},_.extend(AppClass,{GenericError:e})}(),function(){function e(){}e.prototype={constructor:e,reports:{R_1:{code:"R_1",message:"Someones name is explicity mentioned."},R_2:{code:"R_2",message:"Sexually explicit content."},R_3:{code:"R_3",message:"Violence or harmful behaviour or hate speech."},R_4:{code:"R_4",message:"It is bullying a person."},R_5:{code:"R_5",message:"This is spam."}},getReportOptions:function(){var e=[],t=0;return _.each(AppClass.ReportAbuse.reports,function(n){e[t]=n,t++}),e},getMessage:function(e){var t=this.reports[e];return _.isUndefined(t)?t:t.message}},_.extend(AppClass,{ReportAbuse:new e})}(),function(){function e(e,t){this.status=e||"",this.message=t||"",this.isSuccess=!1}e.prototype={constructor:e,toString:function(){return"[GenericResponse status:"+this.status+", message:"+AppCommon._toJSON(this.message)+", isSuccess:"+this.isSuccess+"]"},setError:function(e){this.status="ERROR",this.message=e||"",this.isSuccess=!1},setSuccess:function(e){this.status="SUCCESS",this.message=e||"",this.isSuccess=!0},format:function(e){this.setSuccess(e),e instanceof Meteor.Error?this.setError(e):(_.isUndefined(e)||_.isNull(e))&&this.setError("result is undefined")}},_.extend(AppClass,{GenericResponse:e})}(),function(){var e=new Meteor.Collection("c_bucket");e.getDetails=function(t){return e.findOne({_id:t})},e.getBucketName=function(){var e=this.getDetails();return AppCommon._isEmpty(e)?null:e.f_bucket.f_name},e.getPostIdList=function(t){var n=e.findOne({_id:t});return AppCommon._isEmpty(n)||AppCommon._isEmpty(n.f_post_id_list)?[]:n.f_post_id_list},e.getEditorSelection=function(){var t=0;return e.find({"f_bucket.f_access":"PUBLIC"},{sort:{f_timestamp:-1}}).map(function(e){return e.index=t,t++,e})},_.extend(AppCollection,{Bucket:e})}(),function(){var e=new Meteor.Collection("c_user_bucket");e.getUserFollowingBucket=function(){return e.findOne({f_userId:App.extensions._getUserId()})},e.isUserFollowingBucket=function(t){var n=e.getUserFollowingBucket();if(n){var r=n&&n.f_bucket_id_list;return-1!=r.indexOf(t)}return!1},_.extend(AppCollection,{UserBucket:e})}(),function(){var e=new Meteor.Collection("c_notification_instant");e.getUnreadNotification=function(){return e.find({f_archived:!1},{sort:{"f_message.f_event_timestamp":-1}})},e.getAllNotification=function(){var t=(App.extensions._getUserId(),{sort:{f_timestamp:-1},limit:20,fields:{f_userId:0}});return e.find({},t)},e.getUnreadInboxCount=function(){var e=AppCollection.Notification.findOne({f_notify_type:"INBOX"});return _.isUndefined(e)?0:e.f_inbox_count},_.extend(AppCollection,{Notification:e})}(),function(){var e=new Meteor.Collection("c_report_abuse");_.extend(AppCollection,{ReportAbuse:e})}(),function(){var e=new Meteor.Collection("c_status");e.getPostIdList=function(){var e=AppCollection.Status.find().map(function(e){return e._id});return AppCommon._isEmpty(e)?[]:e},e.isAuthor=function(t){var n=e.findOne({_id:t});return AppCommon._isEmpty(n)?!1:!AppCommon._isEmpty(n.author)&&_.isEqual(n.author.toLowerCase(),App.extensions._getUserId("lower"))},e.isCommentAllowed=function(t){var n=e.findOne({_id:t});return AppCommon._isEmpty(n)?!1:n.isCommentAllowed?!0:!1},e.getMessage=function(t){return e.findOne({_id:t})},_.extend(AppCollection,{Status:e}),StatusCollectionPages=new Meteor.Pagination(e,{templateName:"StatusFeed",onReloadPage1:!0,infinite:!0,homeRoute:"/home",itemTemplate:"home_pagesItemDefault",pageTemplate:"home_pagesPageCont",navTemplate:"home_pagesNavCont",loadingTemplate:"home_pagesLoading",perPage:20,dataMargin:1,sort:{f_timestamp:-1},filters:{$and:[{f_flagged:!1},{f_is_deleted:{$ne:!0}},{$or:[{f_expires:!1},{$and:[{f_expires:!0},{f_expiryTime:{$gte:Date.now()}}]}]}]}})}(),function(){var e=new Meteor.Collection("c_status_comment");e.getPublicComment=function(t){return e.find({$and:[{f_postId:t},{f_type:"PUBLIC"}]},{sort:{f_timestamp:-1}})},e.getPrivateComment=function(t){return e.find({$and:[{f_postId:t},{f_type:"PRIVATE"}]},{sort:{f_timestamp:-1}})},e.filter=function(e,t){if(!AppCommon._isEmpty(e)){var n=this.allComments(t);n.map(function(t){"PRIVATE"==t.type&&-1!=e.indexOf[t._id]})}},_.extend(AppCollection,{StatusComment:e})}(),function(){var e=new Meteor.Collection("c_status_meta");e.likeCount=function(t){return e.findOne({_id:t})},_.extend(AppCollection,{StatusMeta:e})}(),function(){var e=new Meteor.Collection("c_user_status");e.isPostAuthor=function(t){var n=e.findOne({_id:t});return!AppCommon._isEmpty(n)},_.extend(AppCollection,{UserStatus:e})}(),function(){var e=new Meteor.Collection("c_user_status_comment");e.byUser=function(e,t){var n=this.getStatusComment(e);return AppCommon._isEmpty(n)?!1:-1!=n.commentList.indexOf(t)},e.getCommentArray=function(){console.error("refacotr");var e=(App.extensions._getUserId(),this.getStatusComment());return AppCommon._isEmpty(e)?void 0:e.commentList},e.getStatusComment=function(t){var n=App.extensions._getUserId();return e.findOne({$and:[{userId:n},{postId:t}]})},_.extend(AppCollection,{UserStatusComment:e})}(),function(){var e=new Meteor.Collection("c_user_status_meta");e.isLiked=function(t){var n=App.extensions._getUserId(),r=e.findOne(n);if(r){var o=r.statusLiked;return o&&-1!=o.indexOf(t)}return!1},_.extend(AppCollection,{UserStatusMeta:e})}(),function(){CreateAccountController=DefaultController.extend({onBeforeAction:"loading",waitOn:function(){var e={inviteCode:this.params.inviteCode};return App.extensions._subscribe(this,"/createAccount/isRegistered",e)},data:function(){var t=this.params.inviteCode,n=e.findOne({inviteCode:t}),r=null,o=!1;return _.isUndefined(n)||(o=!0,r=n.isRegistered),{inviteCode:t,isRegistered:r,isValidCode:o}},action:function(){this.render()}});var e=new Meteor.Collection("c_account_invitation")}(),function(){IndexController=RouteController.extend({waitOn:function(){},data:function(){},action:function(){this.render()}})}(),function(){LoginController=DefaultController.extend({})}(),function(){Template.Home.events({}),Template.Home.helpers({}),Template.Home.created=function(){},Template.Home.rendered=function(){Session.get("IS_FIRST_TIME")&&(Template.Welcome.init(),Session.set("IS_FIRST_TIME",!1))},Template.Home.destroyed=function(){AppCollection.Status.remove()}}(),function(){Template.Index.events({"click #knowMoreButton":function(){$(".homeContainer").fadeIn(300,function(){return $("html,body").animate({scrollTop:$(".homeContainer").offset().top},700),!1})}}),Template.Index.helpers({}),Template.Index.created=function(){},Template.Index.rendered=function(){},Template.Index.destroyed=function(){}}(),function(){Template.BucketLayout.events({}),Template.BucketLayout.helpers({}),Template.BucketLayout.created=function(){},Template.BucketLayout.rendered=function(){$("input").attr("autocomplete","off")},Template.BucketLayout.destroyed=function(){}}(),function(){Template.FullScreenLayout.events({}),Template.FullScreenLayout.helpers({}),Template.FullScreenLayout.created=function(){},Template.FullScreenLayout.rendered=function(){$("input").attr("autocomplete","off")},Template.FullScreenLayout.destroyed=function(){}}(),function(){Template.HomeLayout.events({}),Template.HomeLayout.helpers({getUsername:function(){return App.extensions._getUserId()}}),Template.HomeLayout.created=function(){},Template.HomeLayout.rendered=function(){$("#username").text(App.extensions._getUserId()),$("input").attr("autocomplete","off")},Template.HomeLayout.destroyed=function(){}}(),function(){Template.MasterLayout.events({}),Template.MasterLayout.helpers({}),Template.MasterLayout.created=function(){},Template.MasterLayout.rendered=function(){$("input").attr("autocomplete","off")},Template.MasterLayout.destroyed=function(){}}(),function(){Template.Footer.events({}),Template.Footer.helpers({}),Template.Footer.created=function(){},Template.Footer.rendered=function(){},Template.Footer.destroyed=function(){}}(),function(){Template.Loading.events({}),Template.Loading.helpers({}),Template.Loading.created=function(){},Template.Loading.rendered=function(){},Template.Loading.destroyed=function(){}}(),function(){Template.NotFound.events({}),Template.NotFound.helpers({}),Template.NotFound.created=function(){},Template.NotFound.rendered=function(){},Template.NotFound.destroyed=function(){}}(),function(){function e(e,t,n,r,o,a){this.bucketId=o||"",this.name=e.trim()||"",this.desc=t.trim()||"",this.action=a||"",this.isEditable=r||!1,AppCommon._isEmpty(n)||(n=n.trim(),n=n.toUpperCase()),this.access=n||this.accessType.PUBLIC}e.prototype={constructor:e,accessType:{PRIVATE:"PRIVATE",PUBLIC:"PUBLIC"},toString:function(){return"[Bucket bucketId :"+this.bucketId+", name :"+this.name+", desc :"+this.desc+", access :"+this.access+", action :"+this.action+", isEditable :"+this.isEditable+"]"},getId:function(){return AppCommon._isEmpty(this.bucketId)?this.name:this.bucketId.trim()},getName:function(){return AppCommon._isEmpty(this.name)?this.name:Spacebars.SafeString(this.name.trim()).string},getDesc:function(){return AppCommon._isEmpty(this.desc)?this.desc:Spacebars.SafeString(this.desc.trim()).string},getAccess:function(){return!AppCommon._isEmpty(this.access)&&this.isValidAccessType(this.access)?this.access:this.accessType.PUBLIC},getAction:function(){return!AppCommon._isEmpty(this.action)&&this.isValidAction(this.action)?this.action:void 0},isValidAction:function(e){return e&&(_.isEqual(e.toLowerCase(),"update")||_.isEqual(e.toLowerCase(),"add"))},isValidAccessType:function(e){return _.isEqual(e,this.accessType.PRIVATE)||_.isEqual(e,this.accessType.PUBLIC)},isBucketEditable:function(){return this.isEditable?!0:!1},clone:function(){return new e(this.name,this.desc,this.access,this.isEditable,this.bucketId,this.action)},equals:function(t){return t instanceof e?EJSON.stringify(this)==EJSON.stringify(t):!1},typeName:function(){return"Bucket"},toJSONValue:function(){return{name:this.name,desc:this.desc,access:this.access,bucketId:this.bucketId,action:this.action,isEditable:this.isEditable}}},EJSON.addType("Bucket",function(t){return new e(t.name,t.desc,t.access,t.isEditable,t.bucketId,t.action)}),_.extend(AppClass,{Bucket:e})}(),function(){function e(e,t,n){e=_.isArray(e)?e:[e],this.bucketIdList=e||"",this.postId=t||"",this.postType=n||"",this.limit=-1}e.prototype={constructor:e,itemType:{STATUS:"STATUS"},getBucketIdList:function(){},getItemId:function(){return AppCommon._isEmpty(this.postId)?this.postId:Spacebars.SafeString(this.postId.trim()).string},isValidType:function(){return this.postType===this.itemType.STATUS},toString:function(){return"[BucketDataRequest bucketIdList:"+this.bucketIdList+", postId:"+this.postId+", postType:"+this.postType+", limit:"+this.limit+" ]"},clone:function(){return new e(this.bucketIdList,this.postId,this.postType,this.limit)},equals:function(t){return t instanceof e?EJSON.stringify(this)==EJSON.stringify(t):!1},typeName:function(){return"BucketDataRequest"},toJSONValue:function(){return{bucketIdList:this.bucketIdList,postId:this.postId,postType:this.postType,limit:this.limit}}},EJSON.addType("BucketDataRequest",function(t){return new e(t.bucketIdList,t.postId,t.postType,t.limit)}),_.extend(AppClass,{BucketDataRequest:e})}(),function(){function e(e,t,n,r,o){this.postId=e||"",this.comment=t||"",this.byAuthor=n||!1,this.type=r||"pubic",this.action=o||"",!AppCommon._isEmpty(this.action)&&_.isEqual(o,"DELETE")&&(this.type=null,this.byAuthor=null),this.commentId=""}e.prototype={constructor:e,toString:function(){return"[Comment postId:"+this.postId+", comment:"+this.comment+", byAuthor:"+this.byAuthor+", type:"+this.type+", action:"+this.action+", commentId:"+this.commentId+"]"},actions:{ADD:"ADD",DELETE:"DELETE"}},_.extend(AppClass,{Comment:e})}(),function(){function e(e,t){this.userId=e||null,this.sessionKey=t||null,this.isSuccess=!1}e.prototype={constructor:e,toString:function(){return"[LoginResponse userId : "+this.userId+"sessionKey : "+this.sessionKey+" this.isSuccess:"+this.isSuccess+"]"}},_.extend(AppClass,{LoginResponse:e})}(),function(){function e(e,t,n,r){this.message=e,this.isCommentAllowed=t||!1,this.bgColor=n||"white",this.expiry=r}e.prototype={constructor:e,toString:function(){return"[StatusMessage message:"+this.message+" ,isCommentAllowed:"+this.isCommentAllowed+" ,bgColor:"+this.bgColor+" ,expiry:"+AppCommon._toJSON(this.expiry)+"]"}},_.extend(AppClass,{StatusMessage:e})}(),function(){function e(e,t){this._id=e||"",this.action=t||""}e.prototype={constructor:e,actions:{ADD:"ADD",DELETE:"DELETE"}},_.extend(AppClass,{StatusMeta:e})}(),function(){var e=new Meteor.Collection(null);_.extend(AppCollection,{Local:e})}(),function(){$(window).scroll(function(){$(window).scrollTop()>=50?($(".navbar-static-top").addClass("shadow"),$(".logo-icon").addClass("shadow")):($(".navbar-static-top").removeClass("shadow"),$(".logo-icon").addClass("shadow"))})}(),function(){!function(e){"use strict";function t(e){if(e){if("string"==typeof r[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,o=0,a=n.length;a>o;o++)if(t=n[o]+e,"string"==typeof r[t])return t}}var n="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return t}):e.getStyleProperty=t}(window),function(e){"use strict";function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=i.length;n>t;t++){var r=i[t];e[r]=0}return e}function r(e){function r(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=a(e);if("none"===r.display)return n();var c={};c.width=e.offsetWidth,c.height=e.offsetHeight;for(var l=c.isBorderBox=!(!s||!r[s]||"border-box"!==r[s]),u=0,p=i.length;p>u;u++){var d=i[u],f=r[d],h=parseFloat(f);c[d]=isNaN(h)?0:h}var m=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,_=c.borderTopWidth+c.borderBottomWidth,w=l&&o,T=t(r.width);T!==!1&&(c.width=T+(w?0:m+b));var k=t(r.height);return k!==!1&&(c.height=k+(w?0:g+_)),c.innerWidth=c.width-(m+b),c.innerHeight=c.height-(g+_),c.outerWidth=c.width+v,c.outerHeight=c.height+y,c}}var o,s=e("boxSizing");return function(){if(s){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[s]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var r=a(e);o=200===t(r.width),n.removeChild(e)}}(),r}var o=document.defaultView,a=o&&o.getComputedStyle?function(e){return o.getComputedStyle(e,null)}:function(e){return e.currentStyle},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property"],r):e.getSize=r(e.getStyleProperty)}(window),function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,r){t[n+r]=r.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,r.handleEvent.call(r,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,r.call(t,n)},t.attachEvent("on"+n,t[n+r])});var r=function(){};t.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var o={bind:n,unbind:r};"function"==typeof define&&define.amd?define(o):e.eventie=o}(this),function(e){"use strict";function t(e){"function"==typeof e&&(t.isReady?e():a.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==o.readyState;if(!t.isReady&&!n){t.isReady=!0;for(var r=0,i=a.length;i>r;r++){var s=a[r];s()}}}function r(r){return r.bind(o,"DOMContentLoaded",n),r.bind(o,"readystatechange",n),r.bind(e,"load",n),t}var o=e.document,a=[];t.isReady=!1,"function"==typeof define&&define.amd?define(["eventie"],r):e.docReady=r(e.eventie)}(this),function(e){"use strict";function t(){}function n(e,t){if(o)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var r=t.prototype,o=Array.prototype.indexOf?!0:!1;r._getEvents=function(){return this._events||(this._events={})},r.getListeners=function(e){var t,n,r=this._getEvents();if("object"==typeof e){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,t){var r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1===n(t,o[r])&&o[r].push(t);return this},r.on=r.addListener,r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var r,o,a=this.getListenersAsObject(e);for(o in a)a.hasOwnProperty(o)&&(r=n(t,a[o]),-1!==r&&a[o].splice(r,1));return this},r.off=r.removeListener,r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,o,a=e?this.removeListener:this.addListener,i=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?a.call(this,r,o):i.call(this,r,o));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if("object"===n)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.emitEvent=function(e,t){var n,r,o,a=this.getListenersAsObject(e);for(r in a)if(a.hasOwnProperty(r))for(n=a[r].length;n--;)o=t?a[r][n].apply(null,t):a[r][n](),o===!0&&this.removeListener(e,a[r][n]);return this},r.trigger=r.emitEvent,r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this),function(e){"use strict";function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function o(t,n){e.fn[t]=function(o){if("string"==typeof o){for(var i=r.call(arguments,1),s=0,c=this.length;c>s;s++){var l=this[s],u=e.data(l,t);if(u)if(e.isFunction(u[o])&&"_"!==o.charAt(0)){var p=u[o].apply(u,i);if(void 0!==p)return p}else a("no such method '"+o+"' for "+t+" instance");else a("cannot call methods on "+t+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var r=e.data(this,t);r?(r.option(o),r._init()):(r=new n(this,o),e.data(this,t,r))})}}if(e){var a="undefined"==typeof console?t:function(e){console.error(e)};e.bridget=function(e,t){n(t),o(e,t)}}}var r=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],n):n(e.jQuery)}(window),function(e,t){"use strict";function n(e,t){return e[s](t)}function r(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function o(e,t){r(e);for(var n=e.parentNode.querySelectorAll(t),o=0,a=n.length;a>o;o++)if(n[o]===e)return!0;return!1}function a(e,t){return r(e),n(e,t)}var i,s=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,r=e.length;r>n;n++){var o=e[n],a=o+"MatchesSelector";if(t[a])return a}}();if(s){var c=document.createElement("div"),l=n(c,"div");i=l?n:a}else i=o;"function"==typeof define&&define.amd?define(function(){return i}):window.matchesSelector=i}(this,Element.prototype),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var r=e.getSize,o=e.getStyleProperty,a=e.EventEmitter,i=document.defaultView,s=i&&i.getComputedStyle?function(e){return i.getComputedStyle(e,null)}:function(e){return e.currentStyle},c=o("transition"),l=o("transform"),u=c&&l,p=!!o("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],f=["transform","transition","transitionDuration","transitionProperty"],h=function(){for(var e={},t=0,n=f.length;n>t;t++){var r=f[t],a=o(r);a&&a!==r&&(e[r]=a)}return e}();t(n.prototype,a.prototype),n.prototype._create=function(){this.css({position:"absolute"})},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.getSize=function(){this.size=r(this.element)},n.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=h[n]||n;t[r]=e[n]}},n.prototype.getPosition=function(){var e=s(this.element),t=this.layout.options,n=t.isOriginLeft,r=t.isOriginTop,o=parseInt(e[n?"left":"right"],10),a=parseInt(e[r?"top":"bottom"],10);o=isNaN(o)?0:o,a=isNaN(a)?0:a;var i=this.layout.size;o-=n?i.paddingLeft:i.paddingRight,a-=r?i.paddingTop:i.paddingBottom,this.position.x=o,this.position.y=a},n.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var m=p?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};n.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,o=parseInt(e,10),a=parseInt(t,10),i=o===this.position.x&&a===this.position.y;if(this.setPosition(e,t),i&&!this.isTransitioning)return void this.layoutPosition();var s=e-n,c=t-r,l={},u=this.layout.options;s=u.isOriginLeft?s:-s,c=u.isOriginTop?c:-c,l.transform=m(s,c),this.transition({to:l,onTransitionEnd:this.layoutPosition,isCleaning:!0})},n.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},n.prototype.moveTo=u?n.prototype._transitionTo:n.prototype.goTo,n.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},n.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd&&e.onTransitionEnd.call(this)},n.prototype._transition=function(e){var t=this.layout.options.transitionDuration;if(!parseFloat(t))return void this._nonTransition(e);var n=e.to,r=[];for(var o in n)r.push(o);var a={};if(a.transitionProperty=r.join(","),a.transitionDuration=t,this.element.addEventListener(d,this,!1),(e.isCleaning||e.onTransitionEnd)&&this.on("transitionEnd",function(t){return e.isCleaning&&t._removeStyles(n),e.onTransitionEnd&&e.onTransitionEnd.call(t),!0}),e.from){this.css(e.from);var i=this.element.offsetHeight;i=null}this.css(a),this.css(n),this.isTransitioning=!0},n.prototype.transition=n.prototype[c?"_transition":"_nonTransition"],n.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},n.prototype.onotransitionend=function(e){this.ontransitionend(e)},n.prototype.ontransitionend=function(e){e.target===this.element&&(this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1,this.emitEvent("transitionEnd",[this]))},n.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var g={transitionProperty:"",transitionDuration:""};n.prototype.removeTransitionStyles=function(){this.css(g)},n.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},n.prototype.remove=c?function(){var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()}:n.prototype.removeElem,n.prototype.reveal=function(){this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},n.prototype.hide=function(){this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:function(){this.css({display:"none"})}})},n.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},e.Outlayer={Item:n}}(window),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===y.call(e)}function r(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var r=0,o=e.length;o>r;r++)t.push(e[r]);else t.push(e);return t}function o(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function a(e,n){if("string"==typeof e&&(e=h.querySelector(e)),!e||!b(e))return void(m&&m.error("Bad "+this.settings.namespace+" element: "+e));this.element=e,this.options=t({},this.options),t(this.options,n);var r=++w;this.element.outlayerGUID=r,T[r]=this,this._create(),this.options.isInitLayout&&this.layout()}function i(e,n){e.prototype[n]=t({},a.prototype[n])}var s=e.Outlayer,c=s.Item,l=e.docReady,u=e.EventEmitter,p=e.eventie,d=e.getSize,f=e.matchesSelector,h=e.document,m=e.console,g=e.jQuery,v=function(){},y=Object.prototype.toString,b="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},_=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},w=0,T={};a.prototype.settings={namespace:"outlayer",item:s.Item},a.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(a.prototype,u.prototype),a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()
},a.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},a.prototype._getItems=function(e){for(var t=this._filterFindItemElements(e),n=this.settings.item,r=[],o=0,a=t.length;a>o;o++){var i=t[o],s=new n(i,this,this.options.itemOptions);r.push(s)}return r},a.prototype._filterFindItemElements=function(e){e=r(e);var t=this.options.itemSelector;if(!t)return e;for(var n=[],o=0,a=e.length;a>o;o++){var i=e[o];f(i,t)&&n.push(i);for(var s=i.querySelectorAll(t),c=0,l=s.length;l>c;c++)n.push(s[c])}return n},a.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=d(this.element)},a.prototype._getMeasurement=function(e,t){var n,r=this.options[e];r?("string"==typeof r?n=this.element.querySelector(r):b(r)&&(n=r),this[e]=n?d(n)[t]:r):this[e]=0},a.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},a.prototype._getItemsForLayout=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var o=e[n];o.isIgnored||t.push(o)}return t},a.prototype._layoutItems=function(e,t){if(!e||!e.length)return void this.emitEvent("layoutComplete",[this,e]);this._itemsOn(e,"layout",function(){this.emitEvent("layoutComplete",[this,e])});for(var n=[],r=0,o=e.length;o>r;r++){var a=e[r],i=this._getItemLayoutPosition(a);i.item=a,i.isInstant=t,n.push(i)}this._processLayoutQueue(n)},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},a.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},a.prototype._postLayout=function(){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))},a.prototype._getContainerSize=v,a.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},a.prototype._itemsOn=function(e,t,n){function r(){return o++,o===a&&n.call(i),!0}for(var o=0,a=e.length,i=this,s=0,c=e.length;c>s;s++){var l=e[s];l.on(t,r)}},a.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},a.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},a.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var r=e[t];this.ignore(r)}}},a.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var r=e[t],o=_(this.stamps,r);-1!==o&&this.stamps.splice(o,1),this.unignore(r)}},a.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r(e)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},a.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},a.prototype._manageStamp=v,a.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=d(e),o={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return o},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.bindResize=function(){this.isResizeBound||(p.bind(e,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){p.unbind(e,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function e(){t.resize()}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},a.prototype.resize=function(){var e=d(this.element),t=this.size&&e;t&&e.innerWidth===this.size.innerWidth||(this.layout(),delete this.resizeTimeout)},a.prototype.addItems=function(e){var t=this._getItems(e);return t.length?(this.items=this.items.concat(t),t):void 0},a.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},a.prototype.prepended=function(e){var t=this._getItems(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},a.prototype.reveal=function(e){if(e&&e.length)for(var t=0,n=e.length;n>t;t++){var r=e[t];r.reveal()}},a.prototype.hide=function(e){if(e&&e.length)for(var t=0,n=e.length;n>t;t++){var r=e[t];r.hide()}},a.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];if(r.element===e)return r}},a.prototype.getItems=function(e){if(e&&e.length){for(var t=[],n=0,r=e.length;r>n;n++){var o=e[n],a=this.getItem(o);a&&t.push(a)}return t}},a.prototype.remove=function(e){e=r(e);var t=this.getItems(e);this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,o=t.length;o>n;n++){var a=t[n];a.remove();var i=_(this.items,a);this.items.splice(i,1)}},a.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];r.destroy()}this.unbindResize(),delete this.element.outlayerGUID},a.data=function(e){var t=e&&e.outlayerGUID;return t&&T[t]},a.create=function(e,n){function r(){a.apply(this,arguments)}return t(r.prototype,a.prototype),i(r,"options"),i(r,"settings"),t(r.prototype.options,n),r.prototype.settings.namespace=e,r.data=a.data,r.Item=function(){c.apply(this,arguments)},r.Item.prototype=new a.Item,r.prototype.settings.item=r.Item,l(function(){for(var t=o(e),n=h.querySelectorAll(".js-"+t),a="data-"+t+"-options",i=0,s=n.length;s>i;i++){var c,l=n[i],u=l.getAttribute(a);try{c=u&&JSON.parse(u)}catch(p){m&&m.error("Error parsing "+a+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+p);continue}var d=new r(l,c);g&&g.data(l,e,d)}}),g&&g.bridget&&g.bridget(e,r),r},a.Item=c,e.Outlayer=a}(window),function(e){"use strict";function t(e,t){var r=e.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){var e=this.items[0].element;this.columnWidth=this.columnWidth||t(e).outerWidth,this.columnWidth+=this.gutter,this.cols=Math.floor((this.size.innerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},r.prototype._getItemLayoutPosition=function(e){e.getSize();var t=Math.ceil(e.size.outerWidth/this.columnWidth);t=Math.min(t,this.cols);for(var r=this._getColGroup(t),o=Math.min.apply(Math,r),a=n(r,o),i={x:this.columnWidth*a,y:o},s=o+e.size.outerHeight,c=this.cols+1-r.length,l=0;c>l;l++)this.colYs[a+l]=s;return i},r.prototype._getColGroup=function(e){if(1===e)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;n>r;r++){var o=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,o)}return t},r.prototype._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),o=this.options.isOriginLeft?r.left:r.right,a=o+n.outerWidth,i=Math.floor(o/this.columnWidth);i=Math.max(0,i);var s=Math.floor(a/this.columnWidth);s=Math.min(this.cols-1,s);for(var c=(this.options.isOriginTop?r.top:r.bottom)+n.outerHeight,l=i;s>=l;l++)this.colYs[l]=Math.max(c,this.colYs[l])},r.prototype._getContainerSize=function(){return this.maxY=Math.max.apply(Math,this.colYs),{height:this.maxY}},r}var n=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++){var o=e[n];if(o===t)return n}return-1};"function"==typeof define&&define.amd?define(["outlayer","get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)}(window)}(),function(){Router.configure({layoutTemplate:"MasterLayout",loadingTemplate:"Loading",notFoundTemplate:"NotFound",templateNameConverter:"upperCamelCase",routeControllerNameConverter:"upperCamelCase"}),Router.map(function(){this.route("index",{path:"/",title:"Welcome to LetsLeak"}),this.route("forgot.password",{path:"/forgotPassword",title:"Forgot Password Assistant"}),this.route("create.account",{path:"/createAccount/:inviteCode",title:"Create Account"}),this.route("home",{path:"/home",title:"Home"}),this.route("settings",{path:"/home/settings",title:"Account Settings"}),this.route("status.message",{path:"/home/message/status/:_id",title:"Status Message"}),this.route("bucket",{path:"/home/bucket",title:"Buckets"}),this.route("user.bucket",{path:"/home/bucket/user",title:"My Buckets"}),this.route("bucket.insight",{path:"/home/bucket/insight/:_id",title:"Inside a Bucket"}),this.route("see.all.notification",{path:"/home/notification",title:"My Notifications"}),this.route("inbox",{path:"/home/inbox",title:"My Inbox"}),this.route("about.us",{path:"/whyLetsLeak"}),this.route("ground.rules",{path:"/GroundRules"}),this.route("faq",{path:"/FAQs",template:"FAQ"}),this.route("tnc",{path:"/TnC",template:"TnC"}),this.route("report",{path:"/Report"}),this.route("privacy",{path:"/Privacy"}),this.route("contactUs",{path:"/contactUs"})}),Router.onBeforeAction(function(){var e=this;App.extensions._addTitle(e.route.options.title),$("body").removeClass("modal-open")}),Router.onBeforeAction(function(){App.extensions._isLoggedIn()||App.extensions._logout(!0)},{except:["index","create.account","forgot.password","about.us","ground.rules","faq","tnc","report","contactUs","privacy"]}),Router.onBeforeAction(function(){App.extensions._isLoggedIn()&&Router.go("home")},{only:["index","create.account","forgot.password"]})}(),function(){var e,t=Package.meteor.Meteor,n=Package["accounts-base"].Accounts,r=Package.mongo.Mongo;(function(){"undefined"==typeof e&&(e={}),e.configurations=new r.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:t.isClient?n.connection:t.connection}),e.ConfigError=function(e){this.message=t.isClient&&!n.loginServicesConfigured()?"Login service configuration not yet loaded":e?"Service "+e+" not configured":"Service not configured"},e.ConfigError.prototype=new Error,e.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:e}}();